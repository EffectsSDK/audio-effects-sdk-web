/*! For license information please see atsvb.js.LICENSE.txt */var __webpack_modules__={9669:(e,t,n)=>{e.exports=n(1609);},5448:(e,t,n)=>{var r=n(4867),o=n(6026),i=n(4372),a=n(5327),s=n(4097),u=n(4109),l=n(7985),c=n(5061),f=n(7874),p=n(5263);e.exports=function(e){return new Promise(function(t,n){var d,h=e.data,g=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d);}r.isFormData(h)&&delete g["Content-Type"];var b=new XMLHttpRequest();if(e.auth){var _=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(_+":"+v);}var w=s(e.baseURL,e.url);function I(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};o(function(e){t(e),y();},function(e){n(e),y();},i),b=null;}}if(b.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=I:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(I);},b.onabort=function(){b&&(n(c("Request aborted",e,"ECONNABORTED",b)),b=null);},b.onerror=function(){n(c("Network Error",e,null,b)),b=null;},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null;},r.isStandardBrowserEnv()){var x=(e.withCredentials||l(w))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;x&&(g[e.xsrfHeaderName]=x);}"setRequestHeader"in b&&r.forEach(g,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e);}),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),m&&"json"!==m&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){b&&(n(!e||e&&e.type?new p("canceled"):e),b.abort(),b=null);},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),h||(h=null),b.send(h);});};},1609:(e,t,n)=>{var r=n(4867),o=n(1849),i=n(321),a=n(7185);var s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n));},s;}(n(5546));s.Axios=i,s.Cancel=n(5263),s.CancelToken=n(4972),s.isCancel=n(6502),s.VERSION=n(7288).version,s.all=function(e){return Promise.all(e);},s.spread=n(8713),s.isAxiosError=n(6268),e.exports=s,e.exports.default=s;},5263:e=>{function t(e){this.message=e;}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"");},t.prototype.__CANCEL__=!0,e.exports=t;},4972:(e,t,n)=>{var r=n(5263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e;});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null;}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e;}).then(e);return r.cancel=function(){n.unsubscribe(t);},r;},e(function(e){n.reason||(n.reason=new r(e),t(n.reason));});}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason;},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e];},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1);}},o.source=function(){var e;return{token:new o(function(t){e=t;}),cancel:e};},e.exports=o;},6502:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__);};},321:(e,t,n)=>{var r=n(4867),o=n(5327),i=n(782),a=n(3572),s=n(7185),u=n(4875),l=u.validators;function c(e){this.defaults=e,this.interceptors={request:new i(),response:new i()};}c.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected));});var i,c=[];if(this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected);}),!o){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(c),i=Promise.resolve(t);f.length;)i=i.then(f.shift(),f.shift());return i;}for(var p=t;r.length;){var d=r.shift(),h=r.shift();try{p=d(p);}catch(e){h(e);break;}}try{i=a(p);}catch(e){return Promise.reject(e);}for(;c.length;)i=i.then(c.shift(),c.shift());return i;},c.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"");},r.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}));};}),r.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}));};}),e.exports=c;},782:(e,t,n)=>{var r=n(4867);function o(){this.handlers=[];}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1;},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null);},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t);});},e.exports=o;},4097:(e,t,n)=>{var r=n(1793),o=n(7303);e.exports=function(e,t){return e&&!r(t)?o(e,t):t;};},5061:(e,t,n)=>{var r=n(481);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i);};},3572:(e,t,n)=>{var r=n(4867),o=n(8527),i=n(6502),a=n(5546),s=n(5263);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled");}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t];}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t;},function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t);});};},481:e=>{e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null};},e;};},7185:(e,t,n)=>{var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t;}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n]);}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e]);}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n]);}function u(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0;}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=l[e]||i,o=t(e);r.isUndefined(o)&&t!==u||(n[e]=o);}),n;};},6026:(e,t,n)=>{var r=n(5061);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n);};},8527:(e,t,n)=>{var r=n(4867),o=n(5546);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,function(n){e=n.call(i,e,t);}),e;};},5546:(e,t,n)=>{var r=n(4155),o=n(4867),i=n(6016),a=n(481),s=n(7874),u={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t);}var c,f={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(c=n(5448)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,n){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e);}catch(e){if("SyntaxError"!==e.name)throw e;}return(n||JSON.stringify)(e);}(e)):e;}],transformResponse:[function(e){var t=this.transitional||f.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&o.isString(e)&&e.length)try{return JSON.parse(e);}catch(e){if(i){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e;}}return e;}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300;},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(e){f.headers[e]={};}),o.forEach(["post","put","patch"],function(e){f.headers[e]=o.merge(u);}),e.exports=f;},7874:e=>{e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};},7288:e=>{e.exports={version:"0.26.1"};},1849:e=>{e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n);};};},5327:(e,t,n)=>{var r=n(4867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]");}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e));}));}),i=a.join("&");}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i;}return e;};},7303:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e;};},4372:(e,t,n)=>{var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ");},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null;},remove:function(e){this.write(e,"",Date.now()-864e5);}}:{write:function(){},read:function(){return null;},remove:function(){}};},1793:e=>{e.exports=function(e){return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);};},6268:(e,t,n)=>{var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError;};},7985:(e,t,n)=>{var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname};}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host;};}():function(){return!0;};},6016:(e,t,n)=>{var r=n(4867);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r]);});};},4109:(e,t,n)=>{var r=n(4867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n;}}),a):a;};},8713:e=>{e.exports=function(e){return function(t){return e.apply(null,t);};};},4875:(e,t,n)=>{var r=n(7288).version,o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e;};});var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"");}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a);};},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-->0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u);}else if(!0!==n)throw Error("Unknown option "+i);}},validators:o};},4867:(e,t,n)=>{var r=n(1849),o=Object.prototype.toString;function i(e){return Array.isArray(e);}function a(e){return void 0===e;}function s(e){return"[object ArrayBuffer]"===o.call(e);}function u(e){return null!==e&&"object"==typeof e;}function l(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype;}function c(e){return"[object Function]"===o.call(e);}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e);}e.exports={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e);},isFormData:function(e){return"[object FormData]"===o.call(e);},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer);},isString:function(e){return"string"==typeof e;},isNumber:function(e){return"number"==typeof e;},isObject:u,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e);},isFile:function(e){return"[object File]"===o.call(e);},isBlob:function(e){return"[object Blob]"===o.call(e);},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe);},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e);},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document;},forEach:f,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n;}for(var r=0,o=arguments.length;r<o;r++)f(arguments[r],n);return t;},extend:function(e,t,n){return f(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t;}),e;},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"");},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e;}};},2532:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},r(e);}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r);}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==r(t)?t:t+"";}n.d(t,{NI:()=>s,P1:()=>l,jK:()=>a,kF:()=>u});var a,s,u,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e);}return t=e,r=[{key:"getInstance",value:function(){return e._instance||(e._instance=new e()),e._instance;}}],(n=[{key:"subscribe",value:function(e){"function"==typeof e&&(this.onErrorFunction=e);}},{key:"notify",value:function(e){"function"==typeof this.onErrorFunction&&(e.emitter&&(e.message="[ ".concat(e.emitter," ]: ").concat(e.message)),e.type||(e.type=s.ERROR),this.onErrorFunction(e));}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r;}().getInstance();!function(e){e[e.PERFORMANCE_STOP=1001]="PERFORMANCE_STOP",e[e.REDUCE_LATENCY=1002]="REDUCE_LATENCY";}(a||(a={})),function(e){e.INFO="info",e.WARNING="warning",e.ERROR="error";}(s||(s={})),function(e){e.ATSVB="atsvb",e.STREAM_PROCESSOR="stream_processor",e.ML_INFERENCE="ml_inference",e.MODEL="model",e.WORKLET="worklet",e.WORKER="worker",e.MODEL_LOADER="model_loader";}(u||(u={}));},9742:(e,t)=>{t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r;},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n;}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l;},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(l(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("");};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4];}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("");}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;},8764:(e,t,n)=>{var r=n(9742),o=n(645),i=n(5826);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823;}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e;}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e);}return l(this,e,t,n);}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e;}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n);e=s(e,r);var o=e.write(t,n);o!==r&&(e=e.slice(0,o));return e;}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e;}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data);}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}(e,t);}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');}function f(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e;}function p(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e;}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e;}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0;}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0;}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r;}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1;}else if(n<0){if(!o)return-1;n=0;}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer");}function b(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2;}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a);}if(o){var c=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a;}else-1!==c&&(i-=i-c),c=-1;}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,p=0;p<u;p++)if(l(e,i+p)!==l(t,p)){f=!1;break;}if(f)return i;}return-1;}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s;}return a;}function v(e,t,n,r){return G(V(t,e.length-n),e,n,r);}function w(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t;}(t),e,n,r);}function I(e,t,n,r){return w(e,t,n,r);}function x(e,t,n,r){return G(j(t),e,n,r);}function A(e,t,n,r){return G(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i;}(t,e.length-n),e,n,r);}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n));}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,l=e[o],c=null,f=l>239?4:l>223?3:l>191?2:1;if(o+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&l)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u);}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=f;}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n;}(r);}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42;}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength;}catch(e){return!1;}}(),a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e;},u.from=function(e,t,n){return l(null,e,t,n);},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t);}(null,e,t,n);},u.allocUnsafe=function(e){return f(null,e);},u.allocUnsafeSlow=function(e){return f(null,e);},u.isBuffer=function(e){return!(null==e||!e._isBuffer);},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break;}return n<r?-1:r<n?1:0;},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length;}return r;},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this;},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this;},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this;},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments);},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e);},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">";},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){i=l[f],a=c[f];break;}return i<a?-1:a<i?1:0;},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n);},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0);},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1);},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0;}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)};};var E=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r;}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r;}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=$(e[i]);return o;}function k(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o;}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length");}function B(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range");}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o);}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255;}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range");}function L(e,t,n,r,i){return i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4;}function U(e,t,n,r,i){return i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8;}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e];}return n;},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r;},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r;},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e];},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8;},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1];},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3];},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3]);},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r;},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i;},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e];},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n;},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n;},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24;},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3];},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!0,23,4);},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!1,23,4);},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!0,52,8);},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!1,52,8);},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n;},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n;},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1;},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2;},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2;},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4;},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4;},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);B(this,e,t,n,o-1,-o);}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n;},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);B(this,e,t,n,o-1,-o);}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n;},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1;},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2;},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2;},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4;},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4;},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n);},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n);},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n);},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n);},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i;},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o);}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:V(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s];}return this;};var M=/[^+\/0-9A-Za-z-_]/g;function $(e){return e<16?"0"+e.toString(16):e.toString(16);}function V(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue;}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue;}o=n;continue;}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue;}n=65536+(o-55296<<10|n-56320);}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n);}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128);}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128);}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128);}}return i;}function j(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"");}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e;}(e));}function G(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o;}},645:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,p=n?-1:1,d=e[t+f];for(f+=p,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=p,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=l;}return(d?-1:1)*a*Math.pow(2,i-r);},t.write=function(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+d]=255&a,d+=h,a/=256,l-=8);e[n+d-h]|=128*g;};},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e);};},4155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined");}function i(){throw new Error("clearTimeout has not been defined");}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0);}catch(n){try{return t.call(null,e,0);}catch(n){return t.call(this,e,0);}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o;}catch(e){t=o;}try{n="function"==typeof clearTimeout?clearTimeout:i;}catch(e){n=i;}}();var s,u=[],l=!1,c=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&p());}function p(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length;}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e);}catch(t){try{return n.call(null,e);}catch(t){return n.call(this,e);}}}(e);}}function d(e,t){this.fun=e,this.array=t;}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||a(p);},d.prototype.run=function(){this.fun.apply(null,this.array);},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[];},r.binding=function(e){throw new Error("process.binding is not supported");},r.cwd=function(){return"/";},r.chdir=function(e){throw new Error("process.chdir is not supported");},r.umask=function(){return 0;};},9607:e=>{e.exports="data:application/javascript;base64,LyoqKioqKi8oZnVuY3Rpb24gKCkgewogIC8vIHdlYnBhY2tCb290c3RyYXAKICAvKioqKioqLwogICJ1c2Ugc3RyaWN0IjsKCiAgLyoqKioqKi8KICB2YXIgX193ZWJwYWNrX21vZHVsZXNfXyA9IHsKICAgIC8qKiovIi4vc3JjL3V0aWxzL2J1ZmZlcnMvYnVmZmVyUG9vbC50cyI6ICgKICAgIC8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgICAgICEqKiogLi9zcmMvdXRpbHMvYnVmZmVycy9idWZmZXJQb29sLnRzICoqKiEKICAgICAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uIF9zcmNfdXRpbHNfYnVmZmVyc19idWZmZXJQb29sVHMoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pOwogICAgICAvKiBoYXJtb255IGV4cG9ydCAqLwogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgewogICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0ICovIkJ1ZmZlclBvb2wiOiBmdW5jdGlvbiBCdWZmZXJQb29sKCkgewogICAgICAgICAgcmV0dXJuIC8qIGJpbmRpbmcgKi9fQnVmZmVyUG9vbDsKICAgICAgICB9CiAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKi8KICAgICAgfSk7CiAgICAgIGZ1bmN0aW9uIF90eXBlb2YobykgewogICAgICAgICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7CgogICAgICAgIHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiBvOwogICAgICAgIH0gOiBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsKICAgICAgICB9LCBfdHlwZW9mKG8pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7CiAgICAgICAgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICB2YXIgbyA9IHJbdF07CiAgICAgICAgICBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7CiAgICAgICAgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgInByb3RvdHlwZSIsIHsKICAgICAgICAgIHdyaXRhYmxlOiAhMQogICAgICAgIH0pLCBlOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsKICAgICAgICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCAic3RyaW5nIik7CiAgICAgICAgcmV0dXJuICJzeW1ib2wiID09IF90eXBlb2YoaSkgPyBpIDogaSArICIiOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7CiAgICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OwogICAgICAgIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOwogICAgICAgIGlmICh2b2lkIDAgIT09IGUpIHsKICAgICAgICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgImRlZmF1bHQiKTsKICAgICAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoInN0cmluZyIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOwogICAgICB9CiAgICAgIHZhciBfQnVmZmVyUG9vbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gQnVmZmVyUG9vbCgpIHsKICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXJQb29sKTsKICAgICAgICAgIHRoaXMudThCdWZmZXJzID0ge307CiAgICAgICAgICB0aGlzLmYzMkJ1ZmZlcnMgPSB7fTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhCdWZmZXJQb29sLCBbewogICAgICAgICAga2V5OiAiZ2V0QnVmZmVyIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCdWZmZXIodHlwZSwgbGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBfYSwgX2I7CiAgICAgICAgICAgIHZhciBidWZmZXJEaWN0ID0gdHlwZSA9PT0gImYzMiIgPyB0aGlzLmYzMkJ1ZmZlcnMgOiB0aGlzLnU4QnVmZmVyczsKICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IChfYiA9IChfYSA9IGJ1ZmZlckRpY3RbbGVuZ3RoXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvcCgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0eXBlID09PSAiZjMyIiA/IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKSA6IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7CiAgICAgICAgICAgIHJldHVybiBidWZmZXI7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAicmV0dXJuQnVmZmVyIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXR1cm5CdWZmZXIoYnVmZmVyKSB7CiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHsKICAgICAgICAgICAgICB0aGlzLnJldHVybkJ1ZmZlckFzKGJ1ZmZlciwgdGhpcy5mMzJCdWZmZXJzLCBidWZmZXIubGVuZ3RoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnJldHVybkJ1ZmZlckFzKGJ1ZmZlciwgdGhpcy51OEJ1ZmZlcnMsIGJ1ZmZlci5sZW5ndGgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAicmV0dXJuQnVmZmVyQXMiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJldHVybkJ1ZmZlckFzKGJ1ZmZlciwgYnVmZmVyTWFwLCBsZW5ndGgpIHsKICAgICAgICAgICAgdmFyIGJ1ZmZlckxpc3QgPSBidWZmZXJNYXBbbGVuZ3RoXTsKICAgICAgICAgICAgaWYgKGJ1ZmZlckxpc3QgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGJ1ZmZlckxpc3QucHVzaChidWZmZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGJ1ZmZlck1hcFtsZW5ndGhdID0gW2J1ZmZlcl07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9XSk7CiAgICAgIH0oKTsKCiAgICAgIC8qKiovCiAgICB9KSwKICAgIC8qKiovIi4vc3JjL3V0aWxzL2J1ZmZlcnMvcmluZ0J1ZmZlci50cyI6ICgKICAgIC8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgICAgICEqKiogLi9zcmMvdXRpbHMvYnVmZmVycy9yaW5nQnVmZmVyLnRzICoqKiEKICAgICAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uIF9zcmNfdXRpbHNfYnVmZmVyc19yaW5nQnVmZmVyVHMoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pOwogICAgICAvKiBoYXJtb255IGV4cG9ydCAqLwogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgewogICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0ICovIlJpbmdCdWZmZXIiOiBmdW5jdGlvbiBSaW5nQnVmZmVyKCkgewogICAgICAgICAgcmV0dXJuIC8qIGJpbmRpbmcgKi9fUmluZ0J1ZmZlcjsKICAgICAgICB9CiAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKi8KICAgICAgfSk7CiAgICAgIGZ1bmN0aW9uIF90eXBlb2YobykgewogICAgICAgICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7CgogICAgICAgIHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiBvOwogICAgICAgIH0gOiBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsKICAgICAgICB9LCBfdHlwZW9mKG8pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7CiAgICAgICAgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICB2YXIgbyA9IHJbdF07CiAgICAgICAgICBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7CiAgICAgICAgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgInByb3RvdHlwZSIsIHsKICAgICAgICAgIHdyaXRhYmxlOiAhMQogICAgICAgIH0pLCBlOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsKICAgICAgICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCAic3RyaW5nIik7CiAgICAgICAgcmV0dXJuICJzeW1ib2wiID09IF90eXBlb2YoaSkgPyBpIDogaSArICIiOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7CiAgICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OwogICAgICAgIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOwogICAgICAgIGlmICh2b2lkIDAgIT09IGUpIHsKICAgICAgICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgImRlZmF1bHQiKTsKICAgICAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoInN0cmluZyIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOwogICAgICB9CiAgICAgIHZhciBfUmluZ0J1ZmZlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gUmluZ0J1ZmZlcihsZW5ndGgpIHsKICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaW5nQnVmZmVyKTsKICAgICAgICAgIHRoaXMuX3JlYWRJbmRleCA9IDA7CiAgICAgICAgICB0aGlzLl93cml0ZUluZGV4ID0gMDsKICAgICAgICAgIHRoaXMuX2ZyYW1lc0F2YWlsYWJsZSA9IDA7CiAgICAgICAgICB0aGlzLl9jaGFubmVsRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhSaW5nQnVmZmVyLCBbewogICAgICAgICAga2V5OiAiZnJhbWVzQXZhaWxhYmxlIiwKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWVzQXZhaWxhYmxlOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogInB1c2giLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2goaW5wdXQpIHsKICAgICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA8IDEpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHNyY09mZnNldCA9IE1hdGgubWF4KDAsIGlucHV0Lmxlbmd0aCAtIHRoaXMuY2FwYWNpdHkpOwogICAgICAgICAgICB2YXIgZmlyc3RMZW4gPSBNYXRoLm1pbihpbnB1dC5sZW5ndGggLSBzcmNPZmZzZXQsIHRoaXMuY2FwYWNpdHkgLSB0aGlzLl93cml0ZUluZGV4KTsKICAgICAgICAgICAgdGhpcy5jb3B5RnJvbShpbnB1dCwgc3JjT2Zmc2V0LCB0aGlzLl93cml0ZUluZGV4LCBmaXJzdExlbik7CiAgICAgICAgICAgIHRoaXMuX3dyaXRlSW5kZXggPSAodGhpcy5fd3JpdGVJbmRleCArIGZpcnN0TGVuKSAlIHRoaXMuY2FwYWNpdHk7CiAgICAgICAgICAgIHNyY09mZnNldCArPSBmaXJzdExlbjsKICAgICAgICAgICAgdmFyIHNlY29uZExlbiA9IGlucHV0Lmxlbmd0aCAtIHNyY09mZnNldDsKICAgICAgICAgICAgaWYgKHNlY29uZExlbiA+IDApIHsKICAgICAgICAgICAgICB0aGlzLmNvcHlGcm9tKGlucHV0LCBzcmNPZmZzZXQsIHRoaXMuX3dyaXRlSW5kZXgsIHNlY29uZExlbik7CiAgICAgICAgICAgICAgdGhpcy5fd3JpdGVJbmRleCArPSBzZWNvbmRMZW47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5fZnJhbWVzQXZhaWxhYmxlICs9IGZpcnN0TGVuICsgc2Vjb25kTGVuOwogICAgICAgICAgICB0aGlzLl9mcmFtZXNBdmFpbGFibGUgPSBNYXRoLm1pbih0aGlzLl9mcmFtZXNBdmFpbGFibGUsIHRoaXMuY2FwYWNpdHkpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogInB1bGwiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHB1bGwob3V0cHV0KSB7CiAgICAgICAgICAgIHZhciBmaXJzdExlbiA9IE1hdGgubWluKG91dHB1dC5sZW5ndGgsIHRoaXMuX2ZyYW1lc0F2YWlsYWJsZSwgdGhpcy5jYXBhY2l0eSAtIHRoaXMuX3JlYWRJbmRleCk7CiAgICAgICAgICAgIGlmIChmaXJzdExlbiA8IDEpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jb3B5VG8ob3V0cHV0LCAwLCB0aGlzLl9yZWFkSW5kZXgsIGZpcnN0TGVuKTsKICAgICAgICAgICAgdGhpcy5fcmVhZEluZGV4ID0gKHRoaXMuX3JlYWRJbmRleCArIGZpcnN0TGVuKSAlIHRoaXMuY2FwYWNpdHk7CiAgICAgICAgICAgIHRoaXMuX2ZyYW1lc0F2YWlsYWJsZSAtPSBmaXJzdExlbjsKICAgICAgICAgICAgdmFyIHNlY29uZExlbiA9IE1hdGgubWluKG91dHB1dC5sZW5ndGggLSBmaXJzdExlbiwgdGhpcy5fZnJhbWVzQXZhaWxhYmxlKTsKICAgICAgICAgICAgaWYgKHNlY29uZExlbiA+IDApIHsKICAgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0gZmlyc3RMZW47CiAgICAgICAgICAgICAgdGhpcy5jb3B5VG8ob3V0cHV0LCBvdXRwdXRPZmZzZXQsIHRoaXMuX3JlYWRJbmRleCwgc2Vjb25kTGVuKTsKICAgICAgICAgICAgICB0aGlzLl9yZWFkSW5kZXggKz0gc2Vjb25kTGVuOwogICAgICAgICAgICAgIHRoaXMuX2ZyYW1lc0F2YWlsYWJsZSAtPSBzZWNvbmRMZW47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJ1cGRhdGVSZWFkSW5kZXgiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVJlYWRJbmRleChkZXN0aW5hdGlvbkxlbmd0aCkgewogICAgICAgICAgICB0aGlzLl9yZWFkSW5kZXggPSAodGhpcy5fcmVhZEluZGV4ICsgZGVzdGluYXRpb25MZW5ndGgpICUgdGhpcy5jYXBhY2l0eTsKICAgICAgICAgICAgdGhpcy5fZnJhbWVzQXZhaWxhYmxlID0gTWF0aC5tYXgodGhpcy5fZnJhbWVzQXZhaWxhYmxlIC0gZGVzdGluYXRpb25MZW5ndGgsIDApOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImRyb3AiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyb3AoY291bnQpIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVSZWFkSW5kZXgoY291bnQpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImNhcGFjaXR5IiwKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hhbm5lbERhdGEubGVuZ3RoOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImNvcHlGcm9tIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5RnJvbShpbnB1dCwgaW5wdXRPZmZzZXQsIHRoaXNPZmZzZXQsIGxlbmd0aCkgewogICAgICAgICAgICB0aGlzLl9jaGFubmVsRGF0YS5zZXQoaW5wdXQuc3ViYXJyYXkoaW5wdXRPZmZzZXQsIGlucHV0T2Zmc2V0ICsgbGVuZ3RoKSwgdGhpc09mZnNldCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiY29weVRvIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5VG8ob3V0cHV0LCBkc3RPZmZzZXQsIHRoaXNPZmZzZXQsIGxlbmd0aCkgewogICAgICAgICAgICBvdXRwdXQuc2V0KHRoaXMuX2NoYW5uZWxEYXRhLnN1YmFycmF5KHRoaXNPZmZzZXQsIHRoaXNPZmZzZXQgKyBsZW5ndGgpLCBkc3RPZmZzZXQpOwogICAgICAgICAgfQogICAgICAgIH1dKTsKICAgICAgfSgpOwoKICAgICAgLyoqKi8KICAgIH0pLAogICAgLyoqKi8iLi9zcmMvdXRpbHMvcmVzYW1wbGVyLnRzIjogKAogICAgLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAgICAgISoqKiAuL3NyYy91dGlscy9yZXNhbXBsZXIudHMgKioqIQogICAgICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgICAvKioqLwogICAgZnVuY3Rpb24gX3NyY191dGlsc19yZXNhbXBsZXJUcyhfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7CiAgICAgIC8qIGhhcm1vbnkgZXhwb3J0ICovCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7CiAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKi8iUmVzYW1wbGVyIjogZnVuY3Rpb24gUmVzYW1wbGVyKCkgewogICAgICAgICAgcmV0dXJuIC8qIGJpbmRpbmcgKi9fUmVzYW1wbGVyOwogICAgICAgIH0KICAgICAgICAvKiBoYXJtb255IGV4cG9ydCAqLwogICAgICB9KTsKICAgICAgZnVuY3Rpb24gX3R5cGVvZihvKSB7CiAgICAgICAgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsKCiAgICAgICAgcmV0dXJuIF90eXBlb2YgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICByZXR1cm4gdHlwZW9mIG87CiAgICAgICAgfSA6IGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICByZXR1cm4gbyAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvOwogICAgICAgIH0sIF90eXBlb2Yobyk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGEsIG4pIHsKICAgICAgICBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsKICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsKICAgICAgICAgIHZhciBvID0gclt0XTsKICAgICAgICAgIG8uZW51bWVyYWJsZSA9IG8uZW51bWVyYWJsZSB8fCAhMSwgby5jb25maWd1cmFibGUgPSAhMCwgInZhbHVlIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsKICAgICAgICByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCAicHJvdG90eXBlIiwgewogICAgICAgICAgd3JpdGFibGU6ICExCiAgICAgICAgfSksIGU7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgewogICAgICAgIHZhciBpID0gX3RvUHJpbWl0aXZlKHQsICJzdHJpbmciKTsKICAgICAgICByZXR1cm4gInN5bWJvbCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgIiI7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsKICAgICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7CiAgICAgICAgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07CiAgICAgICAgaWYgKHZvaWQgMCAhPT0gZSkgewogICAgICAgICAgdmFyIGkgPSBlLmNhbGwodCwgciB8fCAiZGVmYXVsdCIpOwogICAgICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOwogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICgic3RyaW5nIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7CiAgICAgIH0KICAgICAgdmFyIF9SZXNhbXBsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIGZ1bmN0aW9uIFJlc2FtcGxlcihpbnB1dFNhbXBsZVJhdGUsIG91dHB1dFNhbXBsZVJhdGUpIHsKICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNhbXBsZXIpOwogICAgICAgICAgdGhpcy5pbnB1dFNhbXBsZVJhdGUgPSBpbnB1dFNhbXBsZVJhdGU7CiAgICAgICAgICB0aGlzLm91dHB1dFNhbXBsZVJhdGUgPSBvdXRwdXRTYW1wbGVSYXRlOwogICAgICAgICAgdGhpcy5yYXRpbyA9IHRoaXMuaW5wdXRTYW1wbGVSYXRlIC8gdGhpcy5vdXRwdXRTYW1wbGVSYXRlOwogICAgICAgICAgdGhpcy5sZWZ0b3ZlciA9IG5ldyBGbG9hdDMyQXJyYXkoMCk7CiAgICAgICAgICB0aGlzLmZyYWN0aW9uYWxJbmRleCA9IDA7CiAgICAgICAgfQogICAgICAgIHJldHVybiBfY3JlYXRlQ2xhc3MoUmVzYW1wbGVyLCBbewogICAgICAgICAga2V5OiAiZmVlZCIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmVlZChpbnB1dEJsb2NrKSB7CiAgICAgICAgICAgIHZhciBjb21iaW5lZExlbmd0aCA9IHRoaXMubGVmdG92ZXIubGVuZ3RoICsgaW5wdXRCbG9jay5sZW5ndGg7CiAgICAgICAgICAgIHZhciBjb21iaW5lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGNvbWJpbmVkTGVuZ3RoKTsKICAgICAgICAgICAgY29tYmluZWREYXRhLnNldCh0aGlzLmxlZnRvdmVyLCAwKTsKICAgICAgICAgICAgY29tYmluZWREYXRhLnNldChpbnB1dEJsb2NrLCB0aGlzLmxlZnRvdmVyLmxlbmd0aCk7CiAgICAgICAgICAgIHZhciBtYXhPdXRwdXRTYW1wbGVzID0gTWF0aC5mbG9vcigoY29tYmluZWREYXRhLmxlbmd0aCAtIDEgLSB0aGlzLmZyYWN0aW9uYWxJbmRleCkgLyB0aGlzLnJhdGlvKTsKICAgICAgICAgICAgaWYgKG1heE91dHB1dFNhbXBsZXMgPD0gMCkgewogICAgICAgICAgICAgIHRoaXMubGVmdG92ZXIgPSBjb21iaW5lZERhdGE7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG91dHB1dEJsb2NrID0gbmV3IEZsb2F0MzJBcnJheShtYXhPdXRwdXRTYW1wbGVzKTsKICAgICAgICAgICAgdmFyIG91dHB1dEluZGV4ID0gMDsKICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5mcmFjdGlvbmFsSW5kZXg7CiAgICAgICAgICAgIHdoaWxlIChvdXRwdXRJbmRleCA8IG1heE91dHB1dFNhbXBsZXMpIHsKICAgICAgICAgICAgICB2YXIgaVBvcyA9IE1hdGguZmxvb3IocG9zaXRpb24pOwogICAgICAgICAgICAgIHZhciBhbHBoYSA9IHBvc2l0aW9uIC0gaVBvczsKICAgICAgICAgICAgICBpZiAoaVBvcyArIDEgPj0gY29tYmluZWREYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHZhciBzYW1wbGUgPSAoMSAtIGFscGhhKSAqIGNvbWJpbmVkRGF0YVtpUG9zXSArIGFscGhhICogY29tYmluZWREYXRhW2lQb3MgKyAxXTsKICAgICAgICAgICAgICBvdXRwdXRCbG9ja1tvdXRwdXRJbmRleCsrXSA9IHNhbXBsZTsKICAgICAgICAgICAgICBwb3NpdGlvbiArPSB0aGlzLnJhdGlvOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBjb25zdW1lZFVwVG8gPSBNYXRoLmZsb29yKHBvc2l0aW9uKTsKICAgICAgICAgICAgaWYgKGNvbnN1bWVkVXBUbyA8IGNvbWJpbmVkRGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICB0aGlzLmxlZnRvdmVyID0gY29tYmluZWREYXRhLnNsaWNlKGNvbnN1bWVkVXBUbyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5sZWZ0b3ZlciA9IG5ldyBGbG9hdDMyQXJyYXkoMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5mcmFjdGlvbmFsSW5kZXggPSBwb3NpdGlvbiAtIGNvbnN1bWVkVXBUbzsKICAgICAgICAgICAgcmV0dXJuIG91dHB1dEJsb2NrOwogICAgICAgICAgfQogICAgICAgIH1dKTsKICAgICAgfSgpOwoKICAgICAgLyoqKi8KICAgIH0pLAogICAgLyoqKi8iLi9zcmMvdXRpbHMvc3BlZWR1cF9zcGVlY2gudHMiOiAoCiAgICAvKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgICAgICEqKiogLi9zcmMvdXRpbHMvc3BlZWR1cF9zcGVlY2gudHMgKioqIQogICAgICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICAgIC8qKiovCiAgICBmdW5jdGlvbiBfc3JjX3V0aWxzX3NwZWVkdXBfc3BlZWNoVHMoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pOwogICAgICAvKiBoYXJtb255IGV4cG9ydCAqLwogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgewogICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0ICovIlNwZWVkdXBTcGVlY2giOiBmdW5jdGlvbiBTcGVlZHVwU3BlZWNoKCkgewogICAgICAgICAgcmV0dXJuIC8qIGJpbmRpbmcgKi9fU3BlZWR1cFNwZWVjaDsKICAgICAgICB9CiAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKi8KICAgICAgfSk7CiAgICAgIGZ1bmN0aW9uIF90eXBlb2YobykgewogICAgICAgICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7CgogICAgICAgIHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiBvOwogICAgICAgIH0gOiBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsKICAgICAgICB9LCBfdHlwZW9mKG8pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7CiAgICAgICAgaWYgKCEoYSBpbnN0YW5jZW9mIG4pKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICB2YXIgbyA9IHJbdF07CiAgICAgICAgICBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7CiAgICAgICAgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgInByb3RvdHlwZSIsIHsKICAgICAgICAgIHdyaXRhYmxlOiAhMQogICAgICAgIH0pLCBlOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsKICAgICAgICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCAic3RyaW5nIik7CiAgICAgICAgcmV0dXJuICJzeW1ib2wiID09IF90eXBlb2YoaSkgPyBpIDogaSArICIiOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7CiAgICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OwogICAgICAgIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOwogICAgICAgIGlmICh2b2lkIDAgIT09IGUpIHsKICAgICAgICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgImRlZmF1bHQiKTsKICAgICAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoInN0cmluZyIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOwogICAgICB9CiAgICAgIHZhciBfU3BlZWR1cFNwZWVjaCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gU3BlZWR1cFNwZWVjaCh3aW5kb3dTaXplLCBvdmVybGFwU2l6ZSkgewogICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwZWVkdXBTcGVlY2gpOwogICAgICAgICAgdGhpcy5zdG9yYWdlRmlsbCA9IDA7CiAgICAgICAgICB0aGlzLnN0b3JhZ2VQb3MgPSAwOwogICAgICAgICAgdGhpcy5jdXJyZW50U2FtcGxlSW5kZXggPSAwOwogICAgICAgICAgdGhpcy5kcm9wcGVkQ291bnRlciA9IDA7CiAgICAgICAgICB0aGlzLndpbmRvd1NpemUgPSB3aW5kb3dTaXplOwogICAgICAgICAgdGhpcy5fb3ZlcmxhcFNpemUgPSBvdmVybGFwU2l6ZTsKICAgICAgICAgIHRoaXMuc3RvcmFnZUJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkob3ZlcmxhcFNpemUpOwogICAgICAgICAgdGhpcy50ZW1wQnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheSh3aW5kb3dTaXplKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhTcGVlZHVwU3BlZWNoLCBbewogICAgICAgICAga2V5OiAib3ZlcmxhcFNpemUiLAogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vdmVybGFwU2l6ZTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJwcm9jZXNzIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9jZXNzKGlucHV0LCBvdXRwdXQpIHsKICAgICAgICAgICAgaWYgKG91dHB1dC5sZW5ndGggPCBpbnB1dC5sZW5ndGgpIHsKICAgICAgICAgICAgICB0aHJvdyBFcnJvcigiT3V0cHV0IGJ1ZmZlciBtdXN0IG5vdCBiZSBzaG9ydGVyIHRoYW4gaW5wdXQgYnVmZmVyIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5wdXQgPSBpbnB1dDsKICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5wdXRQb3MgPSAwOwogICAgICAgICAgICB0aGlzLmRyb3BwZWRDb3VudGVyID0gMDsKICAgICAgICAgICAgdmFyIHdyaXR0ZW4gPSAwOwogICAgICAgICAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgICAgICAgIHZhciBsYXN0V3JpdHRlbiA9IHRoaXMucHJvY2Vzc0NodW5rKG91dHB1dCwgd3JpdHRlbik7CiAgICAgICAgICAgICAgd3JpdHRlbiArPSBsYXN0V3JpdHRlbjsKICAgICAgICAgICAgICBpZiAobGFzdFdyaXR0ZW4gPCAxKSB7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuaW5JbnB1dCA+IDApIHsKICAgICAgICAgICAgICB2YXIgcmVtYWluZGVyID0gdGhpcy5yZWFkSW5wdXQodGhpcy5pbklucHV0LCB0cnVlKTsKICAgICAgICAgICAgICB0aGlzLnB1dFN0b3JhZ2UocmVtYWluZGVyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnB1dCA9IG51bGw7CiAgICAgICAgICAgIHJldHVybiB3cml0dGVuOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImRyb3BwZWRCeUxhc3RSdW4iLAogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyb3BwZWRDb3VudGVyOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImZsdXNoIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmbHVzaCgpIHsKICAgICAgICAgICAgdmFyIGxlZnRvdmVycyA9IHRoaXMucmVhZFN0b3JhZ2UodGhpcy5pblN0b3JhZ2UsIHRydWUpOwogICAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgICAgIHJldHVybiBsZWZ0b3ZlcnM7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAicmVzZXQiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICAgICAgICB0aGlzLnN0b3JhZ2VGaWxsID0gMDsKICAgICAgICAgICAgdGhpcy5zdG9yYWdlUG9zID0gMDsKICAgICAgICAgICAgdGhpcy5jdXJyZW50U2FtcGxlSW5kZXggPSAwOwogICAgICAgICAgICB0aGlzLmRyb3BwZWRDb3VudGVyID0gMDsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJwcm9jZXNzQ2h1bmsiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2Nlc3NDaHVuayhvdXRwdXQsIG91dHB1dFBvcykgewogICAgICAgICAgICBpZiAodGhpcy5pc1dpdGhpbk92ZXJsYXBQb3MpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcm9zc2ZhZGVDaHVuayhvdXRwdXQsIG91dHB1dFBvcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGJlZm9yZU5leHRXaW5kb3cgPSB0aGlzLndpbmRvd1NpemUgLSB0aGlzLndpbmRvd1BvczsKICAgICAgICAgICAgdmFyIGF2YWlsYWJsZVRvQ29weSA9IE1hdGgubWluKGJlZm9yZU5leHRXaW5kb3csIHRoaXMuYXZhaWxhYmxlKTsKICAgICAgICAgICAgdmFyIHJlbWFpbmVkT3V0cHV0Q2FwYWNpdHkgPSBvdXRwdXQubGVuZ3RoIC0gb3V0cHV0UG9zOwogICAgICAgICAgICB2YXIgY29weVNpemUgPSBNYXRoLm1pbihhdmFpbGFibGVUb0NvcHksIHJlbWFpbmVkT3V0cHV0Q2FwYWNpdHkpOwogICAgICAgICAgICBpZiAoY29weVNpemUgPCAxKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHNhbXBsZXMgPSB0aGlzLnB1bGwoY29weVNpemUpOwogICAgICAgICAgICBvdXRwdXQuc2V0KHNhbXBsZXMsIG91dHB1dFBvcyk7CiAgICAgICAgICAgIHRoaXMub25Qcm9jZXNzZWQoY29weVNpemUpOwogICAgICAgICAgICByZXR1cm4gY29weVNpemU7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiY3Jvc3NmYWRlQ2h1bmsiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyb3NzZmFkZUNodW5rKG91dHB1dCwgb3V0cHV0UG9zKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmF2YWlsYWJsZSA8IHRoaXMub3ZlcmxhcFNpemUgKyAxKSB7CiAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG92ZXJsYXBTdGFydCA9IHRoaXMud2luZG93UG9zOwogICAgICAgICAgICB2YXIgb3ZlcmxhcENvdW50ID0gTWF0aC5taW4odGhpcy5hdmFpbGFibGUgLSB0aGlzLm92ZXJsYXBTaXplLCB0aGlzLm92ZXJsYXBTaXplIC0gb3ZlcmxhcFN0YXJ0KTsKICAgICAgICAgICAgdmFyIGlzT3ZlcmxhcEZpbmlzaGVkID0gb3ZlcmxhcFN0YXJ0ICsgb3ZlcmxhcENvdW50ID49IHRoaXMub3ZlcmxhcFNpemU7CiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRoaXMucHVsbChvdmVybGFwQ291bnQpOwogICAgICAgICAgICB2YXIgc2Vjb25kID0gaXNPdmVybGFwRmluaXNoZWQgPyB0aGlzLnB1bGwodGhpcy5vdmVybGFwU2l6ZSkgOiB0aGlzLnBlZWsodGhpcy5vdmVybGFwU2l6ZSk7CiAgICAgICAgICAgIHZhciBzZWNvbmRPZmZzZXQgPSB0aGlzLm92ZXJsYXBTaXplIC0gb3ZlcmxhcENvdW50OwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG92ZXJsYXBDb3VudDsgKytpKSB7CiAgICAgICAgICAgICAgdmFyIGZhZGVJbiA9IChpICsgb3ZlcmxhcFN0YXJ0KSAvIHRoaXMub3ZlcmxhcFNpemU7CiAgICAgICAgICAgICAgdmFyIGZhZGVPdXQgPSAxIC0gZmFkZUluOwogICAgICAgICAgICAgIG91dHB1dFtvdXRwdXRQb3MrK10gPSBmaXJzdFtpXSAqIGZhZGVPdXQgKyBzZWNvbmRbaSArIHNlY29uZE9mZnNldF0gKiBmYWRlSW47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5kcm9wcGVkQ291bnRlciArPSBvdmVybGFwQ291bnQ7CiAgICAgICAgICAgIHRoaXMub25Qcm9jZXNzZWQob3ZlcmxhcENvdW50KTsKICAgICAgICAgICAgaWYgKGlzT3ZlcmxhcEZpbmlzaGVkKSB7CiAgICAgICAgICAgICAgdGhpcy5vblByb2Nlc3NlZCh0aGlzLm92ZXJsYXBTaXplKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gb3ZlcmxhcENvdW50OwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIndpbmRvd1BvcyIsCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFNhbXBsZUluZGV4ICUgdGhpcy53aW5kb3dTaXplOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImlzV2l0aGluT3ZlcmxhcFBvcyIsCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMud2luZG93UG9zIDwgdGhpcy5vdmVybGFwU2l6ZSAqIDI7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAib25Qcm9jZXNzZWQiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvY2Vzc2VkKG51bSkgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRTYW1wbGVJbmRleCArPSBudW07CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiYXZhaWxhYmxlIiwKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5pblN0b3JhZ2UgKyB0aGlzLmluSW5wdXQ7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAicHVsbCIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHVsbChudW0pIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZChudW0sIHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogInBlZWsiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBlZWsobnVtKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWQobnVtLCBmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAicmVhZCIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZChudW0sIHB1bGxNb2RlKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmluU3RvcmFnZSA8IDEpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkSW5wdXQobnVtLCBwdWxsTW9kZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGZpcnN0ID0gdGhpcy5yZWFkU3RvcmFnZShudW0sIHB1bGxNb2RlKTsKICAgICAgICAgICAgaWYgKGZpcnN0Lmxlbmd0aCA+PSBudW0pIHsKICAgICAgICAgICAgICByZXR1cm4gZmlyc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHNlY29uZCA9IHRoaXMucmVhZElucHV0KG51bSAtIGZpcnN0Lmxlbmd0aCwgcHVsbE1vZGUpOwogICAgICAgICAgICB0aGlzLnRlbXBCdWZmZXIuc2V0KGZpcnN0KTsKICAgICAgICAgICAgdGhpcy50ZW1wQnVmZmVyLnNldChzZWNvbmQsIGZpcnN0Lmxlbmd0aCk7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBCdWZmZXIuc3ViYXJyYXkoMCwgZmlyc3QubGVuZ3RoICsgc2Vjb25kLmxlbmd0aCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiaW5JbnB1dCIsCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudElucHV0Lmxlbmd0aCAtIHRoaXMuY3VycmVudElucHV0UG9zOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogInJlYWRJbnB1dCIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZElucHV0KG51bSwgcHVsbE1vZGUpIHsKICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuY3VycmVudElucHV0UG9zOwogICAgICAgICAgICB2YXIgZW5kUG9zID0gTWF0aC5taW4ocG9zICsgbnVtLCB0aGlzLmN1cnJlbnRJbnB1dC5sZW5ndGgpOwogICAgICAgICAgICBpZiAocHVsbE1vZGUpIHsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnB1dFBvcyA9IGVuZFBvczsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SW5wdXQuc3ViYXJyYXkocG9zLCBlbmRQb3MpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImluU3RvcmFnZSIsCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZUZpbGwgLSB0aGlzLnN0b3JhZ2VQb3M7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAicmVhZFN0b3JhZ2UiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWRTdG9yYWdlKG51bSwgcHVsbE1vZGUpIHsKICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuc3RvcmFnZVBvczsKICAgICAgICAgICAgdmFyIGVuZFBvcyA9IE1hdGgubWluKHRoaXMuc3RvcmFnZVBvcyArIG51bSwgdGhpcy5zdG9yYWdlRmlsbCk7CiAgICAgICAgICAgIGlmIChwdWxsTW9kZSkgewogICAgICAgICAgICAgIHRoaXMuc3RvcmFnZVBvcyA9IGVuZFBvczsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlQnVmZmVyLnN1YmFycmF5KHBvcywgZW5kUG9zKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJwdXRTdG9yYWdlIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwdXRTdG9yYWdlKHNhbXBsZXMpIHsKICAgICAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXMuaW5TdG9yYWdlOwogICAgICAgICAgICB0aGlzLnN0b3JhZ2VCdWZmZXIuY29weVdpdGhpbigwLCB0aGlzLnN0b3JhZ2VQb3MsIHJlbWFpbmRlcik7CiAgICAgICAgICAgIHRoaXMuc3RvcmFnZUJ1ZmZlci5zZXQoc2FtcGxlcywgcmVtYWluZGVyKTsKICAgICAgICAgICAgdGhpcy5zdG9yYWdlUG9zID0gMDsKICAgICAgICAgICAgdGhpcy5zdG9yYWdlRmlsbCA9IHJlbWFpbmRlciArIHNhbXBsZXMubGVuZ3RoOwogICAgICAgICAgfQogICAgICAgIH1dLCBbewogICAgICAgICAga2V5OiAibWFrZUZvclNhbXBsZVJhdGUiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VGb3JTYW1wbGVSYXRlKHNhbXBsZVJhdGUpIHsKICAgICAgICAgICAgdmFyIHdpbmRvd1NpemUgPSBNYXRoLnJvdW5kKHNhbXBsZVJhdGUgLyAxNjAwMCAqIDIwNDgpOwogICAgICAgICAgICB2YXIgb3ZlcmxhcFNpemUgPSBNYXRoLnJvdW5kKHdpbmRvd1NpemUgLyA1KTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBTcGVlZHVwU3BlZWNoKHdpbmRvd1NpemUsIG92ZXJsYXBTaXplKTsKICAgICAgICAgIH0KICAgICAgICB9XSk7CiAgICAgIH0oKTsKCiAgICAgIC8qKiovCiAgICB9KSwKICAgIC8qKiovIi4vc3JjL3dvcmtlcnMvcG9zdG1lc3NhZ2VUeXBlcy50cyI6ICgKICAgIC8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgICAgICEqKiogLi9zcmMvd29ya2Vycy9wb3N0bWVzc2FnZVR5cGVzLnRzICoqKiEKICAgICAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgLyoqKi8KICAgIGZ1bmN0aW9uIF9zcmNfd29ya2Vyc19wb3N0bWVzc2FnZVR5cGVzVHMoX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pOwogICAgICAvKiBoYXJtb255IGV4cG9ydCAqLwogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgewogICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0ICovIldPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRSI6IGZ1bmN0aW9uIFdPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRSgpIHsKICAgICAgICAgIHJldHVybiAvKiBiaW5kaW5nICovX1dPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRTsKICAgICAgICB9LAogICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0ICovIldPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUiOiBmdW5jdGlvbiBXT1JLTEVUX1BST0NFU1NPUl9QT1NUTUVTU0FHRV9UWVBFKCkgewogICAgICAgICAgcmV0dXJuIC8qIGJpbmRpbmcgKi9fV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRTsKICAgICAgICB9CiAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKi8KICAgICAgfSk7CiAgICAgIHZhciBfV09SS0VSX1BST0NFU1NPUl9QT1NUTUVTU0FHRV9UWVBFOwogICAgICAoZnVuY3Rpb24gKFdPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRSkgewogICAgICAgIFdPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRVsiUFJPQ0VTU09SX1JFQURZIl0gPSAicHJvY2Vzc29yX3JlYWR5IjsKICAgICAgICBXT1JLRVJfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEVbIldPUktMRVRfUE9SVCJdID0gIndvcmtsZXRfcG9ydCI7CiAgICAgICAgV09SS0VSX1BST0NFU1NPUl9QT1NUTUVTU0FHRV9UWVBFWyJERU5PSVNFX1BPV0VSIl0gPSAiZGVub2lzZV9wb3dlciI7CiAgICAgICAgV09SS0VSX1BST0NFU1NPUl9QT1NUTUVTU0FHRV9UWVBFWyJFUlJPUiJdID0gImVycm9yIjsKICAgICAgICBXT1JLRVJfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEVbIklOSVQiXSA9ICJpbml0IjsKICAgICAgICBXT1JLRVJfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEVbIkNMRUFOIl0gPSAiY2xlYW4iOwogICAgICAgIFdPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRVsiREJHX0RFTEFZX1BST0NFU1NJTkciXSA9ICJkZWxheV9wcm9jZXNzaW5nIjsKICAgICAgfSkoX1dPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRSB8fCAoX1dPUktFUl9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRSA9IHt9KSk7CiAgICAgIHZhciBfV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRTsKICAgICAgKGZ1bmN0aW9uIChXT1JLTEVUX1BST0NFU1NPUl9QT1NUTUVTU0FHRV9UWVBFKSB7CiAgICAgICAgV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRVsiU1RBUlRfUFJPQ0VTU0lORyJdID0gInN0YXJ0X3Byb2Nlc3NpbmciOwogICAgICAgIFdPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEVbIlNUT1BfUFJPQ0VTU0lORyJdID0gInN0b3BfcHJvY2Vzc2luZyI7CiAgICAgICAgV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRVsiUFJPQ0VTU0lOR19DSFVOSyJdID0gInByb2Nlc3NpbmdfY2h1bmsiOwogICAgICAgIFdPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEVbIldPUktFUl9QT1JUIl0gPSAid29ya2VyX3BvcnQiOwogICAgICAgIFdPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEVbIlBFUkZPUk1BTkNFX1NUT1AiXSA9ICJwZXJmb3JtYW5jZV9zdG9wIjsKICAgICAgICBXT1JLTEVUX1BST0NFU1NPUl9QT1NUTUVTU0FHRV9UWVBFWyJTUEVFRFVQX1ZPSUNFIl0gPSAic3BlZWR1cF92b2ljZSI7CiAgICAgICAgV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRVsiTU9ERUxfU0FNUExFX1JBVEUiXSA9ICJtb2RlbF9zYW1wbGVfcmF0ZSI7CiAgICAgICAgV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRVsiRVJST1IiXSA9ICJlcnJvciI7CiAgICAgICAgV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRVsiSU5GTyJdID0gImluZm8iOwogICAgICAgIFdPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEVbIkRCR19QVVNIX1NJTEVOQ0UiXSA9ICJwdXNoX3NpbGVuY2UiOwogICAgICB9KShfV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRSB8fCAoX1dPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUgPSB7fSkpOwoKICAgICAgLyoqKi8KICAgIH0pCgogICAgLyoqKioqKi8KICB9OwogIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgLyoqKioqKi8gLy8gVGhlIG1vZHVsZSBjYWNoZQogIC8qKioqKiovCiAgdmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9OwogIC8qKioqKiovCiAgLyoqKioqKi8gLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb24KICAvKioqKioqLwogIGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHsKICAgIC8qKioqKiovIC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZQogICAgLyoqKioqKi92YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTsKICAgIC8qKioqKiovCiAgICBpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgLyoqKioqKi9yZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7CiAgICAgIC8qKioqKiovCiAgICB9CiAgICAvKioqKioqLyAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKQogICAgLyoqKioqKi8KICAgIHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0gewogICAgICAvKioqKioqLyAvLyBubyBtb2R1bGUuaWQgbmVlZGVkCiAgICAgIC8qKioqKiovIC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkCiAgICAgIC8qKioqKiovZXhwb3J0czoge30KICAgICAgLyoqKioqKi8KICAgIH07CiAgICAvKioqKioqLwogICAgLyoqKioqKi8gLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCiAgICAvKioqKioqLwogICAgX193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CiAgICAvKioqKioqLwogICAgLyoqKioqKi8gLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKICAgIC8qKioqKiovCiAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICAvKioqKioqLwogIH0KICAvKioqKioqLwogIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiAgLyoqKioqKi8gLyogd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzICovCiAgLyoqKioqKi8KICAoZnVuY3Rpb24gKCkgewogICAgLyoqKioqKi8gLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0cwogICAgLyoqKioqKi9fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbiAoZXhwb3J0cywgZGVmaW5pdGlvbikgewogICAgICAvKioqKioqL2ZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7CiAgICAgICAgLyoqKioqKi9pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7CiAgICAgICAgICAvKioqKioqL09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsKICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgZ2V0OiBkZWZpbml0aW9uW2tleV0KICAgICAgICAgIH0pOwogICAgICAgICAgLyoqKioqKi8KICAgICAgICB9CiAgICAgICAgLyoqKioqKi8KICAgICAgfQogICAgICAvKioqKioqLwogICAgfTsKICAgIC8qKioqKiovCiAgfSkoKTsKICAvKioqKioqLwogIC8qKioqKiovIC8qIHdlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQgKi8KICAvKioqKioqLwogIChmdW5jdGlvbiAoKSB7CiAgICAvKioqKioqL19fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uIChvYmosIHByb3ApIHsKICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOwogICAgfTsKICAgIC8qKioqKiovCiAgfSkoKTsKICAvKioqKioqLwogIC8qKioqKiovIC8qIHdlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QgKi8KICAvKioqKioqLwogIChmdW5jdGlvbiAoKSB7CiAgICAvKioqKioqLyAvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzCiAgICAvKioqKioqL19fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uIChleHBvcnRzKSB7CiAgICAgIC8qKioqKiovaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykgewogICAgICAgIC8qKioqKiovT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgewogICAgICAgICAgdmFsdWU6ICdNb2R1bGUnCiAgICAgICAgfSk7CiAgICAgICAgLyoqKioqKi8KICAgICAgfQogICAgICAvKioqKioqLwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7CiAgICAgICAgdmFsdWU6IHRydWUKICAgICAgfSk7CiAgICAgIC8qKioqKiovCiAgICB9OwogICAgLyoqKioqKi8KICB9KSgpOwogIC8qKioqKiovCiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KICB2YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IHt9OwogIC8vIFRoaXMgZW50cnkgbmVlZCB0byBiZSB3cmFwcGVkIGluIGFuIElJRkUgYmVjYXVzZSBpdCBuZWVkIHRvIGJlIGlzb2xhdGVkIGFnYWluc3Qgb3RoZXIgbW9kdWxlcyBpbiB0aGUgY2h1bmsuCiAgKGZ1bmN0aW9uICgpIHsKICAgIC8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICAgICAhKioqIC4vc3JjL3dvcmtlcnMvd29ya2xldF9wcm9jZXNzb3IudHMgKioqIQogICAgICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pOwogICAgLyogaGFybW9ueSBpbXBvcnQgKi8KICAgIHZhciBfdXRpbHNfYnVmZmVyc19yaW5nQnVmZmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9idWZmZXJzL3JpbmdCdWZmZXIgKi8iLi9zcmMvdXRpbHMvYnVmZmVycy9yaW5nQnVmZmVyLnRzIik7CiAgICAvKiBoYXJtb255IGltcG9ydCAqLwogICAgdmFyIF91dGlsc19idWZmZXJzX2J1ZmZlclBvb2xfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlcnMvYnVmZmVyUG9vbCAqLyIuL3NyYy91dGlscy9idWZmZXJzL2J1ZmZlclBvb2wudHMiKTsKICAgIC8qIGhhcm1vbnkgaW1wb3J0ICovCiAgICB2YXIgX3V0aWxzX3Jlc2FtcGxlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvcmVzYW1wbGVyICovIi4vc3JjL3V0aWxzL3Jlc2FtcGxlci50cyIpOwogICAgLyogaGFybW9ueSBpbXBvcnQgKi8KICAgIHZhciBfdXRpbHNfc3BlZWR1cF9zcGVlY2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL3NwZWVkdXBfc3BlZWNoICovIi4vc3JjL3V0aWxzL3NwZWVkdXBfc3BlZWNoLnRzIik7CiAgICAvKiBoYXJtb255IGltcG9ydCAqLwogICAgdmFyIF9wb3N0bWVzc2FnZVR5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Bvc3RtZXNzYWdlVHlwZXMgKi8iLi9zcmMvd29ya2Vycy9wb3N0bWVzc2FnZVR5cGVzLnRzIik7CiAgICBmdW5jdGlvbiBfdHlwZW9mKG8pIHsKICAgICAgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsKCiAgICAgIHJldHVybiBfdHlwZW9mID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiB0eXBlb2YgbzsKICAgICAgfSA6IGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2YgbzsKICAgICAgfSwgX3R5cGVvZihvKTsKICAgIH0KICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7CiAgICAgIGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICB9CiAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyhlLCByKSB7CiAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgewogICAgICAgIHZhciBvID0gclt0XTsKICAgICAgICBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLCByLCB0KSB7CiAgICAgIHJldHVybiByICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLCByKSwgdCAmJiBfZGVmaW5lUHJvcGVydGllcyhlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsICJwcm90b3R5cGUiLCB7CiAgICAgICAgd3JpdGFibGU6ICExCiAgICAgIH0pLCBlOwogICAgfQogICAgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgewogICAgICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCAic3RyaW5nIik7CiAgICAgIHJldHVybiAic3ltYm9sIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyAiIjsKICAgIH0KICAgIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7CiAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsKICAgICAgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07CiAgICAgIGlmICh2b2lkIDAgIT09IGUpIHsKICAgICAgICB2YXIgaSA9IGUuY2FsbCh0LCByIHx8ICJkZWZhdWx0Iik7CiAgICAgICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOwogICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIik7CiAgICAgIH0KICAgICAgcmV0dXJuICgic3RyaW5nIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7CiAgICB9CiAgICBmdW5jdGlvbiBfY2FsbFN1cGVyKHQsIG8sIGUpIHsKICAgICAgcmV0dXJuIG8gPSBfZ2V0UHJvdG90eXBlT2YobyksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSA/IFJlZmxlY3QuY29uc3RydWN0KG8sIGUgfHwgW10sIF9nZXRQcm90b3R5cGVPZih0KS5jb25zdHJ1Y3RvcikgOiBvLmFwcGx5KHQsIGUpKTsKICAgIH0KICAgIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsKICAgICAgaWYgKGUgJiYgKCJvYmplY3QiID09IF90eXBlb2YoZSkgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSkpIHJldHVybiBlOwogICAgICBpZiAodm9pZCAwICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZCIpOwogICAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsKICAgIH0KICAgIGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoZSkgewogICAgICBpZiAodm9pZCAwID09PSBlKSB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOwogICAgICByZXR1cm4gZTsKICAgIH0KICAgIGZ1bmN0aW9uIF9pbmhlcml0cyh0LCBlKSB7CiAgICAgIGlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiBlICYmIG51bGwgIT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7CiAgICAgIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgIHZhbHVlOiB0LAogICAgICAgICAgd3JpdGFibGU6ICEwLAogICAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICAgIH0KICAgICAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCAicHJvdG90eXBlIiwgewogICAgICAgIHdyaXRhYmxlOiAhMQogICAgICB9KSwgZSAmJiBfc2V0UHJvdG90eXBlT2YodCwgZSk7CiAgICB9CiAgICBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKHQpIHsKICAgICAgdmFyIHIgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBNYXAgPyBuZXcgTWFwKCkgOiB2b2lkIDA7CiAgICAgIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcih0KSB7CiAgICAgICAgaWYgKG51bGwgPT09IHQgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKHQpKSByZXR1cm4gdDsKICAgICAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgdCkgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsKICAgICAgICBpZiAodm9pZCAwICE9PSByKSB7CiAgICAgICAgICBpZiAoci5oYXModCkpIHJldHVybiByLmdldCh0KTsKICAgICAgICAgIHIuc2V0KHQsIFdyYXBwZXIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBXcmFwcGVyKCkgewogICAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QodCwgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLCB7CiAgICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgICB2YWx1ZTogV3JhcHBlciwKICAgICAgICAgICAgZW51bWVyYWJsZTogITEsCiAgICAgICAgICAgIHdyaXRhYmxlOiAhMCwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICAgICAgfQogICAgICAgIH0pLCBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgdCk7CiAgICAgIH0sIF93cmFwTmF0aXZlU3VwZXIodCk7CiAgICB9CiAgICBmdW5jdGlvbiBfY29uc3RydWN0KHQsIGUsIHIpIHsKICAgICAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICAgIHZhciBvID0gW251bGxdOwogICAgICBvLnB1c2guYXBwbHkobywgZSk7CiAgICAgIHZhciBwID0gbmV3ICh0LmJpbmQuYXBwbHkodCwgbykpKCk7CiAgICAgIHJldHVybiByICYmIF9zZXRQcm90b3R5cGVPZihwLCByLnByb3RvdHlwZSksIHA7CiAgICB9CiAgICBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgewogICAgICB0cnkgewogICAgICAgIHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsKICAgICAgfSBjYXRjaCAodCkge30KICAgICAgcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsKICAgICAgICByZXR1cm4gISF0OwogICAgICB9KSgpOwogICAgfQogICAgZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24odCkgewogICAgICB0cnkgewogICAgICAgIHJldHVybiAtMSAhPT0gRnVuY3Rpb24udG9TdHJpbmcuY2FsbCh0KS5pbmRleE9mKCJbbmF0aXZlIGNvZGVdIik7CiAgICAgIH0gY2F0Y2ggKG4pIHsKICAgICAgICByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdDsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsKICAgICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiB0Ll9fcHJvdG9fXyA9IGUsIHQ7CiAgICAgIH0sIF9zZXRQcm90b3R5cGVPZih0LCBlKTsKICAgIH0KICAgIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZih0KSB7CiAgICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOwogICAgICB9LCBfZ2V0UHJvdG90eXBlT2YodCk7CiAgICB9CiAgICB2YXIgV29ya2xldFByb2Nlc3NvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0F1ZGlvV29ya2xldFByb2Nlc3NvKSB7CiAgICAgIGZ1bmN0aW9uIFdvcmtsZXRQcm9jZXNzb3Iob3B0aW9ucykgewogICAgICAgIHZhciBfdGhpczsKICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV29ya2xldFByb2Nlc3Nvcik7CiAgICAgICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIFdvcmtsZXRQcm9jZXNzb3IpOwogICAgICAgIF90aGlzLl9uZWVkUHJvY2Vzc2luZyA9IGZhbHNlOwogICAgICAgIF90aGlzLl9tb2RlbFNhbXBsZVJhdGUgPSA0ODAwMDsKICAgICAgICBfdGhpcy5fcHJvY2Vzc2luZ0NodW5rSW5NcyA9IDY0OwogICAgICAgIF90aGlzLl9wcm9jZXNzaW5nQ2h1bmsgPSA1MTI7CiAgICAgICAgX3RoaXMuX2RlbGF5ZWRGcmFtZXNUaHJlc2hvbGQgPSAwOwogICAgICAgIF90aGlzLl9wcmV2RGVsYXlDaGVja1RpbWVzdGFtcCA9IDA7CiAgICAgICAgX3RoaXMuX2RlbGF5Q2hlY2tJbnRlcnZhbFNlY3MgPSAzOwogICAgICAgIF90aGlzLl9taW5BdmFpbGFibGVGcmFtZXNGb3JJbnRlcnZhbCA9IDA7CiAgICAgICAgX3RoaXMuX3NhbXBsZXNUb1JlZHVjZSA9IDA7CiAgICAgICAgX3RoaXMuX3NhbXBsZXNJbldvcmtlciA9IDA7CiAgICAgICAgX3RoaXMuX25lZWRSZXNhbXBsaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMuX3NwZWVkdXBTcGVlY2hEcm9wcGVkU3VtID0gMDsKICAgICAgICBfdGhpcy5fZmFkZUluT3V0U2l6ZSA9IDY0OwogICAgICAgIF90aGlzLl9mYWRlU2FtcGxlSW5kZXggPSAwOwogICAgICAgIGlmIChvcHRpb25zLnByb2Nlc3Nvck9wdGlvbnMucHJvY2Vzc2luZ0NodW5rKSB7CiAgICAgICAgICBfdGhpcy5fcHJvY2Vzc2luZ0NodW5rSW5NcyA9IG9wdGlvbnMucHJvY2Vzc29yT3B0aW9ucy5wcm9jZXNzaW5nQ2h1bms7CiAgICAgICAgfQogICAgICAgIF90aGlzLl9tb2RlbFNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlOwogICAgICAgIF90aGlzLl9wcm9jZXNzaW5nQ2h1bmsgPSBNYXRoLnJvdW5kKF90aGlzLl9wcm9jZXNzaW5nQ2h1bmtJbk1zIC8gMTAwMCAqIHNhbXBsZVJhdGUpOwogICAgICAgIF90aGlzLnVwZGF0ZVJlc2FtcGxpbmcoKTsKICAgICAgICBfdGhpcy5pbml0QnVmZmVycygpOwogICAgICAgIF90aGlzLnBvcnQub25tZXNzYWdlID0gX3RoaXMub25NZXNzYWdlLmJpbmQoX3RoaXMpOwogICAgICAgIF90aGlzLl9idWZmZXJQb29sID0gbmV3IF91dGlsc19idWZmZXJzX2J1ZmZlclBvb2xfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXy5CdWZmZXJQb29sKCk7CiAgICAgICAgX3RoaXMucG9ydC5wb3N0TWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiBfcG9zdG1lc3NhZ2VUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fLldPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUuSU5GTywKICAgICAgICAgIG1lc3NhZ2U6ICdXb3JrbGV0IFByb2Nlc3NvciBpcyBlbmFibGVkIGZyb20gc21hcGxlIHJhdGU6ICcgKyBzYW1wbGVSYXRlICsgJ0h6LCBwcm9jZXNzaW5nIGNodW5rOiAnICsgX3RoaXMuX3Byb2Nlc3NpbmdDaHVua0luTXMgKyAnbXMuJwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBfdGhpczsKICAgICAgfQogICAgICBfaW5oZXJpdHMoV29ya2xldFByb2Nlc3NvciwgX0F1ZGlvV29ya2xldFByb2Nlc3NvKTsKICAgICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhXb3JrbGV0UHJvY2Vzc29yLCBbewogICAgICAgIGtleTogInVwZGF0ZVJlc2FtcGxpbmciLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVSZXNhbXBsaW5nKCkgewogICAgICAgICAgdGhpcy5fbmVlZFJlc2FtcGxpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuX3NwZWVkdXBTcGVlY2ggPSBfdXRpbHNfc3BlZWR1cF9zcGVlY2hfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXy5TcGVlZHVwU3BlZWNoLm1ha2VGb3JTYW1wbGVSYXRlKHNhbXBsZVJhdGUpOwogICAgICAgICAgdGhpcy5fc3BlZWR1cFNwZWVjaEJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoMCk7CiAgICAgICAgICBpZiAodGhpcy5fbW9kZWxTYW1wbGVSYXRlICE9PSBzYW1wbGVSYXRlKSB7CiAgICAgICAgICAgIHRoaXMuX25lZWRSZXNhbXBsaW5nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5faW5wdXRSZXNhbXBsZXIgPSBuZXcgX3V0aWxzX3Jlc2FtcGxlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fLlJlc2FtcGxlcihzYW1wbGVSYXRlLCB0aGlzLl9tb2RlbFNhbXBsZVJhdGUpOwogICAgICAgICAgICB0aGlzLl9vdXRwdXRSZXNhbXBsZXIgPSBuZXcgX3V0aWxzX3Jlc2FtcGxlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fLlJlc2FtcGxlcih0aGlzLl9tb2RlbFNhbXBsZVJhdGUsIHNhbXBsZVJhdGUpOwogICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6IF9wb3N0bWVzc2FnZVR5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18uV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRS5JTkZPLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICdSZXNhbXBsaW5nIGlzIGVuYWJsZWQgZnJvbSAnICsgc2FtcGxlUmF0ZSArICdIeiB0byAnICsgdGhpcy5fbW9kZWxTYW1wbGVSYXRlICsgJ0h6LicKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAiaW5pdEJ1ZmZlcnMiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0QnVmZmVycygpIHsKICAgICAgICAgIHRoaXMuX2lucHV0UmluZ0J1ZmZlciA9IG5ldyBfdXRpbHNfYnVmZmVyc19yaW5nQnVmZmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18uUmluZ0J1ZmZlcih0aGlzLm1heFJpbmdCdWZmZXJTaXplKTsKICAgICAgICAgIHRoaXMuX291dHB1dFJpbmdCdWZmZXIgPSBuZXcgX3V0aWxzX2J1ZmZlcnNfcmluZ0J1ZmZlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fLlJpbmdCdWZmZXIodGhpcy5tYXhSaW5nQnVmZmVyU2l6ZSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAib25NZXNzYWdlIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7CiAgICAgICAgICBpZiAoIWV2ZW50LmRhdGEudHlwZSkgcmV0dXJuOwogICAgICAgICAgc3dpdGNoIChldmVudC5kYXRhLnR5cGUpIHsKICAgICAgICAgICAgY2FzZSBfcG9zdG1lc3NhZ2VUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fLldPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUuU1RBUlRfUFJPQ0VTU0lORzoKICAgICAgICAgICAgICB0aGlzLl9zYW1wbGVzSW5Xb3JrZXIgPSAwOwogICAgICAgICAgICAgIHRoaXMuX21pbkF2YWlsYWJsZUZyYW1lc0ZvckludGVydmFsID0gMDsKICAgICAgICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7CiAgICAgICAgICAgICAgdGhpcy5fbmVlZFByb2Nlc3NpbmcgPSB0cnVlOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIF9wb3N0bWVzc2FnZVR5cGVzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18uV09SS0xFVF9QUk9DRVNTT1JfUE9TVE1FU1NBR0VfVFlQRS5TVE9QX1BST0NFU1NJTkc6CiAgICAgICAgICAgICAgdGhpcy5fbmVlZFByb2Nlc3NpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgX3Bvc3RtZXNzYWdlVHlwZXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXy5XT1JLTEVUX1BST0NFU1NPUl9QT1NUTUVTU0FHRV9UWVBFLk1PREVMX1NBTVBMRV9SQVRFOgogICAgICAgICAgICAgIHRoaXMuX21vZGVsU2FtcGxlUmF0ZSA9IGV2ZW50LmRhdGEuc2FtcGxlUmF0ZTsKICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlc2FtcGxpbmcoKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBfcG9zdG1lc3NhZ2VUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fLldPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUuV09SS0VSX1BPUlQ6CiAgICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmtlclBvcnQpIHRoaXMuX3dvcmtlclBvcnQuY2xvc2UoKTsKICAgICAgICAgICAgICB0aGlzLl93b3JrZXJQb3J0ID0gZXZlbnQuZGF0YS53b3JrZXJQb3J0OwogICAgICAgICAgICAgIHRoaXMuX3dvcmtlclBvcnQub25tZXNzYWdlID0gdGhpcy5vbldvcmtlck1lc3NhZ2UuYmluZCh0aGlzKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBfcG9zdG1lc3NhZ2VUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fLldPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUuREJHX1BVU0hfU0lMRU5DRToKICAgICAgICAgICAgICB2YXIgc2FtcGxlQ291bnQgPSBNYXRoLmNlaWwoZXZlbnQuZGF0YS5kdXJhdGlvbk1zICogc2FtcGxlUmF0ZSAvIDEwMDApOwogICAgICAgICAgICAgIHZhciBzaWxlbmNlID0gbmV3IEZsb2F0MzJBcnJheShzYW1wbGVDb3VudCk7CiAgICAgICAgICAgICAgdGhpcy5fb3V0cHV0UmluZ0J1ZmZlci5wdXNoKHNpbGVuY2UpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJOb3Qgc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZTogIi5jb25jYXQoZXZlbnQuZGF0YS50eXBlKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAib25Xb3JrZXJNZXNzYWdlIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Xb3JrZXJNZXNzYWdlKGV2ZW50KSB7CiAgICAgICAgICBpZiAoIWV2ZW50LmRhdGEuZnJhbWVzKSByZXR1cm47CiAgICAgICAgICB2YXIgZnJhbWVzID0gZXZlbnQuZGF0YS5mcmFtZXM7CiAgICAgICAgICBpZiAodGhpcy5fbmVlZFJlc2FtcGxpbmcpIHsKICAgICAgICAgICAgdmFyIHJlc2FtcGxlZENodW5rID0gdGhpcy5fb3V0cHV0UmVzYW1wbGVyLmZlZWQoZXZlbnQuZGF0YS5mcmFtZXMpOwogICAgICAgICAgICB0aGlzLm9uUmVjZWl2ZWRTYW1wbGVzKHJlc2FtcGxlZENodW5rKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMub25SZWNlaXZlZFNhbXBsZXMoZnJhbWVzKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuX2J1ZmZlclBvb2wucmV0dXJuQnVmZmVyKGV2ZW50LmRhdGEuYnVmZmVyKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJvblJlY2VpdmVkU2FtcGxlcyIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVjZWl2ZWRTYW1wbGVzKHNhbXBsZXMpIHsKICAgICAgICAgIHRoaXMuX3NhbXBsZXNJbldvcmtlciAtPSBzYW1wbGVzLmxlbmd0aDsKICAgICAgICAgIGlmICghdGhpcy5fbmVlZFByb2Nlc3NpbmcpIHJldHVybjsKICAgICAgICAgIGlmICh0aGlzLl9zYW1wbGVzVG9SZWR1Y2UgPj0gdGhpcy5taW5BY2NlcHRhYmxlUmVkdWNlU2l6ZSkgewogICAgICAgICAgICBpZiAodGhpcy5fc3BlZWR1cFNwZWVjaEJ1ZmZlci5sZW5ndGggPCBzYW1wbGVzLmxlbmd0aCkgewogICAgICAgICAgICAgIHRoaXMuX3NwZWVkdXBTcGVlY2hCdWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KHNhbXBsZXMubGVuZ3RoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuX3NwZWVkdXBTcGVlY2gucHJvY2VzcyhzYW1wbGVzLCB0aGlzLl9zcGVlZHVwU3BlZWNoQnVmZmVyKTsKICAgICAgICAgICAgdGhpcy5fb3V0cHV0UmluZ0J1ZmZlci5wdXNoKHRoaXMuX3NwZWVkdXBTcGVlY2hCdWZmZXIuc3ViYXJyYXkoMCwgc2l6ZSkpOwogICAgICAgICAgICB0aGlzLl9zYW1wbGVzVG9SZWR1Y2UgPSBNYXRoLm1heCh0aGlzLl9zYW1wbGVzVG9SZWR1Y2UgLSB0aGlzLl9zcGVlZHVwU3BlZWNoLmRyb3BwZWRCeUxhc3RSdW4sIDApOwogICAgICAgICAgICB0aGlzLl9zcGVlZHVwU3BlZWNoRHJvcHBlZFN1bSArPSB0aGlzLl9zcGVlZHVwU3BlZWNoLmRyb3BwZWRCeUxhc3RSdW47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLl9vdXRwdXRSaW5nQnVmZmVyLnB1c2goc2FtcGxlcyk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgaXNTcGVlZHVwU3BlZWNoRmluaXNoZWQgPSB0aGlzLl9zcGVlZHVwU3BlZWNoRHJvcHBlZFN1bSA+IDAgJiYgdGhpcy5fc2FtcGxlc1RvUmVkdWNlIDwgdGhpcy5taW5BY2NlcHRhYmxlUmVkdWNlU2l6ZTsKICAgICAgICAgIGlmIChpc1NwZWVkdXBTcGVlY2hGaW5pc2hlZCkgewogICAgICAgICAgICB2YXIgbGVmdG92ZXJzID0gdGhpcy5fc3BlZWR1cFNwZWVjaC5mbHVzaCgpOwogICAgICAgICAgICB0aGlzLl9vdXRwdXRSaW5nQnVmZmVyLnB1c2gobGVmdG92ZXJzKTsKICAgICAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiBfcG9zdG1lc3NhZ2VUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fLldPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUuU1BFRURVUF9WT0lDRSwKICAgICAgICAgICAgICB0aW1lOiBNYXRoLnJvdW5kKHRoaXMuX3NwZWVkdXBTcGVlY2hEcm9wcGVkU3VtIC8gc2FtcGxlUmF0ZSAqIDEwMDApCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLl9zcGVlZHVwU3BlZWNoRHJvcHBlZFN1bSA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAicHJvY2VzcyIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzKSB7CiAgICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dHNbMF1bMF07CiAgICAgICAgICB2YXIgb3V0cHV0ID0gb3V0cHV0c1swXVswXTsKICAgICAgICAgIGlmICghdGhpcy5fbmVlZFByb2Nlc3NpbmcpIHsKICAgICAgICAgICAgaWYgKG91dHB1dCAmJiBpbnB1dCkgewogICAgICAgICAgICAgIG91dHB1dC5zZXQoaW5wdXQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5faW5wdXRSaW5nQnVmZmVyLnB1c2goaW5wdXQpOwogICAgICAgICAgdGhpcy50cnlQb3N0TmV4dENodW5rKCk7CiAgICAgICAgICB0aGlzLnB1bGxPdXRwdXRBdWRpbyhvdXRwdXQpOwogICAgICAgICAgdGhpcy5fbWluQXZhaWxhYmxlRnJhbWVzRm9ySW50ZXJ2YWwgPSBNYXRoLm1pbih0aGlzLl9vdXRwdXRSaW5nQnVmZmVyLmZyYW1lc0F2YWlsYWJsZSwgdGhpcy5fbWluQXZhaWxhYmxlRnJhbWVzRm9ySW50ZXJ2YWwpOwogICAgICAgICAgdmFyIGN1cnJlbnRUaW1lU3RhbXAgPSBjdXJyZW50VGltZTsKICAgICAgICAgIGlmIChjdXJyZW50VGltZVN0YW1wIC0gdGhpcy5fcHJldkRlbGF5Q2hlY2tUaW1lc3RhbXAgPiB0aGlzLl9kZWxheUNoZWNrSW50ZXJ2YWxTZWNzKSB7CiAgICAgICAgICAgIHRoaXMuX3NhbXBsZXNUb1JlZHVjZSA9IE1hdGgubWF4KHRoaXMuX21pbkF2YWlsYWJsZUZyYW1lc0ZvckludGVydmFsIC0gdGhpcy5pcnJlZHVjaWJsZURlbGF5U2l6ZSwgMCk7CiAgICAgICAgICAgIHRoaXMuX3ByZXZEZWxheUNoZWNrVGltZXN0YW1wID0gY3VycmVudFRpbWVTdGFtcDsKICAgICAgICAgICAgdGhpcy5fbWluQXZhaWxhYmxlRnJhbWVzRm9ySW50ZXJ2YWwgPSB0aGlzLl9vdXRwdXRSaW5nQnVmZmVyLmZyYW1lc0F2YWlsYWJsZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLl9zYW1wbGVzSW5Xb3JrZXIgPiB0aGlzLmRlbGF5ZWRGcmFtZXNUaHJlc2hvbGQpIHsKICAgICAgICAgICAgdGhpcy5fbmVlZFByb2Nlc3NpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiBfcG9zdG1lc3NhZ2VUeXBlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fLldPUktMRVRfUFJPQ0VTU09SX1BPU1RNRVNTQUdFX1RZUEUuUEVSRk9STUFOQ0VfU1RPUCwKICAgICAgICAgICAgICBsYXRlbmN5OiB0aGlzLmRlbGF5ZWRGcmFtZU51bSAqIDEwMDAgLyBzYW1wbGVSYXRlLAogICAgICAgICAgICAgIHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJwdWxsT3V0cHV0QXVkaW8iLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwdWxsT3V0cHV0QXVkaW8ob3V0cHV0KSB7CiAgICAgICAgICB2YXIgYXZhaWxhYmxlID0gdGhpcy5fb3V0cHV0UmluZ0J1ZmZlci5mcmFtZXNBdmFpbGFibGU7CiAgICAgICAgICBpZiAoYXZhaWxhYmxlIDwgMSkgewogICAgICAgICAgICBvdXRwdXQuZmlsbCgwKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5fb3V0cHV0UmluZ0J1ZmZlci5wdWxsKG91dHB1dCk7CiAgICAgICAgICB2YXIgcmVtYWluZWRTYW1wbGVzID0gdGhpcy5fb3V0cHV0UmluZ0J1ZmZlci5mcmFtZXNBdmFpbGFibGU7CiAgICAgICAgICB2YXIgbWF4RmFkZUluID0gTWF0aC5tYXgodGhpcy5fZmFkZUluT3V0U2l6ZSAtIHJlbWFpbmVkU2FtcGxlcywgMCk7CiAgICAgICAgICB2YXIgZmFkZUluU3RhcnRPZmZzZXQgPSBNYXRoLm1heChhdmFpbGFibGUgLSB0aGlzLl9mYWRlSW5PdXRTaXplLCAwKTsKICAgICAgICAgIHZhciB0b0ZhZGVJbiA9IE1hdGgubWluKG1heEZhZGVJbiwgdGhpcy5fZmFkZUluT3V0U2l6ZSAtIHRoaXMuX2ZhZGVTYW1wbGVJbmRleCwgb3V0cHV0Lmxlbmd0aCAtIGZhZGVJblN0YXJ0T2Zmc2V0KTsKICAgICAgICAgIHZhciBmYWRlTXVsID0gMSAvICh0aGlzLl9mYWRlSW5PdXRTaXplIC0gMSk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvRmFkZUluOyArK2kpIHsKICAgICAgICAgICAgdmFyIGZhZGVJbmRleCA9IHRoaXMuX2ZhZGVTYW1wbGVJbmRleCsrOwogICAgICAgICAgICBvdXRwdXRbaSArIGZhZGVJblN0YXJ0T2Zmc2V0XSAqPSAxIC0gZmFkZUluZGV4ICogZmFkZU11bDsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBpc0ZhZGluZ0luID0gcmVtYWluZWRTYW1wbGVzIDwgdGhpcy5fZmFkZUluT3V0U2l6ZTsKICAgICAgICAgIHZhciBpc05lZWRUb0ZpbGxSZW1haW5kZXIgPSBpc0ZhZGluZ0luICYmIHRvRmFkZUluICsgZmFkZUluU3RhcnRPZmZzZXQgPCBvdXRwdXQubGVuZ3RoOwogICAgICAgICAgaWYgKGlzTmVlZFRvRmlsbFJlbWFpbmRlcikgewogICAgICAgICAgICBvdXRwdXQuZmlsbCgwLCB0b0ZhZGVJbiArIGZhZGVJblN0YXJ0T2Zmc2V0KTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciB0b0ZhZGVPdXQgPSBNYXRoLm1pbihyZW1haW5lZFNhbXBsZXMgLSB0aGlzLl9mYWRlSW5PdXRTaXplLCB0aGlzLl9mYWRlU2FtcGxlSW5kZXgsIG91dHB1dC5sZW5ndGgpOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b0ZhZGVPdXQ7ICsraSkgewogICAgICAgICAgICB2YXIgX2ZhZGVJbmRleCA9IHRoaXMuX2ZhZGVTYW1wbGVJbmRleC0tOwogICAgICAgICAgICBvdXRwdXRbaV0gKj0gMSAtIF9mYWRlSW5kZXggKiBmYWRlTXVsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogInRyeVBvc3ROZXh0Q2h1bmsiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cnlQb3N0TmV4dENodW5rKCkgewogICAgICAgICAgaWYgKHRoaXMuX2lucHV0UmluZ0J1ZmZlci5mcmFtZXNBdmFpbGFibGUgPCB0aGlzLl9wcm9jZXNzaW5nQ2h1bmspIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMuX3NhbXBsZXNJbldvcmtlciArIHRoaXMuX3Byb2Nlc3NpbmdDaHVuayA+IHRoaXMubWF4UmluZ0J1ZmZlclNpemUpIHsKICAgICAgICAgICAgdGhpcy5faW5wdXRSaW5nQnVmZmVyLmRyb3AodGhpcy5fcHJvY2Vzc2luZ0NodW5rKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGNodW5rID0gdGhpcy5fYnVmZmVyUG9vbC5nZXRCdWZmZXIoJ2YzMicsIHRoaXMuX3Byb2Nlc3NpbmdDaHVuayk7CiAgICAgICAgICB0aGlzLl9pbnB1dFJpbmdCdWZmZXIucHVsbChjaHVuayk7CiAgICAgICAgICB0aGlzLl9zYW1wbGVzSW5Xb3JrZXIgKz0gY2h1bmsubGVuZ3RoOwogICAgICAgICAgaWYgKHRoaXMuX25lZWRSZXNhbXBsaW5nKSB7CiAgICAgICAgICAgIHZhciByZXNhbXBsZWRDaHVuayA9IHRoaXMuX2lucHV0UmVzYW1wbGVyLmZlZWQoY2h1bmspOwogICAgICAgICAgICB0aGlzLl93b3JrZXJQb3J0LnBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICBmcmFtZXM6IHJlc2FtcGxlZENodW5rCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5fd29ya2VyUG9ydC5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgZnJhbWVzOiBjaHVuawogICAgICAgICAgICB9LCBbY2h1bmsuYnVmZmVyXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAibWF4UmluZ0J1ZmZlclNpemUiLAogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgdmFyIGNodW5rQ291bnQgPSBNYXRoLmNlaWwoMiAqIHNhbXBsZVJhdGUgLyB0aGlzLl9wcm9jZXNzaW5nQ2h1bmspOwogICAgICAgICAgY2h1bmtDb3VudCA9IE1hdGgubWF4KDE2LCBjaHVua0NvdW50KTsKICAgICAgICAgIHJldHVybiBjaHVua0NvdW50ICogdGhpcy5fcHJvY2Vzc2luZ0NodW5rOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogImRlbGF5ZWRGcmFtZXNUaHJlc2hvbGQiLAogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIHNhbXBsZVJhdGU7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAiaXJyZWR1Y2libGVEZWxheVNpemUiLAogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIDEyOCAqIDU7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAibWluQWNjZXB0YWJsZVJlZHVjZVNpemUiLAogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkdXBTcGVlY2gub3ZlcmxhcFNpemU7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAiZGVsYXllZEZyYW1lTnVtIiwKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9pbnB1dFJpbmdCdWZmZXIuZnJhbWVzQXZhaWxhYmxlICsgdGhpcy5fb3V0cHV0UmluZ0J1ZmZlci5mcmFtZXNBdmFpbGFibGUgKyB0aGlzLl9zYW1wbGVzSW5Xb3JrZXI7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAid29ya2VyQnVmZmVyU2l6ZSIsCiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoOTYwMDAsIHRoaXMuX3Byb2Nlc3NpbmdDaHVuayAqIDIwKTsKICAgICAgICB9CiAgICAgIH1dKTsKICAgIH0oLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoQXVkaW9Xb3JrbGV0UHJvY2Vzc29yKSk7CiAgICByZWdpc3RlclByb2Nlc3NvcigiZWZmZWN0c3Nkay13b3JrbGV0LXByb2Nlc3NvciIsIFdvcmtsZXRQcm9jZXNzb3IpOwogIH0pKCk7CgogIC8qKioqKiovCn0pKCk7";},8417:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bc:()=>Md,OB:()=>ee,es:()=>Ne});var process=__webpack_require__(4155),Buffer=__webpack_require__(8764).lW,$d=Object.create,kn=Object.defineProperty,Bd=Object.getOwnPropertyDescriptor,kd=Object.getOwnPropertyNames,Nd=Object.getPrototypeOf,Rd=Object.prototype.hasOwnProperty,L=(e,t)=>()=>(e&&(t=e(e=0)),t),ye=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cr=(e,t)=>{for(var n in t)kn(e,n,{get:t[n],enumerable:!0});},Qa=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of kd(t))!Rd.call(e,o)&&o!==n&&kn(e,o,{get:()=>t[o],enumerable:!(r=Bd(t,o))||r.enumerable});return e;},Nr=(e,t,n)=>(n=null!=e?$d(Nd(e)):{},Qa(!t&&e&&e.__esModule?n:kn(n,"default",{value:e,enumerable:!0}),e)),Ht=e=>Qa(kn({},"__esModule",{value:!0}),e),Nn,pr,dr,Rn,Mn=L(()=>{Nn=new Map(),pr=[],dr=(e,t,n)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createInferenceSessionHandler)throw new TypeError("not a valid backend");{let r=Nn.get(e);if(void 0===r)Nn.set(e,{backend:t,priority:n});else{if(r.priority>n)return;if(r.priority===n&&r.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${n}`);}if(n>=0){let t=pr.indexOf(e);-1!==t&&pr.splice(t,1);for(let t=0;t<pr.length;t++)if(Nn.get(pr[t]).priority<=n)return void pr.splice(t,0,e);pr.push(e);}}},Rn=async e=>{let t=0===e.length?pr:e,n=[];for(let e of t){let t=Nn.get(e);if(t){if(t.initialized)return t.backend;if(t.aborted)continue;let r=!!t.initPromise;try{return r||(t.initPromise=t.backend.init(e)),await t.initPromise,t.initialized=!0,t.backend;}catch(o){r||n.push({name:e,err:o}),t.aborted=!0;}finally{delete t.initPromise;}}}throw new Error(`no available backend found. ERR: ${n.map(e=>`[${e.name}] ${e.err}`).join(", ")}`);};}),es=L(()=>{Mn();}),ts,rs=L(()=>{ts="1.17.0";}),ns,hr,Jo=L(()=>{rs(),ns="warning",hr={wasm:{},webgl:{},webgpu:{},versions:{common:ts},set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);ns=e;}},get logLevel(){return ns;}},Object.defineProperty(hr,"logLevel",{enumerable:!0});}),ee,os=L(()=>{Jo(),ee=hr;}),is,as,ss=L(()=>{is=(e,t)=>{let n=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=e.dims[3],n.height=e.dims[2];let r=n.getContext("2d");if(null!=r){let o,i;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(o=e.dims[2],i=e.dims[3]):(o=e.dims[3],i=e.dims[2]);let a,s,u=void 0!==t?.format?t.format:"RGB",l=t?.norm;void 0===l||void 0===l.mean?a=[255,255,255,255]:"number"==typeof l.mean?a=[l.mean,l.mean,l.mean,l.mean]:(a=[l.mean[0],l.mean[1],l.mean[2],0],void 0!==l.mean[3]&&(a[3]=l.mean[3])),void 0===l||void 0===l.bias?s=[0,0,0,0]:"number"==typeof l.bias?s=[l.bias,l.bias,l.bias,l.bias]:(s=[l.bias[0],l.bias[1],l.bias[2],0],void 0!==l.bias[3]&&(s[3]=l.bias[3]));let c=i*o,f=0,p=c,d=2*c,h=-1;"RGBA"===u?(f=0,p=c,d=2*c,h=3*c):"RGB"===u?(f=0,p=c,d=2*c):"RBG"===u&&(f=0,d=c,p=2*c);for(let t=0;t<i;t++)for(let n=0;n<o;n++){let o=(e.data[f++]-s[0])*a[0],i=(e.data[p++]-s[1])*a[1],u=(e.data[d++]-s[2])*a[2],l=-1===h?255:(e.data[h++]-s[3])*a[3];r.fillStyle="rgba("+o+","+i+","+u+","+l+")",r.fillRect(n,t,1,1);}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported");}throw new Error("Can not access image data");},as=(e,t)=>{let n,r=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");if(null==r)throw new Error("Can not access image data");{let o,i,a;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(o=e.dims[2],i=e.dims[1],a=e.dims[3]):(o=e.dims[3],i=e.dims[2],a=e.dims[1]);let s,u,l=void 0!==t&&void 0!==t.format?t.format:"RGB",c=t?.norm;void 0===c||void 0===c.mean?s=[255,255,255,255]:"number"==typeof c.mean?s=[c.mean,c.mean,c.mean,c.mean]:(s=[c.mean[0],c.mean[1],c.mean[2],255],void 0!==c.mean[3]&&(s[3]=c.mean[3])),void 0===c||void 0===c.bias?u=[0,0,0,0]:"number"==typeof c.bias?u=[c.bias,c.bias,c.bias,c.bias]:(u=[c.bias[0],c.bias[1],c.bias[2],0],void 0!==c.bias[3]&&(u[3]=c.bias[3]));let f=i*o;if(void 0!==t&&(void 0!==t.format&&4===a&&"RGBA"!==t.format||3===a&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");let p=4,d=0,h=1,g=2,m=3,y=0,b=f,_=2*f,v=-1;"RGBA"===l?(y=0,b=f,_=2*f,v=3*f):"RGB"===l?(y=0,b=f,_=2*f):"RBG"===l&&(y=0,_=f,b=2*f),n=r.createImageData(o,i);for(let t=0;t<i*o;d+=p,h+=p,g+=p,m+=p,t++)n.data[d]=(e.data[y++]-u[0])*s[0],n.data[h]=(e.data[b++]-u[1])*s[1],n.data[g]=(e.data[_++]-u[2])*s[2],n.data[m]=-1===v?255:(e.data[v++]-u[3])*s[3];}return n;};}),Zo,us,ls,fs,cs,ps=L(()=>{Gn(),Zo=(e,t)=>{if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");let n,r,{height:o,width:i}=t,a=t.norm??{mean:255,bias:0};n="number"==typeof a.mean?[a.mean,a.mean,a.mean,a.mean]:[a.mean[0],a.mean[1],a.mean[2],a.mean[3]??255],r="number"==typeof a.bias?[a.bias,a.bias,a.bias,a.bias]:[a.bias[0],a.bias[1],a.bias[2],a.bias[3]??0];let s=void 0!==t.format?t.format:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",l=o*i,c="RGBA"===u?new Float32Array(4*l):new Float32Array(3*l),f=4,p=0,d=1,h=2,g=3,m=0,y=l,b=2*l,_=-1;"RGB"===s&&(f=3,p=0,d=1,h=2,g=-1),"RGBA"===u?_=3*l:"RBG"===u?(m=0,b=l,y=2*l):"BGR"===u&&(b=0,y=l,m=2*l);for(let t=0;t<l;t++,p+=f,h+=f,d+=f,g+=f)c[m++]=(e[p]+r[0])/n[0],c[y++]=(e[d]+r[1])/n[1],c[b++]=(e[h]+r[2])/n[2],-1!==_&&-1!==g&&(c[_++]=(e[g]+r[3])/n[3]);return new Xe("float32",c,"RGBA"===u?[1,4,o,i]:[1,3,o,i]);},us=async(e,t)=>{let n,r=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,o=typeof ImageData<"u"&&e instanceof ImageData,i=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,a="string"==typeof e,s=t??{},u=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported");},l=e=>e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas?e.getContext("2d"):null;if(r){let r=u();r.width=e.width,r.height=e.height;let o=l(r);if(null==o)throw new Error("Can not access image data");{let r=e.height,i=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(r=t.resizedHeight,i=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=r,s.width=i;}else s.tensorFormat="RGBA",s.height=r,s.width=i;o.drawImage(e,0,0),n=o.getImageData(0,0,i,r).data;}}else{if(!o){if(i){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");let r=u();r.width=e.width,r.height=e.height;let o=l(r);if(null!=o){let t=e.height,r=e.width;return o.drawImage(e,0,0,r,t),n=o.getImageData(0,0,r,t).data,s.height=t,s.width=r,Zo(n,s);}throw new Error("Can not access image data");}if(a)return new Promise((t,n)=>{let r=u(),o=l(r);if(!e||!o)return n();let i=new Image();i.crossOrigin="Anonymous",i.src=e,i.onload=()=>{r.width=i.width,r.height=i.height,o.drawImage(i,0,0,r.width,r.height);let e=o.getImageData(0,0,r.width,r.height);s.height=r.height,s.width=r.width,t(Zo(e.data,s));};});throw new Error("Input data provided is not supported - aborted tensor creation");}{let r,o;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,o=t.resizedWidth):(r=e.height,o=e.width),void 0!==t&&(s=t),s.format="RGBA",s.height=r,s.width=o,void 0!==t){let t=u();t.width=o,t.height=r;let i=l(t);if(null==i)throw new Error("Can not access image data");i.putImageData(e,0,0),n=i.getImageData(0,0,o,r).data;}else n=e.data;}}if(void 0!==n)return Zo(n,s);throw new Error("Input data provided is not supported - aborted tensor creation");},ls=(e,t)=>{let{width:n,height:r,download:o,dispose:i}=t;return new Xe({location:"texture",type:"float32",texture:e,dims:[1,r,n,4],download:o,dispose:i});},fs=(e,t)=>{let{dataType:n,dims:r,download:o,dispose:i}=t;return new Xe({location:"gpu-buffer",type:n??"float32",gpuBuffer:e,dims:r,download:o,dispose:i});},cs=(e,t,n)=>new Xe({location:"cpu-pinned",type:e,data:t,dims:n??[t.length]});}),an,Un,ds,hs,ms=L(()=>{an=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Un=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),ds=!1,hs=()=>{if(!ds){ds=!0;let e=typeof BigInt64Array<"u"&&"function"==typeof BigInt64Array.from,t=typeof BigUint64Array<"u"&&"function"==typeof BigUint64Array.from;e&&(an.set("int64",BigInt64Array),Un.set(BigInt64Array,"int64")),t&&(an.set("uint64",BigUint64Array),Un.set(BigUint64Array,"uint64"));}};}),bs,gs,ys=L(()=>{Gn(),bs=e=>{let t=1;for(let n=0;n<e.length;n++){let r=e[n];if("number"!=typeof r||!Number.isSafeInteger(r))throw new TypeError(`dims[${n}] must be an integer, got: ${r}`);if(r<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${r}`);t*=r;}return t;},gs=(e,t)=>{switch(e.location){case"cpu":return new Xe(e.type,e.data,t);case"cpu-pinned":return new Xe({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new Xe({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new Xe({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${e.location} is not supported`);}};}),Xe,Gn=L(()=>{ss(),ps(),ms(),ys(),Xe=class{constructor(e,t,n){let r,o;if(hs(),"object"==typeof e&&"location"in e)switch(this.dataLocation=e.location,r=e.type,o=e.dims,e.location){case"cpu-pinned":{let t=an.get(r);if(!t)throw new TypeError(`unsupported type "${r}" to create tensor from pinned buffer`);if(!(e.data instanceof t))throw new TypeError(`buffer should be of type ${t.name}`);this.cpuData=e.data;break;}case"texture":if("float32"!==r)throw new TypeError(`unsupported type "${r}" to create tensor from texture`);this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break;case"gpu-buffer":if("float32"!==r&&"float16"!==r&&"int32"!==r&&"int64"!==r&&"uint32"!==r&&"bool"!==r)throw new TypeError(`unsupported type "${r}" to create tensor from gpu buffer`);this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break;default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`);}else{let i,a;if("string"==typeof e){if(r=e,a=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t;}else{let n=an.get(e);if(void 0===n)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t)){if("float16"===e)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");i="uint64"===e||"int64"===e?n.from(t,BigInt):n.from(t);}else{if(!(t instanceof n))throw new TypeError(`A ${r} tensor's data must be type of ${n}`);i=t;}}}else if(a=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");let t=typeof e[0];if("string"===t)r="string",i=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);r="bool",i=Uint8Array.from(e);}}else{let t=Un.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=t,i=e;}if(void 0===a)a=[i.length];else if(!Array.isArray(a))throw new TypeError("A tensor's dims must be a number array");o=a,this.cpuData=i,this.dataLocation="cpu";}let i=bs(o);if(this.cpuData&&i!==this.cpuData.length)throw new Error(`Tensor's size(${i}) does not match data length(${this.cpuData.length}).`);this.type=r,this.dims=o,this.size=i;}static async fromImage(e,t){return us(e,t);}static fromTexture(e,t){return ls(e,t);}static fromGpuBuffer(e,t){return fs(e,t);}static fromPinnedBuffer(e,t,n){return cs(e,t,n);}toDataURL(e){return is(this,e);}toImageData(e){return as(this,e);}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData;}get location(){return this.dataLocation;}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData;}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData;}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t;}finally{this.isDownloading=!1;}default:throw new Error(`cannot get data from location: ${this.dataLocation}`);}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none";}ensureValid(){if("none"===this.dataLocation)throw new Error("The tensor is disposed.");}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return gs(this,e);}};}),Ne,zn=L(()=>{Gn(),Ne=Xe;}),Ts,xs,mr,br,Qo=L(()=>{Jo(),Ts=(e,t)=>{hr.wasm.trace&&console.timeStamp(`${e}::ORT::${t}`);},xs=(e,t)=>{let n=new Error().stack?.split(/\r\n|\r|\n/g)||[],r=!1;for(let o=0;o<n.length;o++){if(r&&!n[o].includes("TRACE_FUNC")){let r=`FUNC_${e}::${n[o].trim().split(" ")[1]}`;return t&&(r+=`::${t}`),void Ts("CPU",r);}n[o].includes("TRACE_FUNC")&&(r=!0);}},mr=e=>{hr.wasm.trace&&xs("BEGIN",e);},br=e=>{hr.wasm.trace&&xs("END",e);};}),Wn,ws=L(()=>{Mn(),zn(),Qo(),Wn=class e{constructor(e){this.handler=e;}async run(e,t,n){mr();let r={},o={};if("object"!=typeof e||null===e||e instanceof Ne||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof Ne)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");i=!1;for(let e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);r[e]=null;}if("object"==typeof n&&null!==n)o=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.");}else{let e=!1,a=Object.getOwnPropertyNames(t);for(let n of this.outputNames)if(-1!==a.indexOf(n)){let o=t[n];(null===o||o instanceof Ne)&&(e=!0,i=!1,r[n]=o);}if(e){if("object"==typeof n&&null!==n)o=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.");}else o=t;}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let t of this.inputNames)if(typeof e[t]>"u")throw new Error(`input '${t}' is missing in 'feeds'.`);if(i)for(let e of this.outputNames)r[e]=null;let a=await this.handler.run(e,r,o),s={};for(let e in a)if(Object.hasOwnProperty.call(a,e)){let t=a[e];s[e]=t instanceof Ne?t:new Ne(t.type,t.data,t.dims);}return br(),s;}async release(){return this.handler.dispose();}async configure(e){return await this.handler.configure(e);}async auth(e){return await this.handler.auth(e);}static async create(t,n,r,o){mr();let i,a={};if("string"==typeof t){if(i=t,"object"==typeof n&&null!==n)a=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.");}else if(t instanceof Uint8Array){if(i=t,"object"==typeof n&&null!==n)a=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.");}else{if(!(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{let e=t,s=0,u=t.byteLength;if("object"==typeof n&&null!==n)a=n;else if("number"==typeof n){if(s=n,!Number.isSafeInteger(s))throw new RangeError("'byteOffset' must be an integer.");if(s<0||s>=e.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${e.byteLength}).`);if(u=t.byteLength-s,"number"==typeof r){if(u=r,!Number.isSafeInteger(u))throw new RangeError("'byteLength' must be an integer.");if(u<=0||s+u>e.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${e.byteLength-s}].`);if("object"==typeof o&&null!==o)a=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.");}else if(typeof r<"u")throw new TypeError("'byteLength' must be a number.");}else if(typeof n<"u")throw new TypeError("'options' must be an object.");i=new Uint8Array(e,s,u);}}let s=(a.executionProviders||[]).map(e=>"string"==typeof e?e:e.name),u=await(await Rn(s)).createInferenceSessionHandler(i,a);return br(),new e(u);}startProfiling(){this.handler.startProfiling();}endProfiling(){this.handler.endProfiling();}get inputNames(){return this.handler.inputNames;}get outputNames(){return this.handler.outputNames;}};}),Md,vs=L(()=>{ws(),Md=Wn;}),_s=L(()=>{}),Gd,Vn,Os=L(()=>{Mn(),zn(),Gd="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Vn=class e{constructor(e,t,n){this.handler=e,this.hasOptimizerModel=t,this.hasEvalModel=n;}get trainingInputNames(){return this.handler.inputNames;}get trainingOutputNames(){return this.handler.outputNames;}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.");}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.");}static async create(t,n){let r=t.evalModel||"",o=t.optimizerModel||"",i=n||{},a=(i.executionProviders||[]).map(e=>"string"==typeof e?e:e.name),s=await Rn(a);if(s.createTrainingSessionHandler){let n=await s.createTrainingSessionHandler(t.checkpointState,t.trainModel,r,o,i);return new e(n,!!t.optimizerModel,!!t.evalModel);}throw new Error(Gd);}typeNarrowingForRunStep(e,t,n,r,o){let i={},a={};if("object"!=typeof n||null===n||n instanceof Ne||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if("object"==typeof r){if(null===r)throw new TypeError("Unexpected argument[1]: cannot be null.");if(r instanceof Ne)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(r)){if(0===r.length)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let e of r){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===t.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);i[e]=null;}if("object"==typeof o&&null!==o)a=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.");}else{let e=!1,n=Object.getOwnPropertyNames(r);for(let o of t)if(-1!==n.indexOf(o)){let t=r[o];(null===t||t instanceof Ne)&&(e=!0,s=!1,i[o]=t);}if(e){if("object"==typeof o&&null!==o)a=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.");}else a=r;}}else if(typeof r<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let t of e)if(typeof n[t]>"u")throw new Error(`input '${t}' is missing in 'feeds'.`);if(s)for(let e of t)i[e]=null;return[i,a];}convertHandlerReturnTypeToMapOfTensors(e){let t={};for(let n in e)if(Object.hasOwnProperty.call(e,n)){let r=e[n];t[n]=r instanceof Ne?r:new Ne(r.type,r.data,r.dims);}return t;}async lazyResetGrad(){await this.handler.lazyResetGrad();}async runTrainStep(e,t,n){let[r,o]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,e,t,n),i=await this.handler.runTrainStep(e,r,o);return this.convertHandlerReturnTypeToMapOfTensors(i);}async runOptimizerStep(e){if(!this.hasOptimizerModel)throw new Error("This TrainingSession has no OptimizerModel loaded.");await this.handler.runOptimizerStep(e||{});}async runEvalStep(e,t,n){if(this.hasEvalModel){let[r,o]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,e,t,n),i=await this.handler.runEvalStep(e,r,o);return this.convertHandlerReturnTypeToMapOfTensors(i);}throw new Error("This TrainingSession has no EvalModel loaded.");}async getParametersSize(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return this.handler.getParametersSize(e);}async loadParametersBuffer(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;let n=await this.getParametersSize(t);if(e.length!==4*n)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(e,t);}async getContiguousParameters(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return this.handler.getContiguousParameters(e);}async release(){return this.handler.dispose();}};}),Ud,Is=L(()=>{Os(),Ud=Vn;}),ei={};cr(ei,{InferenceSession:()=>Md,TRACE:()=>Ts,TRACE_FUNC_BEGIN:()=>mr,TRACE_FUNC_END:()=>br,Tensor:()=>Ne,TrainingSession:()=>Ud,env:()=>ee,registerBackend:()=>dr});var It=L(()=>{es(),os(),vs(),zn(),Qo(),_s(),Is();});function Qt(e,t,n,r){if(void 0===t)return Wd(e);if(void 0===n)Hn(e,t,1);else if("number"==typeof n&&void 0===r)Hn(e,t,n);else if("string"==typeof n&&void 0===r)Hn(e,n,1,t);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");Hn(e,n,r,t);}}function Wd(e){return{verbose:Qt.verbose.bind(null,e),info:Qt.info.bind(null,e),warning:Qt.warning.bind(null,e),error:Qt.error.bind(null,e),fatal:Qt.fatal.bind(null,e)};}function Hn(e,t,n,r){let o=sn[r||""]||sn[""];As[e]<As[o.minimalSeverity]||(o.logDateTime&&(t=`${new Date().toISOString()}|${t}`),o.logSourceLocation,zd[o.provider].log(e,t,r));}var ti,ri,As,zd,Es,sn,pe,qn,Yn,Xn,jn,dt=L(()=>{ti=class{log(e,t,n){}},ri=class{log(e,t,n){console.log(`${this.color(e)} ${n?"[35m"+n+"[0m ":""}${t}`);}color(e){switch(e){case"verbose":return"[34;40mv[0m";case"info":return"[32mi[0m";case"warning":return"[30;43mw[0m";case"error":return"[31;40me[0m";case"fatal":return"[101mf[0m";default:throw new Error(`unsupported severity: ${e}`);}}},As={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},zd={none:new ti(),console:new ri()},sn={"":Es={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1}},(e=>{function t(e){sn={},n("",e||{});}function n(e,n){if("*"===e)t(n);else{let t=sn[e]||Es;sn[e]={provider:n.provider||t.provider,minimalSeverity:n.minimalSeverity||t.minimalSeverity,logDateTime:void 0===n.logDateTime?t.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?t.logSourceLocation:n.logSourceLocation};}}e.verbose=function(t,n){e("verbose",t,n);},e.info=function(t,n){e("info",t,n);},e.warning=function(t,n){e("warning",t,n);},e.error=function(t,n){e("error",t,n);},e.fatal=function(t,n){e("fatal",t,n);},e.reset=t,e.set=n,e.setWithEnv=function(e){let t={};e.logLevel&&(t.minimalSeverity=e.logLevel),n("",t);};})(Qt||={}),pe=Qt,qn=class{constructor(e,t,n,r,o,i){this.category=e,this.name=t,this.startTime=n,this.endCallback=r,this.timer=o,this.ctx=i;}async end(){return this.endCallback(this);}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer);}},Yn=class{constructor(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endTime=r;}},Xn=class{constructor(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n;}static create(e){return void 0===e?new this():new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds);}start(){this._started=!0,this._timingEvents=[],this._flushTime=jn(),this._flushPointer=0;}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);}event(e,t,n,r){let o=this._started?this.begin(e,t,r):void 0,i=!1,a=n();if(a&&"function"==typeof a.then)return i=!0,new Promise((e,t)=>{a.then(async t=>{o&&(await o.end()),e(t);},async e=>{o&&(await o.end()),t(e);});});if(!i&&o){let e=o.end();if(e&&"function"==typeof e.then)return new Promise((t,n)=>{e.then(()=>{t(a);},e=>{n(e);});});}return a;}begin(e,t,n){if(!this._started)throw new Error("profiler is not started yet");if(void 0===n){let n=jn();return this.flush(n),new qn(e,t,n,e=>this.endSync(e));}{let r=n.beginTimer();return new qn(e,t,0,async e=>this.end(e),r,n);}}async end(e){let t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Yn(e.category,e.name,e.startTime,t)),this.flush(t));}endSync(e){let t=jn();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Yn(e.category,e.name,e.startTime,t)),this.flush(t));}logOneEvent(e){pe.verbose(`Profiler.${e.category}`,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at ${e.endTime.toFixed(2)}`);}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(let e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=jn();}}get started(){return this._started;}},jn=typeof performance<"u"&&performance.now?()=>performance.now():Date.now;});function Ps(e,t,n){for(let r of n){let n=r[0],o=r[1],i=r[2],a=r[3],s=r[4];if(e.opType===n)for(let e of t)if((e.domain===o||"ai.onnx"===e.domain&&""===o)&&Vd(e.version,i))return{opImpl:a,opInit:s};}throw new TypeError(`cannot resolve operator '${e.opType}' with opsets: ${t.map(e=>`${e.domain||"ai.onnx"} v${e.version}`).join(", ")}`);}function Vd(e,t){if(t.endsWith("+")){let n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e;}if(2===t.split("-").length){let n=t.split("-"),r=Number.parseInt(n[0],10),o=Number.parseInt(n[1],10);return!isNaN(r)&&!isNaN(o)&&r<=e&&e<=o;}return Number.parseInt(t,10)===e;}var Ds=L(()=>{}),Ls=ye(e=>{e.__esModule=!0;var t=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t);}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n));},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"));},e.createEmpty=function(){return new e("emptyguid");},e.parse=function(t){return new e(t);},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-");},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t;},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString();},e.prototype.isEmpty=function(){return this.value===e.EMPTY;},e.prototype.toString=function(){return this.value;},e.prototype.toJSON=function(){return{value:this.value};},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e;}();e.Guid=t;});function Te(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n;}function He(e){return!0===(e&&e.__isLong__);}function Fs(e){var t=Math.clz32(e&-e);return e?31-t:t;}function gr(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=$s[e])?r:(n=le(e,0,!0),o&&($s[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=Cs[e])?r:(n=le(e,e<0?-1:0,!1),o&&(Cs[e]=n),n);}function mt(e,t){if(isNaN(e))return t?jt:St;if(t){if(e<0)return jt;if(e>=Rs)return Us;}else{if(e<=-ks)return rt;if(e+1>=ks)return Gs;}return e<0?mt(-e,t).neg():le(e%Mr|0,e/Mr|0,t);}function le(e,t,n){return new Te(e,t,n);}function ii(e,t,n){if(0===e.length)throw Error("empty string");if("number"==typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?jt:St;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return ii(e.substring(1),t,n).neg();for(var o=mt(Kn(n,8)),i=St,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),n);if(s<8){var l=mt(Kn(n,s));i=i.mul(l).add(mt(u));}else i=(i=i.mul(o)).add(mt(u));}return i.unsigned=t,i;}function At(e,t){return"number"==typeof e?mt(e,t):"string"==typeof e?ii(e,t):le(e.low,e.high,"boolean"==typeof t?t:e.unsigned);}var ht,Cs,$s,Kn,Bs,jd,Mr,Rs,ks,Ns,St,jt,Rr,Ms,oi,Gs,Us,rt,k,qt,ai=L(()=>{ht=null;try{ht=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports;}catch{}Te.prototype.__isLong__,Object.defineProperty(Te.prototype,"__isLong__",{value:!0}),Te.isLong=He,Cs={},$s={},Te.fromInt=gr,Te.fromNumber=mt,Te.fromBits=le,Kn=Math.pow,Te.fromString=ii,Te.fromValue=At,ks=(Rs=(Mr=(Bs=65536)*Bs)*Mr)/2,Ns=gr(jd=1<<24),St=gr(0),Te.ZERO=St,jt=gr(0,!0),Te.UZERO=jt,Rr=gr(1),Te.ONE=Rr,Ms=gr(1,!0),Te.UONE=Ms,oi=gr(-1),Te.NEG_ONE=oi,Gs=le(-1,2147483647,!1),Te.MAX_VALUE=Gs,Us=le(-1,-1,!0),Te.MAX_UNSIGNED_VALUE=Us,rt=le(0,-2147483648,!1),Te.MIN_VALUE=rt,(k=Te.prototype).toInt=function(){return this.unsigned?this.low>>>0:this.low;},k.toNumber=function(){return this.unsigned?(this.high>>>0)*Mr+(this.low>>>0):this.high*Mr+(this.low>>>0);},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(rt)){var t=mt(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e);}return"-"+this.neg().toString(e);}for(var o=mt(Kn(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),u=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a;}},k.getHighBits=function(){return this.high;},k.getHighBitsUnsigned=function(){return this.high>>>0;},k.getLowBits=function(){return this.low;},k.getLowBitsUnsigned=function(){return this.low>>>0;},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(rt)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1;},k.isZero=function(){return 0===this.high&&0===this.low;},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0;},k.isPositive=function(){return this.unsigned||this.high>=0;},k.isOdd=function(){return 1==(1&this.low);},k.isEven=function(){return 0==(1&this.low);},k.equals=function(e){return He(e)||(e=At(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low;},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e);},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0;},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0;},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0;},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0;},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(He(e)||(e=At(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1;},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(rt)?rt:this.not().add(Rr);},k.neg=k.negate,k.add=function(e){He(e)||(e=At(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,s=e.low>>>16,u=0,l=0,c=0,f=0;return c+=(f+=o+(65535&e.low))>>>16,l+=(c+=r+s)>>>16,u+=(l+=n+a)>>>16,u+=t+i,le((c&=65535)<<16|(f&=65535),(u&=65535)<<16|(l&=65535),this.unsigned);},k.subtract=function(e){return He(e)||(e=At(e)),this.add(e.neg());},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return this;if(He(e)||(e=At(e)),ht)return le(ht.mul(this.low,this.high,e.low,e.high),ht.get_high(),this.unsigned);if(e.isZero())return this.unsigned?jt:St;if(this.eq(rt))return e.isOdd()?rt:St;if(e.eq(rt))return this.isOdd()?rt:St;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Ns)&&e.lt(Ns))return mt(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,s=e.low>>>16,u=65535&e.low,l=0,c=0,f=0,p=0;return f+=(p+=o*u)>>>16,c+=(f+=r*u)>>>16,f&=65535,c+=(f+=o*s)>>>16,l+=(c+=n*u)>>>16,c&=65535,l+=(c+=r*s)>>>16,c&=65535,l+=(c+=o*a)>>>16,l+=t*u+n*s+r*a+o*i,le((f&=65535)<<16|(p&=65535),(l&=65535)<<16|(c&=65535),this.unsigned);},k.mul=k.multiply,k.divide=function(e){if(He(e)||(e=At(e)),e.isZero())throw Error("division by zero");var t,n,r;if(ht)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?le((this.unsigned?ht.div_u:ht.div_s)(this.low,this.high,e.low,e.high),ht.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?jt:St;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return jt;if(e.gt(this.shru(1)))return Ms;r=jt;}else{if(this.eq(rt))return e.eq(Rr)||e.eq(oi)?rt:e.eq(rt)?Rr:(t=this.shr(1).div(e).shl(1)).eq(St)?e.isNegative()?Rr:oi:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(rt))return this.unsigned?jt:St;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=St;}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),i=o<=48?1:Kn(2,o-48),a=mt(t),s=a.mul(e);s.isNegative()||s.gt(n);)s=(a=mt(t-=i,this.unsigned)).mul(e);a.isZero()&&(a=Rr),r=r.add(a),n=n.sub(s);}return r;},k.div=k.divide,k.modulo=function(e){return He(e)||(e=At(e)),ht?le((this.unsigned?ht.rem_u:ht.rem_s)(this.low,this.high,e.low,e.high),ht.get_high(),this.unsigned):this.sub(this.div(e).mul(e));},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return le(~this.low,~this.high,this.unsigned);},k.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32;},k.clz=k.countLeadingZeros,k.countTrailingZeros=function(){return this.low?Fs(this.low):Fs(this.high)+32;},k.ctz=k.countTrailingZeros,k.and=function(e){return He(e)||(e=At(e)),le(this.low&e.low,this.high&e.high,this.unsigned);},k.or=function(e){return He(e)||(e=At(e)),le(this.low|e.low,this.high|e.high,this.unsigned);},k.xor=function(e){return He(e)||(e=At(e)),le(this.low^e.low,this.high^e.high,this.unsigned);},k.shiftLeft=function(e){return He(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?le(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):le(0,this.low<<e-32,this.unsigned);},k.shl=k.shiftLeft,k.shiftRight=function(e){return He(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?le(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):le(this.high>>e-32,this.high>=0?0:-1,this.unsigned);},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){return He(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?le(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):le(32===e?this.high:this.high>>>e-32,0,this.unsigned);},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.rotateLeft=function(e){var t;return He(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?le(this.high,this.low,this.unsigned):e<32?(t=32-e,le(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),le(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned));},k.rotl=k.rotateLeft,k.rotateRight=function(e){var t;return He(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?le(this.high,this.low,this.unsigned):e<32?(t=32-e,le(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),le(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned));},k.rotr=k.rotateRight,k.toSigned=function(){return this.unsigned?le(this.low,this.high,!1):this;},k.toUnsigned=function(){return this.unsigned?this:le(this.low,this.high,!0);},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE();},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24];},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t];},Te.fromBytes=function(e,t,n){return n?Te.fromBytesLE(e,t):Te.fromBytesBE(e,t);},Te.fromBytesLE=function(e,t){return new Te(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t);},Te.fromBytesBE=function(e,t){return new Te(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t);},qt=Te;}),I,Jn=L(()=>{I={},I.Table,I.SIZEOF_SHORT=2,I.SIZEOF_INT=4,I.FILE_IDENTIFIER_LENGTH=4,I.SIZE_PREFIX_LENGTH=4,I.Encoding={UTF8_BYTES:1,UTF16_STRING:2},I.int32=new Int32Array(2),I.float32=new Float32Array(I.int32.buffer),I.float64=new Float64Array(I.int32.buffer),I.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],I.Long=function(e,t){this.low=0|e,this.high=0|t;},I.Long.create=function(e,t){return 0==e&&0==t?I.Long.ZERO:new I.Long(e,t);},I.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high;},I.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high;},I.Long.ZERO=new I.Long(0,0),I.Builder=function(e){if(e)var t=e;else t=1024;this.bb=I.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1;},I.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1;},I.Builder.prototype.forceDefaults=function(e){this.force_defaults=e;},I.Builder.prototype.dataBuffer=function(){return this.bb;},I.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset());},I.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var r=this.bb.capacity();this.bb=I.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r;}this.pad(n);},I.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0);},I.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e);},I.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e);},I.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e);},I.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e);},I.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e);},I.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e);},I.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e);},I.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e);},I.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e);},I.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e);},I.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e);},I.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e);},I.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e));},I.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e));},I.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e));},I.Builder.prototype.addFieldInt64=function(e,t,n){(this.force_defaults||!t.equals(n))&&(this.addInt64(t),this.slot(e));},I.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e));},I.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e));},I.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e));},I.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e));},I.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.");},I.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.");},I.Builder.prototype.slot=function(e){this.vtable[e]=this.offset();},I.Builder.prototype.offset=function(){return this.bb.capacity()-this.space;},I.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,r=I.ByteBuffer.allocate(n);return r.setPosition(n-t),r.bytes().set(e.bytes(),n-t),r;},I.Builder.prototype.addOffset=function(e){this.prep(I.SIZEOF_INT,0),this.writeInt32(this.offset()-e+I.SIZEOF_INT);},I.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset();},I.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var r=(n+2)*I.SIZEOF_SHORT;this.addInt16(r);var o=0,i=this.space;e:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(a)){for(var s=I.SIZEOF_SHORT;s<r;s+=I.SIZEOF_SHORT)if(this.bb.readInt16(i+s)!=this.bb.readInt16(a+s))continue e;o=this.vtables[t];break;}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e;},I.Builder.prototype.finish=function(e,t,n){var r=n?I.SIZE_PREFIX_LENGTH:0;if(t){var o=t;if(this.prep(this.minalign,I.SIZEOF_INT+I.FILE_IDENTIFIER_LENGTH+r),o.length!=I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+I.FILE_IDENTIFIER_LENGTH);for(var i=I.FILE_IDENTIFIER_LENGTH-1;i>=0;i--)this.writeInt8(o.charCodeAt(i));}this.prep(this.minalign,I.SIZEOF_INT+r),this.addOffset(e),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space);},I.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0);},I.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(r+t)))throw new Error("FlatBuffers: field "+t+" must be set");},I.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(I.SIZEOF_INT,e*t),this.prep(n,e*t);},I.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset();},I.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var r,o=e.charCodeAt(n++);if(o<55296||o>=56320)r=o;else r=(o<<10)+e.charCodeAt(n++)+-56613888;r<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128));}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);n=0;for(var i=this.space,a=this.bb.bytes();n<t.length;n++)a[i++]=t[n];return this.endVector();},I.Builder.prototype.createLong=function(e,t){return I.Long.create(e,t);},I.ByteBuffer=function(e){this.bytes_=e,this.position_=0;},I.ByteBuffer.allocate=function(e){return new I.ByteBuffer(new Uint8Array(e));},I.ByteBuffer.prototype.clear=function(){this.position_=0;},I.ByteBuffer.prototype.bytes=function(){return this.bytes_;},I.ByteBuffer.prototype.position=function(){return this.position_;},I.ByteBuffer.prototype.setPosition=function(e){this.position_=e;},I.ByteBuffer.prototype.capacity=function(){return this.bytes_.length;},I.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24;},I.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e];},I.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16;},I.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8;},I.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24;},I.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0;},I.ByteBuffer.prototype.readInt64=function(e){return new I.Long(this.readInt32(e),this.readInt32(e+4));},I.ByteBuffer.prototype.readUint64=function(e){return new I.Long(this.readUint32(e),this.readUint32(e+4));},I.ByteBuffer.prototype.readFloat32=function(e){return I.int32[0]=this.readInt32(e),I.float32[0];},I.ByteBuffer.prototype.readFloat64=function(e){return I.int32[I.isLittleEndian?0:1]=this.readInt32(e),I.int32[I.isLittleEndian?1:0]=this.readInt32(e+4),I.float64[0];},I.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t;},I.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t;},I.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8;},I.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8;},I.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24;},I.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24;},I.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high);},I.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high);},I.ByteBuffer.prototype.writeFloat32=function(e,t){I.float32[0]=t,this.writeInt32(e,I.int32[0]);},I.ByteBuffer.prototype.writeFloat64=function(e,t){I.float64[0]=t,this.writeInt32(e,I.int32[I.isLittleEndian?0:1]),this.writeInt32(e+4,I.int32[I.isLittleEndian?1:0]);},I.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+I.SIZEOF_INT+I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<I.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+I.SIZEOF_INT+t));return e;},I.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0;},I.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e;},I.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),r="",o=0;if(e+=I.SIZEOF_INT,t===I.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;o<n;){var i,a=this.readUint8(e+o++);if(a<192)i=a;else{var s=this.readUint8(e+o++);if(a<224)i=(31&a)<<6|63&s;else{var u=this.readUint8(e+o++);if(a<240)i=(15&a)<<12|(63&s)<<6|63&u;else i=(7&a)<<18|(63&s)<<12|(63&u)<<6|63&this.readUint8(e+o++);}}i<65536?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296+(i>>10),56320+(1023&i)));}return r;},I.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e);},I.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+I.SIZEOF_INT;},I.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e));},I.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+I.FILE_IDENTIFIER_LENGTH);for(var t=0;t<I.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+I.SIZEOF_INT+t))return!1;return!0;},I.ByteBuffer.prototype.createLong=function(e,t){return I.Long.create(e,t);};}),H,un=L(()=>{Jn(),(e=>{let t;(e=>{let t;(e=>{let t;var n;(n=t=e.AttributeType||={})[n.UNDEFINED=0]="UNDEFINED",n[n.FLOAT=1]="FLOAT",n[n.INT=2]="INT",n[n.STRING=3]="STRING",n[n.TENSOR=4]="TENSOR",n[n.GRAPH=5]="GRAPH",n[n.FLOATS=6]="FLOATS",n[n.INTS=7]="INTS",n[n.STRINGS=8]="STRINGS",n[n.TENSORS=9]="TENSORS",n[n.GRAPHS=10]="GRAPHS",n[n.SPARSE_TENSOR=11]="SPARSE_TENSOR",n[n.SPARSE_TENSORS=12]="SPARSE_TENSORS";})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{let t;var n;(n=t=e.DimensionValueType||={})[n.UNKNOWN=0]="UNKNOWN",n[n.VALUE=1]="VALUE",n[n.PARAM=2]="PARAM";})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{let t;var n;(n=t=e.TensorDataType||={})[n.UNDEFINED=0]="UNDEFINED",n[n.FLOAT=1]="FLOAT",n[n.UINT8=2]="UINT8",n[n.INT8=3]="INT8",n[n.UINT16=4]="UINT16",n[n.INT16=5]="INT16",n[n.INT32=6]="INT32",n[n.INT64=7]="INT64",n[n.STRING=8]="STRING",n[n.BOOL=9]="BOOL",n[n.FLOAT16=10]="FLOAT16",n[n.DOUBLE=11]="DOUBLE",n[n.UINT32=12]="UINT32",n[n.UINT64=13]="UINT64",n[n.COMPLEX64=14]="COMPLEX64",n[n.COMPLEX128=15]="COMPLEX128",n[n.BFLOAT16=16]="BFLOAT16",n[n.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",n[n.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",n[n.FLOAT8E5M2=19]="FLOAT8E5M2",n[n.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ";})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{let t;var n;(n=t=e.NodeType||={})[n.Primitive=0]="Primitive",n[n.Fused=1]="Fused";})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{let t;var n;(n=t=e.TypeInfoValue||={})[n.NONE=0]="NONE",n[n.tensor_type=1]="tensor_type",n[n.sequence_type=2]="sequence_type",n[n.map_type=3]="map_type";})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsShape(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsShape(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}dim(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Dimension()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}dimLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startShape(e){e.startObject(1);}static addDim(e,t){e.addFieldOffset(0,t,0);}static createDimVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startDimVector(e,t){e.startVector(4,t,4);}static endShape(e){return e.endObject();}static createShape(e,t){return n.startShape(e),n.addDim(e,t),n.endShape(e);}}t.Shape=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsDimension(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsDimension(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}value(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.DimensionValue()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}denotation(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null;}static startDimension(e){e.startObject(2);}static addValue(e,t){e.addFieldOffset(0,t,0);}static addDenotation(e,t){e.addFieldOffset(1,t,0);}static endDimension(e){return e.endObject();}static createDimension(e,t,r){return n.startDimension(e),n.addValue(e,t),n.addDenotation(e,r),n.endDimension(e);}}t.Dimension=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{class t{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsDimensionValue(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsDimensionValue(e,n){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}dimType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):0;}dimValue(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0);}dimParam(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null;}static startDimensionValue(e){e.startObject(3);}static addDimType(e,t){e.addFieldInt8(0,t,0);}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0));}static addDimParam(e,t){e.addFieldOffset(2,t,0);}static endDimensionValue(e){return e.endObject();}static createDimensionValue(e,n,r,o){return t.startDimensionValue(e),t.addDimType(e,n),t.addDimValue(e,r),t.addDimParam(e,o),t.endDimensionValue(e);}}e.DimensionValue=t;})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsTensorTypeAndShape(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsTensorTypeAndShape(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}elemType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0;}shape(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Shape()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}static startTensorTypeAndShape(e){e.startObject(2);}static addElemType(e,t){e.addFieldInt32(0,t,0);}static addShape(e,t){e.addFieldOffset(1,t,0);}static endTensorTypeAndShape(e){return e.endObject();}static createTensorTypeAndShape(e,t,r){return n.startTensorTypeAndShape(e),n.addElemType(e,t),n.addShape(e,r),n.endTensorTypeAndShape(e);}}t.TensorTypeAndShape=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsMapType(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsMapType(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}keyType(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0;}valueType(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.TypeInfo()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}static startMapType(e){e.startObject(2);}static addKeyType(e,t){e.addFieldInt32(0,t,0);}static addValueType(e,t){e.addFieldOffset(1,t,0);}static endMapType(e){return e.endObject();}static createMapType(e,t,r){return n.startMapType(e),n.addKeyType(e,t),n.addValueType(e,r),n.endMapType(e);}}t.MapType=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsSequenceType(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsSequenceType(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}elemType(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.TypeInfo()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}static startSequenceType(e){e.startObject(1);}static addElemType(e,t){e.addFieldOffset(0,t,0);}static endSequenceType(e){return e.endObject();}static createSequenceType(e,t){return n.startSequenceType(e),n.addElemType(e,t),n.endSequenceType(e);}}t.SequenceType=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(t=e.fbs||={}).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}nodeIndex(){return this.bb.readUint32(this.bb_pos);}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4);}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8);}static createEdgeEnd(e,t,n,r){return e.prep(4,12),e.writeInt32(r),e.writeInt32(n),e.writeInt32(t),e.offset();}};})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsNodeEdge(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsNodeEdge(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}nodeIndex(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0;}inputEdges(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.EdgeEnd()).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null;}inputEdgesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0;}outputEdges(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.EdgeEnd()).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null;}outputEdgesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startNodeEdge(e){e.startObject(3);}static addNodeIndex(e,t){e.addFieldInt32(0,t,0);}static addInputEdges(e,t){e.addFieldOffset(1,t,0);}static startInputEdgesVector(e,t){e.startVector(12,t,4);}static addOutputEdges(e,t){e.addFieldOffset(2,t,0);}static startOutputEdgesVector(e,t){e.startVector(12,t,4);}static endNodeEdge(e){return e.endObject();}static createNodeEdge(e,t,r,o){return n.startNodeEdge(e),n.addNodeIndex(e,t),n.addInputEdges(e,r),n.addOutputEdges(e,o),n.endNodeEdge(e);}}t.NodeEdge=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsNode(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsNode(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null;}domain(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null;}sinceVersion(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0;}index(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0;}opType(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null;}type(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):0;}executionProviderType(e){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null;}inputs(e,t){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null;}inputsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0;}outputs(e,t){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null;}outputsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0;}attributes(t,n){let r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.experimental.fbs.Attribute()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}attributesLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0;}inputArgCounts(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0;}inputArgCountsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0;}inputArgCountsArray(){let e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null;}implicitInputs(e,t){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null;}implicitInputsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startNode(e){e.startObject(13);}static addName(e,t){e.addFieldOffset(0,t,0);}static addDocString(e,t){e.addFieldOffset(1,t,0);}static addDomain(e,t){e.addFieldOffset(2,t,0);}static addSinceVersion(e,t){e.addFieldInt32(3,t,0);}static addIndex(e,t){e.addFieldInt32(4,t,0);}static addOpType(e,t){e.addFieldOffset(5,t,0);}static addType(e,t){e.addFieldInt32(6,t,0);}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0);}static addInputs(e,t){e.addFieldOffset(8,t,0);}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startInputsVector(e,t){e.startVector(4,t,4);}static addOutputs(e,t){e.addFieldOffset(9,t,0);}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startOutputsVector(e,t){e.startVector(4,t,4);}static addAttributes(e,t){e.addFieldOffset(10,t,0);}static createAttributesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startAttributesVector(e,t){e.startVector(4,t,4);}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0);}static createInputArgCountsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector();}static startInputArgCountsVector(e,t){e.startVector(4,t,4);}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0);}static createImplicitInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startImplicitInputsVector(e,t){e.startVector(4,t,4);}static endNode(e){return e.endObject();}static createNode(e,t,r,o,i,a,s,u,l,c,f,p,d,h){return n.startNode(e),n.addName(e,t),n.addDocString(e,r),n.addDomain(e,o),n.addSinceVersion(e,i),n.addIndex(e,a),n.addOpType(e,s),n.addType(e,u),n.addExecutionProviderType(e,l),n.addInputs(e,c),n.addOutputs(e,f),n.addAttributes(e,p),n.addInputArgCounts(e,d),n.addImplicitInputs(e,h),n.endNode(e);}}t.Node=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsValueInfo(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsValueInfo(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null;}type(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.TypeInfo()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}static startValueInfo(e){e.startObject(3);}static addName(e,t){e.addFieldOffset(0,t,0);}static addDocString(e,t){e.addFieldOffset(1,t,0);}static addType(e,t){e.addFieldOffset(2,t,0);}static endValueInfo(e){return e.endObject();}static createValueInfo(e,t,r,o){return n.startValueInfo(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,o),n.endValueInfo(e);}}t.ValueInfo=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{class t{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsTypeInfo(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsTypeInfo(e,n){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}denotation(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}valueType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):0;}value(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null;}static startTypeInfo(e){e.startObject(3);}static addDenotation(e,t){e.addFieldOffset(0,t,0);}static addValueType(e,t){e.addFieldInt8(1,t,0);}static addValue(e,t){e.addFieldOffset(2,t,0);}static endTypeInfo(e){return e.endObject();}static createTypeInfo(e,n,r,o){return t.startTypeInfo(e),t.addDenotation(e,n),t.addValueType(e,r),t.addValue(e,o),t.endTypeInfo(e);}}e.TypeInfo=t;})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{class t{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsOperatorSetId(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsOperatorSetId(e,n){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}domain(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}version(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0);}static startOperatorSetId(e){e.startObject(2);}static addDomain(e,t){e.addFieldOffset(0,t,0);}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0));}static endOperatorSetId(e){return e.endObject();}static createOperatorSetId(e,n,r){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,r),t.endOperatorSetId(e);}}e.OperatorSetId=t;})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{class t{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsTensor(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsTensor(e,n){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null;}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0);}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0;}dataType(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0;}rawData(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0;}rawDataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0;}rawDataArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null;}stringData(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null;}stringDataLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startTensor(e){e.startObject(6);}static addName(e,t){e.addFieldOffset(0,t,0);}static addDocString(e,t){e.addFieldOffset(1,t,0);}static addDims(e,t){e.addFieldOffset(2,t,0);}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector();}static startDimsVector(e,t){e.startVector(8,t,8);}static addDataType(e,t){e.addFieldInt32(3,t,0);}static addRawData(e,t){e.addFieldOffset(4,t,0);}static createRawDataVector(e,t){e.startVector(1,t.length,1);for(let n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector();}static startRawDataVector(e,t){e.startVector(1,t,1);}static addStringData(e,t){e.addFieldOffset(5,t,0);}static createStringDataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startStringDataVector(e,t){e.startVector(4,t,4);}static endTensor(e){return e.endObject();}static createTensor(e,n,r,o,i,a,s){return t.startTensor(e),t.addName(e,n),t.addDocString(e,r),t.addDims(e,o),t.addDataType(e,i),t.addRawData(e,a),t.addStringData(e,s),t.endTensor(e);}}e.Tensor=t;})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsSparseTensor(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}values(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.Tensor()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}indices(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Tensor()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0);}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startSparseTensor(e){e.startObject(3);}static addValues(e,t){e.addFieldOffset(0,t,0);}static addIndices(e,t){e.addFieldOffset(1,t,0);}static addDims(e,t){e.addFieldOffset(2,t,0);}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector();}static startDimsVector(e,t){e.startVector(8,t,8);}static endSparseTensor(e){return e.endObject();}static createSparseTensor(e,t,r,o){return n.startSparseTensor(e),n.addValues(e,t),n.addIndices(e,r),n.addDims(e,o),n.endSparseTensor(e);}}t.SparseTensor=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsAttribute(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsAttribute(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null;}type(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):0;}f(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0;}i(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0);}s(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null;}t(t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.experimental.fbs.Tensor()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}g(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}floats(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0;}floatsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0;}floatsArray(){let e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null;}ints(e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0);}intsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0;}strings(e,t){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null;}stringsLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0;}tensors(t,n){let r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.experimental.fbs.Tensor()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}tensorsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0;}graphs(t,n){let r=this.bb.__offset(this.bb_pos,28);return r?(n||new e.experimental.fbs.Graph()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}graphsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startAttribute(e){e.startObject(13);}static addName(e,t){e.addFieldOffset(0,t,0);}static addDocString(e,t){e.addFieldOffset(1,t,0);}static addType(e,t){e.addFieldInt32(2,t,0);}static addF(e,t){e.addFieldFloat32(3,t,0);}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0));}static addS(e,t){e.addFieldOffset(5,t,0);}static addT(e,t){e.addFieldOffset(6,t,0);}static addG(e,t){e.addFieldOffset(7,t,0);}static addFloats(e,t){e.addFieldOffset(8,t,0);}static createFloatsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector();}static startFloatsVector(e,t){e.startVector(4,t,4);}static addInts(e,t){e.addFieldOffset(9,t,0);}static createIntsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector();}static startIntsVector(e,t){e.startVector(8,t,8);}static addStrings(e,t){e.addFieldOffset(10,t,0);}static createStringsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startStringsVector(e,t){e.startVector(4,t,4);}static addTensors(e,t){e.addFieldOffset(11,t,0);}static createTensorsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startTensorsVector(e,t){e.startVector(4,t,4);}static addGraphs(e,t){e.addFieldOffset(12,t,0);}static createGraphsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startGraphsVector(e,t){e.startVector(4,t,4);}static endAttribute(e){return e.endObject();}static createAttribute(e,t,r,o,i,a,s,u,l,c,f,p,d,h){return n.startAttribute(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,o),n.addF(e,i),n.addI(e,a),n.addS(e,s),n.addT(e,u),n.addG(e,l),n.addFloats(e,c),n.addInts(e,f),n.addStrings(e,p),n.addTensors(e,d),n.addGraphs(e,h),n.endAttribute(e);}}t.Attribute=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsGraph(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsGraph(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}initializers(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Tensor()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}initializersLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0;}nodeArgs(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.ValueInfo()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}nodeArgsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0;}nodes(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.Node()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}nodesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0;}maxNodeIndex(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0;}nodeEdges(t,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new e.experimental.fbs.NodeEdge()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}nodeEdgesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0;}inputs(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null;}inputsLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0;}outputs(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null;}outputsLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0;}sparseInitializers(t,n){let r=this.bb.__offset(this.bb_pos,18);return r?(n||new e.experimental.fbs.SparseTensor()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}sparseInitializersLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startGraph(e){e.startObject(8);}static addInitializers(e,t){e.addFieldOffset(0,t,0);}static createInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startInitializersVector(e,t){e.startVector(4,t,4);}static addNodeArgs(e,t){e.addFieldOffset(1,t,0);}static createNodeArgsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startNodeArgsVector(e,t){e.startVector(4,t,4);}static addNodes(e,t){e.addFieldOffset(2,t,0);}static createNodesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startNodesVector(e,t){e.startVector(4,t,4);}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0);}static addNodeEdges(e,t){e.addFieldOffset(4,t,0);}static createNodeEdgesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startNodeEdgesVector(e,t){e.startVector(4,t,4);}static addInputs(e,t){e.addFieldOffset(5,t,0);}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startInputsVector(e,t){e.startVector(4,t,4);}static addOutputs(e,t){e.addFieldOffset(6,t,0);}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startOutputsVector(e,t){e.startVector(4,t,4);}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0);}static createSparseInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startSparseInitializersVector(e,t){e.startVector(4,t,4);}static endGraph(e){return e.endObject();}static createGraph(e,t,r,o,i,a,s,u,l){return n.startGraph(e),n.addInitializers(e,t),n.addNodeArgs(e,r),n.addNodes(e,o),n.addMaxNodeIndex(e,i),n.addNodeEdges(e,a),n.addInputs(e,s),n.addOutputs(e,u),n.addSparseInitializers(e,l),n.endGraph(e);}}t.Graph=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsModel(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsModel(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}irVersion(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0);}opsetImport(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.OperatorSetId()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}opsetImportLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0;}producerName(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null;}producerVersion(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null;}domain(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null;}modelVersion(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0);}docString(e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null;}graph(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}graphDocString(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null;}static startModel(e){e.startObject(9);}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0));}static addOpsetImport(e,t){e.addFieldOffset(1,t,0);}static createOpsetImportVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startOpsetImportVector(e,t){e.startVector(4,t,4);}static addProducerName(e,t){e.addFieldOffset(2,t,0);}static addProducerVersion(e,t){e.addFieldOffset(3,t,0);}static addDomain(e,t){e.addFieldOffset(4,t,0);}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0));}static addDocString(e,t){e.addFieldOffset(6,t,0);}static addGraph(e,t){e.addFieldOffset(7,t,0);}static addGraphDocString(e,t){e.addFieldOffset(8,t,0);}static endModel(e){return e.endObject();}static createModel(e,t,r,o,i,a,s,u,l,c){return n.startModel(e),n.addIrVersion(e,t),n.addOpsetImport(e,r),n.addProducerName(e,o),n.addProducerVersion(e,i),n.addDomain(e,a),n.addModelVersion(e,s),n.addDocString(e,u),n.addGraph(e,l),n.addGraphDocString(e,c),n.endModel(e);}}t.Model=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(e=>{let t;(e=>{class t{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsKernelCreateInfos(e,n){return(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsKernelCreateInfos(e,n){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(n||new t()).__init(e.readInt32(e.position())+e.position(),e);}nodeIndices(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0;}nodeIndicesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0;}nodeIndicesArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null;}kernelDefHashes(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0);}kernelDefHashesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startKernelCreateInfos(e){e.startObject(2);}static addNodeIndices(e,t){e.addFieldOffset(0,t,0);}static createNodeIndicesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector();}static startNodeIndicesVector(e,t){e.startVector(4,t,4);}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0);}static createKernelDefHashesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector();}static startKernelDefHashesVector(e,t){e.startVector(8,t,8);}static endKernelCreateInfos(e){return e.endObject();}static createKernelCreateInfos(e,n,r){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,r),t.endKernelCreateInfos(e);}}e.KernelCreateInfos=t;})(t=e.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsSubGraphSessionState(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsSubGraphSessionState(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}graphId(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}sessionState(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.SessionState()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}static startSubGraphSessionState(e){e.startObject(2);}static addGraphId(e,t){e.addFieldOffset(0,t,0);}static addSessionState(e,t){e.addFieldOffset(1,t,0);}static endSubGraphSessionState(e){let t=e.endObject();return e.requiredField(t,4),t;}static createSubGraphSessionState(e,t,r){return n.startSubGraphSessionState(e),n.addGraphId(e,t),n.addSessionState(e,r),n.endSubGraphSessionState(e);}}t.SubGraphSessionState=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsSessionState(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsSessionState(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}kernels(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.KernelCreateInfos()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}subGraphSessionStates(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.SubGraphSessionState()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null;}subGraphSessionStatesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0;}static startSessionState(e){e.startObject(2);}static addKernels(e,t){e.addFieldOffset(0,t,0);}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0);}static createSubGraphSessionStatesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector();}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4);}static endSessionState(e){return e.endObject();}static createSessionState(e,t,r){return n.startSessionState(e),n.addKernels(e,t),n.addSubGraphSessionStates(e,r),n.endSessionState(e);}}t.SessionState=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={}),(e=>{let t;(t=>{let n;(t=>{class n{constructor(){this.bb=null,this.bb_pos=0;}__init(e,t){return this.bb_pos=e,this.bb=t,this;}static getRootAsInferenceSession(e,t){return(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static getSizePrefixedRootAsInferenceSession(e,t){return e.setPosition(e.position()+I.SIZE_PREFIX_LENGTH),(t||new n()).__init(e.readInt32(e.position())+e.position(),e);}static bufferHasIdentifier(e){return e.__has_identifier("ORTM");}ortVersion(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null;}model(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Model()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}sessionState(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.SessionState()).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null;}static startInferenceSession(e){e.startObject(3);}static addOrtVersion(e,t){e.addFieldOffset(0,t,0);}static addModel(e,t){e.addFieldOffset(1,t,0);}static addSessionState(e,t){e.addFieldOffset(2,t,0);}static endInferenceSession(e){return e.endObject();}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM");}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0);}static createInferenceSession(e,t,r,o){return n.startInferenceSession(e),n.addOrtVersion(e,t),n.addModel(e,r),n.addSessionState(e,o),n.endInferenceSession(e);}}t.InferenceSession=n;})(n=t.fbs||={});})(t=e.experimental||={});})(H||={});}),Ws=ye((e,t)=>{t.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(o,a){n[r]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t);}};try{e.apply(t||null,n);}catch(e){i&&(i=!1,a(e));}});};}),qs=ye(e=>{var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n;};var n,r=new Array(64),o=new Array(123);for(n=0;n<64;)o[r[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;t.encode=function(e,t,n){for(var o,i=null,a=[],s=0,u=0;t<n;){var l=e[t++];switch(u){case 0:a[s++]=r[l>>2],o=(3&l)<<4,u=1;break;case 1:a[s++]=r[o|l>>4],o=(15&l)<<2,u=2;break;case 2:a[s++]=r[o|l>>6],a[s++]=r[63&l],u=0;}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0);}return u&&(a[s++]=r[o],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s));};var i="invalid encoding";t.decode=function(e,t,n){for(var r,a=n,s=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&s>1)break;if(void 0===(l=o[l]))throw Error(i);switch(s){case 0:r=l,s=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:t[n++]=(3&r)<<6|l,s=0;}}if(1===s)throw Error(i);return n-a;},t.test=function(e){return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e);};}),Xs=ye((e,t)=>{function n(){this._listeners={};}t.exports=n,n.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this;},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this;},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n);}return this;};}),ru=ye((e,t)=>{function n(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3];}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0];}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0];}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0];}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a;}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r);}}function n(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608);}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,i),e.readFloatBE=n.bind(null,a);}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7];}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0];}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0];}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0];}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a;}():function(){function t(e,t,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=r*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+n);}}}function n(e,t,n,r,o){var i=e(r,o+t),a=e(r,o+n),s=2*(a>>31)+1,u=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496);}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,i,0,4),e.readDoubleBE=n.bind(null,a,4,0);}(),e;}function r(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24;}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e;}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0;}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0;}t.exports=n(n);}),nu=ye((exports,module)=>{function inquire(moduleName){try{var mod=undefined;if(mod&&(mod.length||Object.keys(mod).length))return mod;}catch(e){}return null;}module.exports=inquire;}),iu=ye(e=>{var t=e;t.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t;},t.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],a=0;t<n;)(r=e[t++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a));},t.write=function(e,t,n){for(var r,o,i=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i;};}),su=ye((e,t)=>{t.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return e(n);a+n>r&&(i=e(r),a=0);var s=t.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s;};};}),lu=ye((e,t)=>{t.exports=r;var n=tr();function r(e,t){this.lo=e>>>0,this.hi=t>>>0;}var o=r.zero=new r(0,0);o.toNumber=function(){return 0;},o.zzEncode=o.zzDecode=function(){return this;},o.length=function(){return 1;};var i=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i);},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e)){if(!n.Long)return r.fromNumber(parseInt(e,10));e=n.Long.fromString(e);}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o;},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n);}return this.lo+4294967296*this.hi;},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e};};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===i?o:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0);},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24);},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this;},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this;},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10;};}),tr=ye(e=>{var t=e;function n(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)(void 0===e[r[o]]||!n)&&(e[r[o]]=t[r[o]]);return e;}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e;}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&n(this,r);}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e;},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message;},writable:!0,enumerable:!1,configurable:!0}}),t;}t.asPromise=Ws(),t.base64=qs(),t.EventEmitter=Xs(),t.float=ru(),t.inquire=nu(),t.utf8=iu(),t.pool=su(),t.LongBits=lu(),t.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),t.global=t.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;},t.isString=function(e){return"string"==typeof e||e instanceof String;},t.isObject=function(e){return e&&"object"==typeof e;},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0);},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null;}catch{return null;}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e);},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash;},t.longFromHash=function(e,n){var r=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(r.lo,r.hi,n):r.toNumber(!!n);},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1);},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n];};},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]];};},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n);},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t);}):t._Buffer_from=t._Buffer_allocUnsafe=null;};}),mi=ye((e,t)=>{t.exports=c;var n,r=tr(),o=r.LongBits,i=r.base64,a=r.utf8;function s(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n;}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states;}function c(){this.len=0,this.head=new s(u,0,0),this.tail=this.head,this.states=null;}var f=function(){return r.Buffer?function(){return(c.create=function(){return new n();})();}:function(){return new c();};};function p(e,t,n){t[n]=255&e;}function d(e,t){this.len=e,this.next=void 0,this.val=t;}function h(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo;}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24;}c.create=f(),c.alloc=function(e){return new r.Array(e);},r.Array!==Array&&(c.alloc=r.pool(c.alloc,r.Array.prototype.subarray)),c.prototype._push=function(e,t,n){return this.tail=this.tail.next=new s(e,t,n),this.len+=t,this;},d.prototype=Object.create(s.prototype),d.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e;},c.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this;},c.prototype.int32=function(e){return e<0?this._push(h,10,o.fromNumber(e)):this.uint32(e);},c.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0);},c.prototype.uint64=function(e){var t=o.from(e);return this._push(h,t.length(),t);},c.prototype.int64=c.prototype.uint64,c.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(h,t.length(),t);},c.prototype.bool=function(e){return this._push(p,1,e?1:0);},c.prototype.fixed32=function(e){return this._push(g,4,e>>>0);},c.prototype.sfixed32=c.prototype.fixed32,c.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi);},c.prototype.sfixed64=c.prototype.fixed64,c.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e);},c.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e);};var m=r.Array.prototype.set?function(e,t,n){t.set(e,n);}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r];};c.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(r.isString(e)){var n=c.alloc(t=i.length(e));i.decode(e,n,0),e=n;}return this.uint32(t)._push(m,t,e);},c.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0);},c.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new s(u,0,0),this.len=0,this;},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(u,0,0),this.len=0),this;},c.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this;},c.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t;},c._configure=function(e){n=e,c.create=f(),n._configure();};}),yu=ye((e,t)=>{t.exports=o;var n=mi();(o.prototype=Object.create(n.prototype)).constructor=o;var r=tr();function o(){n.call(this);}function i(e,t,n){e.length<40?r.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n);}o._configure=function(){o.alloc=r._Buffer_allocUnsafe,o.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,n){t.set(e,n);}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++];};},o.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this;},o.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(i,t,e),this;},o._configure();}),yi=ye((e,t)=>{t.exports=s;var n,r=tr(),o=r.LongBits,i=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len);}function s(e){this.buf=e,this.pos=0,this.len=e.length;}var u,l=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new s(e);throw Error("illegal buffer");}:function(e){if(Array.isArray(e))return new s(e);throw Error("illegal buffer");},c=function(){return r.Buffer?function(e){return(s.create=function(e){return r.Buffer.isBuffer(e)?new n(e):l(e);})(e);}:l;};function f(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e;}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e;}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e;}throw Error("invalid varint encoding");}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0;}function d(){if(this.pos+8>this.len)throw a(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4));}s.create=c(),s.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,s.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u;}),s.prototype.int32=function(){return 0|this.uint32();},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0;},s.prototype.bool=function(){return 0!==this.uint32();},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4);},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4);},s.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e;},s.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e;},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n);},s.prototype.string=function(){var e=this.bytes();return i.read(e,0,e.length);},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e;}else do{if(this.pos>=this.len)throw a(this);}while(128&this.buf[this.pos++]);return this;},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos);}return this;},s._configure=function(e){n=e,s.create=c(),n._configure();var t=r.Long?"toLong":"toNumber";r.merge(s.prototype,{int64:function(){return f.call(this)[t](!1);},uint64:function(){return f.call(this)[t](!0);},sint64:function(){return f.call(this).zzDecode()[t](!1);},fixed64:function(){return d.call(this)[t](!0);},sfixed64:function(){return d.call(this)[t](!1);}});};}),Au=ye((e,t)=>{t.exports=o;var n=yi();(o.prototype=Object.create(n.prototype)).constructor=o;var r=tr();function o(e){n.call(this,e);}o._configure=function(){r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice);},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len));},o._configure();}),Pu=ye((e,t)=>{t.exports=r;var n=tr();function r(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r;}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n);}catch(e){return s.emit("error",e,t),a(e);}return s.emit("data",n,t),a(null,n);}s.end(!0);});}catch(e){return s.emit("error",e,t),void setTimeout(function(){a(e);},0);}else setTimeout(function(){a(Error("already ended"));},0);},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this;};}),Lu=ye(e=>{e.Service=Pu();}),Cu=ye((e,t)=>{t.exports={};}),ku=ye(e=>{var t=e;function n(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader);}t.build="minimal",t.Writer=mi(),t.BufferWriter=yu(),t.Reader=yi(),t.BufferReader=Au(),t.util=tr(),t.rpc=Lu(),t.roots=Cu(),t.configure=n,n();}),Ru=ye((e,t)=>{t.exports=ku();}),Ur=ye((e,t)=>{var n,r,o,i=Ru(),a=i.Reader,s=i.Writer,u=i.util,l=i.roots.default||(i.roots.default={});l.onnx=((o={}).Version=(n={},(r=Object.create(n))[n[0]="_START_VERSION"]=0,r[n[1]="IR_VERSION_2017_10_10"]=1,r[n[2]="IR_VERSION_2017_10_30"]=2,r[n[3]="IR_VERSION_2017_11_3"]=3,r[n[4]="IR_VERSION_2019_1_22"]=4,r[n[5]="IR_VERSION_2019_3_18"]=5,r[n[6]="IR_VERSION_2019_9_19"]=6,r[n[7]="IR_VERSION_2020_5_8"]=7,r[n[8]="IR_VERSION_2021_7_30"]=8,r[n[9]="IR_VERSION"]=9,r),o.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.s=u.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.sparseTensor=null,e.prototype.tp=null,e.prototype.floats=u.emptyArray,e.prototype.ints=u.emptyArray,e.prototype.strings=u.emptyArray,e.prototype.tensors=u.emptyArray,e.prototype.graphs=u.emptyArray,e.prototype.sparseTensors=u.emptyArray,e.prototype.typeProtos=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.f&&Object.hasOwnProperty.call(e,"f")&&t.uint32(21).float(e.f),null!=e.i&&Object.hasOwnProperty.call(e,"i")&&t.uint32(24).int64(e.i),null!=e.s&&Object.hasOwnProperty.call(e,"s")&&t.uint32(34).bytes(e.s),null!=e.t&&Object.hasOwnProperty.call(e,"t")&&l.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&Object.hasOwnProperty.call(e,"g")&&l.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim();}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim();}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)l.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)l.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();if(null!=e.docString&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(106).string(e.docString),null!=e.tp&&Object.hasOwnProperty.call(e,"tp")&&l.onnx.TypeProto.encode(e.tp,t.uint32(114).fork()).ldelim(),null!=e.typeProtos&&e.typeProtos.length)for(n=0;n<e.typeProtos.length;++n)l.onnx.TypeProto.encode(e.typeProtos[n],t.uint32(122).fork()).ldelim();if(null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&Object.hasOwnProperty.call(e,"refAttrName")&&t.uint32(170).string(e.refAttrName),null!=e.sparseTensor&&Object.hasOwnProperty.call(e,"sparseTensor")&&l.onnx.SparseTensorProto.encode(e.sparseTensor,t.uint32(178).fork()).ldelim(),null!=e.sparseTensors&&e.sparseTensors.length)for(n=0;n<e.sparseTensors.length;++n)l.onnx.SparseTensorProto.encode(e.sparseTensors[n],t.uint32(186).fork()).ldelim();return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.AttributeProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=l.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=l.onnx.GraphProto.decode(e,e.uint32());break;case 22:r.sparseTensor=l.onnx.SparseTensorProto.decode(e,e.uint32());break;case 14:r.tp=l.onnx.TypeProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(l.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(l.onnx.GraphProto.decode(e,e.uint32()));break;case 23:r.sparseTensors&&r.sparseTensors.length||(r.sparseTensors=[]),r.sparseTensors.push(l.onnx.SparseTensorProto.decode(e,e.uint32()));break;case 15:r.typeProtos&&r.typeProtos.length||(r.typeProtos=[]),r.typeProtos.push(l.onnx.TypeProto.decode(e,e.uint32()));break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!u.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!u.isInteger(e.i)&&!(e.i&&u.isInteger(e.i.low)&&u.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||u.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=l.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=l.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.sparseTensor&&e.hasOwnProperty("sparseTensor")&&(n=l.onnx.SparseTensorProto.verify(e.sparseTensor)))return"sparseTensor."+n;if(null!=e.tp&&e.hasOwnProperty("tp")&&(n=l.onnx.TypeProto.verify(e.tp)))return"tp."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected";}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(u.isInteger(e.ints[t])||e.ints[t]&&u.isInteger(e.ints[t].low)&&u.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected";}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||u.isString(e.strings[t])))return"strings: buffer[] expected";}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=l.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n;}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t)if(n=l.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n;}if(null!=e.sparseTensors&&e.hasOwnProperty("sparseTensors")){if(!Array.isArray(e.sparseTensors))return"sparseTensors: array expected";for(t=0;t<e.sparseTensors.length;++t)if(n=l.onnx.SparseTensorProto.verify(e.sparseTensors[t]))return"sparseTensors."+n;}if(null!=e.typeProtos&&e.hasOwnProperty("typeProtos")){if(!Array.isArray(e.typeProtos))return"typeProtos: array expected";for(t=0;t<e.typeProtos.length;++t){var n;if(n=l.onnx.TypeProto.verify(e.typeProtos[t]))return"typeProtos."+n;}}return null;},e.fromObject=function(e){if(e instanceof l.onnx.AttributeProto)return e;var t=new l.onnx.AttributeProto();switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){default:if("number"==typeof e.type){t.type=e.type;break;}break;case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"SPARSE_TENSOR":case 11:t.type=11;break;case"TYPE_PROTO":case 13:t.type=13;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10;break;case"SPARSE_TENSORS":case 12:t.type=12;break;case"TYPE_PROTOS":case 14:t.type=14;}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(u.Long?(t.i=u.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new u.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?u.base64.decode(e.s,t.s=u.newBuffer(u.base64.length(e.s)),0):e.s.length>=0&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=l.onnx.TensorProto.fromObject(e.t);}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=l.onnx.GraphProto.fromObject(e.g);}if(null!=e.sparseTensor){if("object"!=typeof e.sparseTensor)throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");t.sparseTensor=l.onnx.SparseTensorProto.fromObject(e.sparseTensor);}if(null!=e.tp){if("object"!=typeof e.tp)throw TypeError(".onnx.AttributeProto.tp: object expected");t.tp=l.onnx.TypeProto.fromObject(e.tp);}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n]);}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)u.Long?(t.ints[n]=u.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new u.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber());}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?u.base64.decode(e.strings[n],t.strings[n]=u.newBuffer(u.base64.length(e.strings[n])),0):e.strings[n].length>=0&&(t.strings[n]=e.strings[n]);}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=l.onnx.TensorProto.fromObject(e.tensors[n]);}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=l.onnx.GraphProto.fromObject(e.graphs[n]);}}if(e.sparseTensors){if(!Array.isArray(e.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(t.sparseTensors=[],n=0;n<e.sparseTensors.length;++n){if("object"!=typeof e.sparseTensors[n])throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");t.sparseTensors[n]=l.onnx.SparseTensorProto.fromObject(e.sparseTensors[n]);}}if(e.typeProtos){if(!Array.isArray(e.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(t.typeProtos=[],n=0;n<e.typeProtos.length;++n){if("object"!=typeof e.typeProtos[n])throw TypeError(".onnx.AttributeProto.typeProtos: object expected");t.typeProtos[n]=l.onnx.TypeProto.fromObject(e.typeProtos[n]);}}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[],n.typeProtos=[],n.sparseTensors=[]),t.defaults){if(n.name="",n.f=0,u.Long){var r=new u.Long(0,0,!1);n.i=t.longs===String?r.toString():t.longs===Number?r.toNumber():r;}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=u.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.tp=null,n.type=t.enums===String?"UNDEFINED":0,n.refAttrName="",n.sparseTensor=null;}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?u.Long.prototype.toString.call(e.i):t.longs===Number?new u.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?u.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=l.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=l.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var o=0;o<e.floats.length;++o)n.floats[o]=t.json&&!isFinite(e.floats[o])?String(e.floats[o]):e.floats[o];}if(e.ints&&e.ints.length)for(n.ints=[],o=0;o<e.ints.length;++o)"number"==typeof e.ints[o]?n.ints[o]=t.longs===String?String(e.ints[o]):e.ints[o]:n.ints[o]=t.longs===String?u.Long.prototype.toString.call(e.ints[o]):t.longs===Number?new u.LongBits(e.ints[o].low>>>0,e.ints[o].high>>>0).toNumber():e.ints[o];if(e.strings&&e.strings.length)for(n.strings=[],o=0;o<e.strings.length;++o)n.strings[o]=t.bytes===String?u.base64.encode(e.strings[o],0,e.strings[o].length):t.bytes===Array?Array.prototype.slice.call(e.strings[o]):e.strings[o];if(e.tensors&&e.tensors.length)for(n.tensors=[],o=0;o<e.tensors.length;++o)n.tensors[o]=l.onnx.TensorProto.toObject(e.tensors[o],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],o=0;o<e.graphs.length;++o)n.graphs[o]=l.onnx.GraphProto.toObject(e.graphs[o],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.tp&&e.hasOwnProperty("tp")&&(n.tp=l.onnx.TypeProto.toObject(e.tp,t)),e.typeProtos&&e.typeProtos.length)for(n.typeProtos=[],o=0;o<e.typeProtos.length;++o)n.typeProtos[o]=l.onnx.TypeProto.toObject(e.typeProtos[o],t);if(null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?void 0===l.onnx.AttributeProto.AttributeType[e.type]?e.type:l.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),null!=e.sparseTensor&&e.hasOwnProperty("sparseTensor")&&(n.sparseTensor=l.onnx.SparseTensorProto.toObject(e.sparseTensor,t)),e.sparseTensors&&e.sparseTensors.length)for(n.sparseTensors=[],o=0;o<e.sparseTensors.length;++o)n.sparseTensors[o]=l.onnx.SparseTensorProto.toObject(e.sparseTensors[o],t);return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.AttributeProto";},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[11]="SPARSE_TENSOR"]=11,t[e[13]="TYPE_PROTO"]=13,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t[e[12]="SPARSE_TENSORS"]=12,t[e[14]="TYPE_PROTOS"]=14,t;}(),e;}(),o.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&l.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(26).string(e.docString),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.ValueInfoProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.type=l.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=l.onnx.TypeProto.verify(e.type);if(t)return"type."+t;}return null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString)?"docString: string expected":null;},e.fromObject=function(e){if(e instanceof l.onnx.ValueInfoProto)return e;var t=new l.onnx.ValueInfoProto();if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=l.onnx.TypeProto.fromObject(e.type);}return null!=e.docString&&(t.docString=String(e.docString)),t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=l.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.ValueInfoProto";},e;}(),o.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.input=u.emptyArray,e.prototype.output=u.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=u.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(26).string(e.name),null!=e.opType&&Object.hasOwnProperty.call(e,"opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)l.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(50).string(e.docString),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(58).string(e.domain),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.NodeProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(l.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!u.isString(e.input[t]))return"input: string[] expected";}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!u.isString(e.output[t]))return"output: string[] expected";}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!u.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=l.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n;}}return null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString)?"docString: string expected":null;},e.fromObject=function(e){if(e instanceof l.onnx.NodeProto)return e;var t=new l.onnx.NodeProto();if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n]);}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n]);}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=l.onnx.AttributeProto.fromObject(e.attribute[n]);}}return null!=e.docString&&(t.docString=String(e.docString)),t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r];}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=l.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.NodeProto";},e;}(),o.TrainingInfoProto=function(){function e(e){if(this.initializationBinding=[],this.updateBinding=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.initialization=null,e.prototype.algorithm=null,e.prototype.initializationBinding=u.emptyArray,e.prototype.updateBinding=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.initialization&&Object.hasOwnProperty.call(e,"initialization")&&l.onnx.GraphProto.encode(e.initialization,t.uint32(10).fork()).ldelim(),null!=e.algorithm&&Object.hasOwnProperty.call(e,"algorithm")&&l.onnx.GraphProto.encode(e.algorithm,t.uint32(18).fork()).ldelim(),null!=e.initializationBinding&&e.initializationBinding.length)for(var n=0;n<e.initializationBinding.length;++n)l.onnx.StringStringEntryProto.encode(e.initializationBinding[n],t.uint32(26).fork()).ldelim();if(null!=e.updateBinding&&e.updateBinding.length)for(n=0;n<e.updateBinding.length;++n)l.onnx.StringStringEntryProto.encode(e.updateBinding[n],t.uint32(34).fork()).ldelim();return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TrainingInfoProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.initialization=l.onnx.GraphProto.decode(e,e.uint32());break;case 2:r.algorithm=l.onnx.GraphProto.decode(e,e.uint32());break;case 3:r.initializationBinding&&r.initializationBinding.length||(r.initializationBinding=[]),r.initializationBinding.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 4:r.updateBinding&&r.updateBinding.length||(r.updateBinding=[]),r.updateBinding.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.initialization&&e.hasOwnProperty("initialization")&&(n=l.onnx.GraphProto.verify(e.initialization)))return"initialization."+n;if(null!=e.algorithm&&e.hasOwnProperty("algorithm")&&(n=l.onnx.GraphProto.verify(e.algorithm)))return"algorithm."+n;if(null!=e.initializationBinding&&e.hasOwnProperty("initializationBinding")){if(!Array.isArray(e.initializationBinding))return"initializationBinding: array expected";for(var t=0;t<e.initializationBinding.length;++t)if(n=l.onnx.StringStringEntryProto.verify(e.initializationBinding[t]))return"initializationBinding."+n;}if(null!=e.updateBinding&&e.hasOwnProperty("updateBinding")){if(!Array.isArray(e.updateBinding))return"updateBinding: array expected";for(t=0;t<e.updateBinding.length;++t){var n;if(n=l.onnx.StringStringEntryProto.verify(e.updateBinding[t]))return"updateBinding."+n;}}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TrainingInfoProto)return e;var t=new l.onnx.TrainingInfoProto();if(null!=e.initialization){if("object"!=typeof e.initialization)throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");t.initialization=l.onnx.GraphProto.fromObject(e.initialization);}if(null!=e.algorithm){if("object"!=typeof e.algorithm)throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");t.algorithm=l.onnx.GraphProto.fromObject(e.algorithm);}if(e.initializationBinding){if(!Array.isArray(e.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");t.initializationBinding=[];for(var n=0;n<e.initializationBinding.length;++n){if("object"!=typeof e.initializationBinding[n])throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");t.initializationBinding[n]=l.onnx.StringStringEntryProto.fromObject(e.initializationBinding[n]);}}if(e.updateBinding){if(!Array.isArray(e.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(t.updateBinding=[],n=0;n<e.updateBinding.length;++n){if("object"!=typeof e.updateBinding[n])throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");t.updateBinding[n]=l.onnx.StringStringEntryProto.fromObject(e.updateBinding[n]);}}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.initializationBinding=[],n.updateBinding=[]),t.defaults&&(n.initialization=null,n.algorithm=null),null!=e.initialization&&e.hasOwnProperty("initialization")&&(n.initialization=l.onnx.GraphProto.toObject(e.initialization,t)),null!=e.algorithm&&e.hasOwnProperty("algorithm")&&(n.algorithm=l.onnx.GraphProto.toObject(e.algorithm,t)),e.initializationBinding&&e.initializationBinding.length){n.initializationBinding=[];for(var r=0;r<e.initializationBinding.length;++r)n.initializationBinding[r]=l.onnx.StringStringEntryProto.toObject(e.initializationBinding[r],t);}if(e.updateBinding&&e.updateBinding.length)for(n.updateBinding=[],r=0;r<e.updateBinding.length;++r)n.updateBinding[r]=l.onnx.StringStringEntryProto.toObject(e.updateBinding[r],t);return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TrainingInfoProto";},e;}(),o.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.irVersion=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=u.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=u.emptyArray,e.prototype.trainingInfo=u.emptyArray,e.prototype.functions=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.irVersion&&Object.hasOwnProperty.call(e,"irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&Object.hasOwnProperty.call(e,"producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&Object.hasOwnProperty.call(e,"producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&Object.hasOwnProperty.call(e,"modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(50).string(e.docString),null!=e.graph&&Object.hasOwnProperty.call(e,"graph")&&l.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)l.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)l.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();if(null!=e.trainingInfo&&e.trainingInfo.length)for(n=0;n<e.trainingInfo.length;++n)l.onnx.TrainingInfoProto.encode(e.trainingInfo[n],t.uint32(162).fork()).ldelim();if(null!=e.functions&&e.functions.length)for(n=0;n<e.functions.length;++n)l.onnx.FunctionProto.encode(e.functions[n],t.uint32(202).fork()).ldelim();return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.ModelProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(l.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=l.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 20:r.trainingInfo&&r.trainingInfo.length||(r.trainingInfo=[]),r.trainingInfo.push(l.onnx.TrainingInfoProto.decode(e,e.uint32()));break;case 25:r.functions&&r.functions.length||(r.functions=[]),r.functions.push(l.onnx.FunctionProto.decode(e,e.uint32()));break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!u.isInteger(e.irVersion)&&!(e.irVersion&&u.isInteger(e.irVersion.low)&&u.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=l.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n;}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!u.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!u.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!u.isInteger(e.modelVersion)&&!(e.modelVersion&&u.isInteger(e.modelVersion.low)&&u.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=l.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t)if(n=l.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n;}if(null!=e.trainingInfo&&e.hasOwnProperty("trainingInfo")){if(!Array.isArray(e.trainingInfo))return"trainingInfo: array expected";for(t=0;t<e.trainingInfo.length;++t)if(n=l.onnx.TrainingInfoProto.verify(e.trainingInfo[t]))return"trainingInfo."+n;}if(null!=e.functions&&e.hasOwnProperty("functions")){if(!Array.isArray(e.functions))return"functions: array expected";for(t=0;t<e.functions.length;++t){var n;if(n=l.onnx.FunctionProto.verify(e.functions[t]))return"functions."+n;}}return null;},e.fromObject=function(e){if(e instanceof l.onnx.ModelProto)return e;var t=new l.onnx.ModelProto();if(null!=e.irVersion&&(u.Long?(t.irVersion=u.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new u.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=l.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n]);}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(u.Long?(t.modelVersion=u.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new u.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=l.onnx.GraphProto.fromObject(e.graph);}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=l.onnx.StringStringEntryProto.fromObject(e.metadataProps[n]);}}if(e.trainingInfo){if(!Array.isArray(e.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(t.trainingInfo=[],n=0;n<e.trainingInfo.length;++n){if("object"!=typeof e.trainingInfo[n])throw TypeError(".onnx.ModelProto.trainingInfo: object expected");t.trainingInfo[n]=l.onnx.TrainingInfoProto.fromObject(e.trainingInfo[n]);}}if(e.functions){if(!Array.isArray(e.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(t.functions=[],n=0;n<e.functions.length;++n){if("object"!=typeof e.functions[n])throw TypeError(".onnx.ModelProto.functions: object expected");t.functions[n]=l.onnx.FunctionProto.fromObject(e.functions[n]);}}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[],n.trainingInfo=[],n.functions=[]),t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.irVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r;}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",u.Long?(r=new u.Long(0,0,!1),n.modelVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null;}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?u.Long.prototype.toString.call(e.irVersion):t.longs===Number?new u.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?u.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new u.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=l.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var o=0;o<e.opsetImport.length;++o)n.opsetImport[o]=l.onnx.OperatorSetIdProto.toObject(e.opsetImport[o],t);}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],o=0;o<e.metadataProps.length;++o)n.metadataProps[o]=l.onnx.StringStringEntryProto.toObject(e.metadataProps[o],t);if(e.trainingInfo&&e.trainingInfo.length)for(n.trainingInfo=[],o=0;o<e.trainingInfo.length;++o)n.trainingInfo[o]=l.onnx.TrainingInfoProto.toObject(e.trainingInfo[o],t);if(e.functions&&e.functions.length)for(n.functions=[],o=0;o<e.functions.length;++o)n.functions[o]=l.onnx.FunctionProto.toObject(e.functions[o],t);return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.ModelProto";},e;}(),o.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.StringStringEntryProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!u.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!u.isString(e.value)?"value: string expected":null;},e.fromObject=function(e){if(e instanceof l.onnx.StringStringEntryProto)return e;var t=new l.onnx.StringStringEntryProto();return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.StringStringEntryProto";},e;}(),o.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.tensorName&&Object.hasOwnProperty.call(e,"tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)l.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorAnnotation();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!u.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=l.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n;}}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TensorAnnotation)return e;var t=new l.onnx.TensorAnnotation();if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=l.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n]);}}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=l.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t);}return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TensorAnnotation";},e;}(),o.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.node=u.emptyArray,e.prototype.name="",e.prototype.initializer=u.emptyArray,e.prototype.sparseInitializer=u.emptyArray,e.prototype.docString="",e.prototype.input=u.emptyArray,e.prototype.output=u.emptyArray,e.prototype.valueInfo=u.emptyArray,e.prototype.quantizationAnnotation=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)l.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)l.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)l.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)l.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)l.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)l.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();if(null!=e.sparseInitializer&&e.sparseInitializer.length)for(n=0;n<e.sparseInitializer.length;++n)l.onnx.SparseTensorProto.encode(e.sparseInitializer[n],t.uint32(122).fork()).ldelim();return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.GraphProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(l.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(l.onnx.TensorProto.decode(e,e.uint32()));break;case 15:r.sparseInitializer&&r.sparseInitializer.length||(r.sparseInitializer=[]),r.sparseInitializer.push(l.onnx.SparseTensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(l.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(l.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(l.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(l.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=l.onnx.NodeProto.verify(e.node[t]))return"node."+n;}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=l.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n;}if(null!=e.sparseInitializer&&e.hasOwnProperty("sparseInitializer")){if(!Array.isArray(e.sparseInitializer))return"sparseInitializer: array expected";for(t=0;t<e.sparseInitializer.length;++t)if(n=l.onnx.SparseTensorProto.verify(e.sparseInitializer[t]))return"sparseInitializer."+n;}if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=l.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n;}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=l.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n;}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=l.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n;}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=l.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n;}}return null;},e.fromObject=function(e){if(e instanceof l.onnx.GraphProto)return e;var t=new l.onnx.GraphProto();if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=l.onnx.NodeProto.fromObject(e.node[n]);}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=l.onnx.TensorProto.fromObject(e.initializer[n]);}}if(e.sparseInitializer){if(!Array.isArray(e.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(t.sparseInitializer=[],n=0;n<e.sparseInitializer.length;++n){if("object"!=typeof e.sparseInitializer[n])throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");t.sparseInitializer[n]=l.onnx.SparseTensorProto.fromObject(e.sparseInitializer[n]);}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=l.onnx.ValueInfoProto.fromObject(e.input[n]);}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=l.onnx.ValueInfoProto.fromObject(e.output[n]);}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=l.onnx.ValueInfoProto.fromObject(e.valueInfo[n]);}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=l.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n]);}}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[],n.sparseInitializer=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=l.onnx.NodeProto.toObject(e.node[r],t);}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=l.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=l.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=l.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=l.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=l.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);if(e.sparseInitializer&&e.sparseInitializer.length)for(n.sparseInitializer=[],r=0;r<e.sparseInitializer.length;++r)n.sparseInitializer[r]=l.onnx.SparseTensorProto.toObject(e.sparseInitializer[r],t);return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.GraphProto";},e;}(),o.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.dims=u.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=u.emptyArray,e.prototype.int32Data=u.emptyArray,e.prototype.stringData=u.emptyArray,e.prototype.int64Data=u.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=u.newBuffer([]),e.prototype.externalData=u.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=u.emptyArray,e.prototype.uint64Data=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim();}if(null!=e.dataType&&Object.hasOwnProperty.call(e,"dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&Object.hasOwnProperty.call(e,"segment")&&l.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim();}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim();}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim();}if(null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(66).string(e.name),null!=e.rawData&&Object.hasOwnProperty.call(e,"rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim();}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim();}if(null!=e.docString&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)l.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&Object.hasOwnProperty.call(e,"dataLocation")&&t.uint32(112).int32(e.dataLocation),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=l.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(u.isInteger(e.dims[t])||e.dims[t]&&u.isInteger(e.dims[t].low)&&u.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected";}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!u.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=l.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected";}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!u.isInteger(e.int32Data[t]))return"int32Data: integer[] expected";}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||u.isString(e.stringData[t])))return"stringData: buffer[] expected";}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(u.isInteger(e.int64Data[t])||e.int64Data[t]&&u.isInteger(e.int64Data[t].low)&&u.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected";}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||u.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=l.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n;}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected";}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(u.isInteger(e.uint64Data[t])||e.uint64Data[t]&&u.isInteger(e.uint64Data[t].low)&&u.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected";}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TensorProto)return e;var t=new l.onnx.TensorProto();if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)u.Long?(t.dims[n]=u.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new u.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber());}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=l.onnx.TensorProto.Segment.fromObject(e.segment);}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n]);}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n];}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?u.base64.decode(e.stringData[n],t.stringData[n]=u.newBuffer(u.base64.length(e.stringData[n])),0):e.stringData[n].length>=0&&(t.stringData[n]=e.stringData[n]);}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)u.Long?(t.int64Data[n]=u.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new u.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber());}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?u.base64.decode(e.rawData,t.rawData=u.newBuffer(u.base64.length(e.rawData)),0):e.rawData.length>=0&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=l.onnx.StringStringEntryProto.fromObject(e.externalData[n]);}}switch(e.dataLocation){default:if("number"==typeof e.dataLocation){t.dataLocation=e.dataLocation;break;}break;case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1;}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n]);}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)u.Long?(t.uint64Data[n]=u.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new u.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0));}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=u.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?u.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new u.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r];}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=l.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?u.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?u.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new u.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?u.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?u.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new u.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=l.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?void 0===l.onnx.TensorProto.DataLocation[e.dataLocation]?e.dataLocation:l.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TensorProto";},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t[e[17]="FLOAT8E4M3FN"]=17,t[e[18]="FLOAT8E4M3FNUZ"]=18,t[e[19]="FLOAT8E5M2"]=19,t[e[20]="FLOAT8E5M2FNUZ"]=20,t;}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.begin=u.Long?u.Long.fromBits(0,0,!1):0,e.prototype.end=u.Long?u.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(8).int64(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int64(e.end),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorProto.Segment();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null==e.begin||!e.hasOwnProperty("begin")||u.isInteger(e.begin)||e.begin&&u.isInteger(e.begin.low)&&u.isInteger(e.begin.high)?null==e.end||!e.hasOwnProperty("end")||u.isInteger(e.end)||e.end&&u.isInteger(e.end.low)&&u.isInteger(e.end.high)?null:"end: integer|Long expected":"begin: integer|Long expected";},e.fromObject=function(e){if(e instanceof l.onnx.TensorProto.Segment)return e;var t=new l.onnx.TensorProto.Segment();return null!=e.begin&&(u.Long?(t.begin=u.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new u.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(u.Long?(t.end=u.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new u.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t;},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(u.Long){var r=new u.Long(0,0,!1);n.begin=t.longs===String?r.toString():t.longs===Number?r.toNumber():r;}else n.begin=t.longs===String?"0":0;u.Long?(r=new u.Long(0,0,!1),n.end=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.end=t.longs===String?"0":0;}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?u.Long.prototype.toString.call(e.begin):t.longs===Number?new u.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?u.Long.prototype.toString.call(e.end):t.longs===Number?new u.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TensorProto.Segment";},e;}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t;}(),e;}(),o.SparseTensorProto=function(){function e(e){if(this.dims=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.values=null,e.prototype.indices=null,e.prototype.dims=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.values&&Object.hasOwnProperty.call(e,"values")&&l.onnx.TensorProto.encode(e.values,t.uint32(10).fork()).ldelim(),null!=e.indices&&Object.hasOwnProperty.call(e,"indices")&&l.onnx.TensorProto.encode(e.indices,t.uint32(18).fork()).ldelim(),null!=e.dims&&e.dims.length){t.uint32(26).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim();}return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.SparseTensorProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.values=l.onnx.TensorProto.decode(e,e.uint32());break;case 2:r.indices=l.onnx.TensorProto.decode(e,e.uint32());break;case 3:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.dims.push(e.int64());else r.dims.push(e.int64());break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t;if(null!=e.values&&e.hasOwnProperty("values")&&(t=l.onnx.TensorProto.verify(e.values)))return"values."+t;if(null!=e.indices&&e.hasOwnProperty("indices")&&(t=l.onnx.TensorProto.verify(e.indices)))return"indices."+t;if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var n=0;n<e.dims.length;++n)if(!(u.isInteger(e.dims[n])||e.dims[n]&&u.isInteger(e.dims[n].low)&&u.isInteger(e.dims[n].high)))return"dims: integer|Long[] expected";}return null;},e.fromObject=function(e){if(e instanceof l.onnx.SparseTensorProto)return e;var t=new l.onnx.SparseTensorProto();if(null!=e.values){if("object"!=typeof e.values)throw TypeError(".onnx.SparseTensorProto.values: object expected");t.values=l.onnx.TensorProto.fromObject(e.values);}if(null!=e.indices){if("object"!=typeof e.indices)throw TypeError(".onnx.SparseTensorProto.indices: object expected");t.indices=l.onnx.TensorProto.fromObject(e.indices);}if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)u.Long?(t.dims[n]=u.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new u.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber());}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[]),t.defaults&&(n.values=null,n.indices=null),null!=e.values&&e.hasOwnProperty("values")&&(n.values=l.onnx.TensorProto.toObject(e.values,t)),null!=e.indices&&e.hasOwnProperty("indices")&&(n.indices=l.onnx.TensorProto.toObject(e.indices,t)),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?u.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new u.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r];}return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.SparseTensorProto";},e;}(),o.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.dim=u.emptyArray,e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)l.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorShapeProto();e.pos<n;){var o=e.uint32();o>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(l.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&o);}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=l.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n;}}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TensorShapeProto)return e;var t=new l.onnx.TensorShapeProto();if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=l.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n]);}}return t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=l.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t);}return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TensorShapeProto";},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}var t;return e.prototype.dimValue=null,e.prototype.dimParam=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:u.oneOfGetter(t=["dimValue","dimParam"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.dimValue&&Object.hasOwnProperty.call(e,"dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&Object.hasOwnProperty.call(e,"dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&Object.hasOwnProperty.call(e,"denotation")&&t.uint32(26).string(e.denotation),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorShapeProto.Dimension();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(u.isInteger(e.dimValue)||e.dimValue&&u.isInteger(e.dimValue.low)&&u.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!u.isString(e.dimParam))return"dimParam: string expected";}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!u.isString(e.denotation)?"denotation: string expected":null;},e.fromObject=function(e){if(e instanceof l.onnx.TensorShapeProto.Dimension)return e;var t=new l.onnx.TensorShapeProto.Dimension();return null!=e.dimValue&&(u.Long?(t.dimValue=u.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new u.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?u.Long.prototype.toString.call(e.dimValue):t.longs===Number?new u.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TensorShapeProto.Dimension";},e;}(),e;}(),o.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}var t;return e.prototype.tensorType=null,e.prototype.sequenceType=null,e.prototype.mapType=null,e.prototype.optionalType=null,e.prototype.sparseTensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:u.oneOfGetter(t=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:u.oneOfSetter(t)}),e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.tensorType&&Object.hasOwnProperty.call(e,"tensorType")&&l.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.sequenceType&&Object.hasOwnProperty.call(e,"sequenceType")&&l.onnx.TypeProto.Sequence.encode(e.sequenceType,t.uint32(34).fork()).ldelim(),null!=e.mapType&&Object.hasOwnProperty.call(e,"mapType")&&l.onnx.TypeProto.Map.encode(e.mapType,t.uint32(42).fork()).ldelim(),null!=e.denotation&&Object.hasOwnProperty.call(e,"denotation")&&t.uint32(50).string(e.denotation),null!=e.sparseTensorType&&Object.hasOwnProperty.call(e,"sparseTensorType")&&l.onnx.TypeProto.SparseTensor.encode(e.sparseTensorType,t.uint32(66).fork()).ldelim(),null!=e.optionalType&&Object.hasOwnProperty.call(e,"optionalType")&&l.onnx.TypeProto.Optional.encode(e.optionalType,t.uint32(74).fork()).ldelim(),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.tensorType=l.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 4:r.sequenceType=l.onnx.TypeProto.Sequence.decode(e,e.uint32());break;case 5:r.mapType=l.onnx.TypeProto.Map.decode(e,e.uint32());break;case 9:r.optionalType=l.onnx.TypeProto.Optional.decode(e,e.uint32());break;case 8:r.sparseTensorType=l.onnx.TypeProto.SparseTensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(t.value=1,n=l.onnx.TypeProto.Tensor.verify(e.tensorType)))return"tensorType."+n;if(null!=e.sequenceType&&e.hasOwnProperty("sequenceType")){if(1===t.value)return"value: multiple values";if(t.value=1,n=l.onnx.TypeProto.Sequence.verify(e.sequenceType))return"sequenceType."+n;}if(null!=e.mapType&&e.hasOwnProperty("mapType")){if(1===t.value)return"value: multiple values";if(t.value=1,n=l.onnx.TypeProto.Map.verify(e.mapType))return"mapType."+n;}if(null!=e.optionalType&&e.hasOwnProperty("optionalType")){if(1===t.value)return"value: multiple values";if(t.value=1,n=l.onnx.TypeProto.Optional.verify(e.optionalType))return"optionalType."+n;}if(null!=e.sparseTensorType&&e.hasOwnProperty("sparseTensorType")){if(1===t.value)return"value: multiple values";var n;if(t.value=1,n=l.onnx.TypeProto.SparseTensor.verify(e.sparseTensorType))return"sparseTensorType."+n;}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!u.isString(e.denotation)?"denotation: string expected":null;},e.fromObject=function(e){if(e instanceof l.onnx.TypeProto)return e;var t=new l.onnx.TypeProto();if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=l.onnx.TypeProto.Tensor.fromObject(e.tensorType);}if(null!=e.sequenceType){if("object"!=typeof e.sequenceType)throw TypeError(".onnx.TypeProto.sequenceType: object expected");t.sequenceType=l.onnx.TypeProto.Sequence.fromObject(e.sequenceType);}if(null!=e.mapType){if("object"!=typeof e.mapType)throw TypeError(".onnx.TypeProto.mapType: object expected");t.mapType=l.onnx.TypeProto.Map.fromObject(e.mapType);}if(null!=e.optionalType){if("object"!=typeof e.optionalType)throw TypeError(".onnx.TypeProto.optionalType: object expected");t.optionalType=l.onnx.TypeProto.Optional.fromObject(e.optionalType);}if(null!=e.sparseTensorType){if("object"!=typeof e.sparseTensorType)throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");t.sparseTensorType=l.onnx.TypeProto.SparseTensor.fromObject(e.sparseTensorType);}return null!=e.denotation&&(t.denotation=String(e.denotation)),t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=l.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.sequenceType&&e.hasOwnProperty("sequenceType")&&(n.sequenceType=l.onnx.TypeProto.Sequence.toObject(e.sequenceType,t),t.oneofs&&(n.value="sequenceType")),null!=e.mapType&&e.hasOwnProperty("mapType")&&(n.mapType=l.onnx.TypeProto.Map.toObject(e.mapType,t),t.oneofs&&(n.value="mapType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),null!=e.sparseTensorType&&e.hasOwnProperty("sparseTensorType")&&(n.sparseTensorType=l.onnx.TypeProto.SparseTensor.toObject(e.sparseTensorType,t),t.oneofs&&(n.value="sparseTensorType")),null!=e.optionalType&&e.hasOwnProperty("optionalType")&&(n.optionalType=l.onnx.TypeProto.Optional.toObject(e.optionalType,t),t.oneofs&&(n.value="optionalType")),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TypeProto";},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.elemType&&Object.hasOwnProperty.call(e,"elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&Object.hasOwnProperty.call(e,"shape")&&l.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto.Tensor();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=l.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!u.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=l.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t;}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TypeProto.Tensor)return e;var t=new l.onnx.TypeProto.Tensor();if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=l.onnx.TensorShapeProto.fromObject(e.shape);}return t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=l.onnx.TensorShapeProto.toObject(e.shape,t)),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TypeProto.Tensor";},e;}(),e.Sequence=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.elemType=null,e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.elemType&&Object.hasOwnProperty.call(e,"elemType")&&l.onnx.TypeProto.encode(e.elemType,t.uint32(10).fork()).ldelim(),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto.Sequence();e.pos<n;){var o=e.uint32();o>>>3==1?r.elemType=l.onnx.TypeProto.decode(e,e.uint32()):e.skipType(7&o);}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")){var t=l.onnx.TypeProto.verify(e.elemType);if(t)return"elemType."+t;}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TypeProto.Sequence)return e;var t=new l.onnx.TypeProto.Sequence();if(null!=e.elemType){if("object"!=typeof e.elemType)throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");t.elemType=l.onnx.TypeProto.fromObject(e.elemType);}return t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=l.onnx.TypeProto.toObject(e.elemType,t)),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TypeProto.Sequence";},e;}(),e.Map=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.keyType=0,e.prototype.valueType=null,e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.keyType&&Object.hasOwnProperty.call(e,"keyType")&&t.uint32(8).int32(e.keyType),null!=e.valueType&&Object.hasOwnProperty.call(e,"valueType")&&l.onnx.TypeProto.encode(e.valueType,t.uint32(18).fork()).ldelim(),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto.Map();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.keyType=e.int32();break;case 2:r.valueType=l.onnx.TypeProto.decode(e,e.uint32());break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.keyType&&e.hasOwnProperty("keyType")&&!u.isInteger(e.keyType))return"keyType: integer expected";if(null!=e.valueType&&e.hasOwnProperty("valueType")){var t=l.onnx.TypeProto.verify(e.valueType);if(t)return"valueType."+t;}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TypeProto.Map)return e;var t=new l.onnx.TypeProto.Map();if(null!=e.keyType&&(t.keyType=0|e.keyType),null!=e.valueType){if("object"!=typeof e.valueType)throw TypeError(".onnx.TypeProto.Map.valueType: object expected");t.valueType=l.onnx.TypeProto.fromObject(e.valueType);}return t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.keyType=0,n.valueType=null),null!=e.keyType&&e.hasOwnProperty("keyType")&&(n.keyType=e.keyType),null!=e.valueType&&e.hasOwnProperty("valueType")&&(n.valueType=l.onnx.TypeProto.toObject(e.valueType,t)),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TypeProto.Map";},e;}(),e.Optional=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.elemType=null,e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.elemType&&Object.hasOwnProperty.call(e,"elemType")&&l.onnx.TypeProto.encode(e.elemType,t.uint32(10).fork()).ldelim(),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto.Optional();e.pos<n;){var o=e.uint32();o>>>3==1?r.elemType=l.onnx.TypeProto.decode(e,e.uint32()):e.skipType(7&o);}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")){var t=l.onnx.TypeProto.verify(e.elemType);if(t)return"elemType."+t;}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TypeProto.Optional)return e;var t=new l.onnx.TypeProto.Optional();if(null!=e.elemType){if("object"!=typeof e.elemType)throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");t.elemType=l.onnx.TypeProto.fromObject(e.elemType);}return t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=l.onnx.TypeProto.toObject(e.elemType,t)),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TypeProto.Optional";},e;}(),e.SparseTensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.elemType&&Object.hasOwnProperty.call(e,"elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&Object.hasOwnProperty.call(e,"shape")&&l.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto.SparseTensor();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=l.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!u.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=l.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t;}return null;},e.fromObject=function(e){if(e instanceof l.onnx.TypeProto.SparseTensor)return e;var t=new l.onnx.TypeProto.SparseTensor();if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");t.shape=l.onnx.TensorShapeProto.fromObject(e.shape);}return t;},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=l.onnx.TensorShapeProto.toObject(e.shape,t)),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.TypeProto.SparseTensor";},e;}(),e;}(),o.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.domain="",e.prototype.version=u.Long?u.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t);},e.encode=function(e,t){return t||(t=s.create()),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(10).string(e.domain),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).int64(e.version),t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.OperatorSetIdProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain)?"domain: string expected":null==e.version||!e.hasOwnProperty("version")||u.isInteger(e.version)||e.version&&u.isInteger(e.version.low)&&u.isInteger(e.version.high)?null:"version: integer|Long expected";},e.fromObject=function(e){if(e instanceof l.onnx.OperatorSetIdProto)return e;var t=new l.onnx.OperatorSetIdProto();return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(u.Long?(t.version=u.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new u.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t;},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",u.Long){var r=new u.Long(0,0,!1);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r;}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?u.Long.prototype.toString.call(e.version):t.longs===Number?new u.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.OperatorSetIdProto";},e;}(),o.OperatorStatus=function(){var e={},t=Object.create(e);return t[e[0]="EXPERIMENTAL"]=0,t[e[1]="STABLE"]=1,t;}(),o.FunctionProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]]);}return e.prototype.name="",e.prototype.input=u.emptyArray,e.prototype.output=u.emptyArray,e.prototype.attribute=u.emptyArray,e.prototype.attributeProto=u.emptyArray,e.prototype.node=u.emptyArray,e.prototype.docString="",e.prototype.opsetImport=u.emptyArray,e.prototype.domain="",e.create=function(t){return new e(t);},e.encode=function(e,t){if(t||(t=s.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(34).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(42).string(e.output[n]);if(null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)t.uint32(50).string(e.attribute[n]);if(null!=e.node&&e.node.length)for(n=0;n<e.node.length;++n)l.onnx.NodeProto.encode(e.node[n],t.uint32(58).fork()).ldelim();if(null!=e.docString&&Object.hasOwnProperty.call(e,"docString")&&t.uint32(66).string(e.docString),null!=e.opsetImport&&e.opsetImport.length)for(n=0;n<e.opsetImport.length;++n)l.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(74).fork()).ldelim();if(null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(82).string(e.domain),null!=e.attributeProto&&e.attributeProto.length)for(n=0;n<e.attributeProto.length;++n)l.onnx.AttributeProto.encode(e.attributeProto[n],t.uint32(90).fork()).ldelim();return t;},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim();},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.FunctionProto();e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 4:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 5:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 6:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(e.string());break;case 11:r.attributeProto&&r.attributeProto.length||(r.attributeProto=[]),r.attributeProto.push(l.onnx.AttributeProto.decode(e,e.uint32()));break;case 7:r.node&&r.node.length||(r.node=[]),r.node.push(l.onnx.NodeProto.decode(e,e.uint32()));break;case 8:r.docString=e.string();break;case 9:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(l.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 10:r.domain=e.string();break;default:e.skipType(7&o);}}return r;},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32());},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!u.isString(e.input[t]))return"input: string[] expected";}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!u.isString(e.output[t]))return"output: string[] expected";}if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t)if(!u.isString(e.attribute[t]))return"attribute: string[] expected";}if(null!=e.attributeProto&&e.hasOwnProperty("attributeProto")){if(!Array.isArray(e.attributeProto))return"attributeProto: array expected";for(t=0;t<e.attributeProto.length;++t)if(n=l.onnx.AttributeProto.verify(e.attributeProto[t]))return"attributeProto."+n;}if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(t=0;t<e.node.length;++t)if(n=l.onnx.NodeProto.verify(e.node[t]))return"node."+n;}if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(t=0;t<e.opsetImport.length;++t){var n;if(n=l.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n;}}return null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain)?"domain: string expected":null;},e.fromObject=function(e){if(e instanceof l.onnx.FunctionProto)return e;var t=new l.onnx.FunctionProto();if(null!=e.name&&(t.name=String(e.name)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.FunctionProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n]);}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n]);}if(e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n)t.attribute[n]=String(e.attribute[n]);}if(e.attributeProto){if(!Array.isArray(e.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(t.attributeProto=[],n=0;n<e.attributeProto.length;++n){if("object"!=typeof e.attributeProto[n])throw TypeError(".onnx.FunctionProto.attributeProto: object expected");t.attributeProto[n]=l.onnx.AttributeProto.fromObject(e.attributeProto[n]);}}if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(t.node=[],n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.FunctionProto.node: object expected");t.node[n]=l.onnx.NodeProto.fromObject(e.node[n]);}}if(null!=e.docString&&(t.docString=String(e.docString)),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(t.opsetImport=[],n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.FunctionProto.opsetImport: object expected");t.opsetImport[n]=l.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n]);}}return null!=e.domain&&(t.domain=String(e.domain)),t;},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[],n.node=[],n.opsetImport=[],n.attributeProto=[]),t.defaults&&(n.name="",n.docString="",n.domain=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r];}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=e.attribute[r];if(e.node&&e.node.length)for(n.node=[],r=0;r<e.node.length;++r)n.node[r]=l.onnx.NodeProto.toObject(e.node[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.opsetImport&&e.opsetImport.length)for(n.opsetImport=[],r=0;r<e.opsetImport.length;++r)n.opsetImport[r]=l.onnx.OperatorSetIdProto.toObject(e.opsetImport[r],t);if(null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),e.attributeProto&&e.attributeProto.length)for(n.attributeProto=[],r=0;r<e.attributeProto.length;++r)n.attributeProto[r]=l.onnx.AttributeProto.toObject(e.attributeProto[r],t);return n;},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions);},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/onnx.FunctionProto";},e;}(),o),t.exports=l;});function zr(e,t){if(!e)throw new Error("string"==typeof t?t:t());}function dn(e){return new TextDecoder().decode(e);}var we,xr,xi,Ke,ro,Ve,ot,z,pn,wr,vr,_r,fe=L(()=>{Jn(),ai(),we=Nr(Ur()),Or(),xr=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0;}},xi=class{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t];}static postprocessOutputShape(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop();}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]];}},Ke=class e{static calcShape(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;let r=e.length,o=t.length;if(0===r)return t;if(0===o)return e;let i=Math.max(e.length,t.length),a=new Array(i);if(n){if(r<2||o<2)return;let n=xi.calcMatMulShape([e[r-2],e[r-1]],[t[o-2],t[o-1]]);if(void 0===n)return;[a[i-2],a[i-1]]=n;}for(let s=n?3:1;s<=i;s++){let n=r-s<0?1:e[r-s],u=o-s<0?1:t[o-s];if(n!==u&&n>1&&u>1)return;a[i-s]=Math.max(n,u);}return a;}static index(t,n){let r=new Array(n.length);return e.fillIndex(t,n,r),r;}static fillIndex(e,t,n){let r=e.length-t.length;for(let o=0;o<t.length;o++)n[o]=e[r+o]%t[o];}static calc(t,n,r,o,i){let a=e.calcShape(t.dims,n.dims);if(a){if(o&&!z.areEqual(a,t.dims))return;let s=z.size(a),u=o?t:new $e(a,i||t.type);if(0===a.length)u.set([],r(t.get([]),n.get([])));else{let o,i=new Array(a.length),l=new Array(t.dims.length),c=new Array(n.dims.length),f=0,p=0,d=!1,h=!1;0===t.dims.length&&(f=t.get([]),d=!0),0===n.dims.length&&(p=n.get([]),h=!0);for(let g=0;g<s;g++){o=g;for(let e=a.length-1;e>=0;e--)i[e]=o%a[e],o=Math.floor(o/a[e]);d||(e.fillIndex(i,t.dims,l),f=t.get(l)),h||(e.fillIndex(i,n.dims,c),p=n.get(c)),u.set(i,r(f,p));}}return u;}}static isValidBroadcast(e,t){let n=e.length,r=t.length;if(n>r)return!1;for(let o=1;o<=n;o++)if(1!==e[n-o]&&e[n-o]!==t[r-o])return!1;return!0;}static getBroadcastDims(e,t){let n=e.length,r=[];for(let o=0;o<n;o++){let i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i);}return r;}},ro=class{static getShapeOfGemmResult(e,t,n,r,o){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let i,a,s;t?(i=e[1],a=e[0]):(i=e[0],a=e[1]);let u=-1;if(r?(s=n[0],u=1):(s=n[1],u=0),n[u]!==a)throw new Error("dimension mismatch");if(i<=0||s<=0||a<=0)throw new Error("invalid shape specified");if(o&&!Ke.isValidBroadcast(o,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,a];}},Ve=class e{static tensorDataTypeFromProto(e){switch(e){case we.onnx.TensorProto.DataType.INT8:return"int8";case we.onnx.TensorProto.DataType.UINT8:return"uint8";case we.onnx.TensorProto.DataType.BOOL:return"bool";case we.onnx.TensorProto.DataType.INT16:return"int16";case we.onnx.TensorProto.DataType.UINT16:return"uint16";case we.onnx.TensorProto.DataType.INT32:return"int32";case we.onnx.TensorProto.DataType.UINT32:return"uint32";case we.onnx.TensorProto.DataType.FLOAT:return"float32";case we.onnx.TensorProto.DataType.DOUBLE:return"float64";case we.onnx.TensorProto.DataType.STRING:return"string";case we.onnx.TensorProto.DataType.INT64:return"int32";case we.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${we.onnx.TensorProto.DataType[e]}`);}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return we.onnx.TensorProto.DataType.INT8;case"uint8":return we.onnx.TensorProto.DataType.UINT8;case"bool":return we.onnx.TensorProto.DataType.BOOL;case"int16":return we.onnx.TensorProto.DataType.INT16;case"uint16":return we.onnx.TensorProto.DataType.UINT16;case"int32":return we.onnx.TensorProto.DataType.INT32;case"uint32":return we.onnx.TensorProto.DataType.UINT32;case"float32":return we.onnx.TensorProto.DataType.FLOAT;case"float64":return we.onnx.TensorProto.DataType.DOUBLE;case"string":return we.onnx.TensorProto.DataType.STRING;case"int64":return we.onnx.TensorProto.DataType.INT64;case"uint64":return we.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${e}`);}}static tensorDimsFromProto(e){return e.map(e=>qt.isLong(e)?e.toNumber():e);}static tensorValueTypeFromProto(t){return{tensorType:e.tensorDataTypeFromProto(t.elemType),shape:{dims:e.tensorDimsFromProto(t.shape.dim.map(e=>e.dimValue))}};}static tensorDimsFromORTFormat(e){let t=[];for(let n=0;n<e.dimsLength();n++)t.push(ot.longToNumber(e.dims(n)));return t;}static tensorAttributesFromORTFormat(e){let t=[];for(let n=0;n<e.attributesLength();n++)t.push(e.attributes(n));return t;}},ot=class{static longToNumber(e,t){return qt.isLong(e)?e.toNumber():e instanceof I.Long?qt.fromValue({low:e.low,high:e.high,unsigned:t??!1}).toNumber():e;}static isLong(e){return qt.isLong(e)||e instanceof I.Long;}},z=class e{static size(t){return e.getSizeFromDimensionRange(t,0,t.length);}static sizeFromDimension(t,n){if(n<0||n>t.length)throw new Error(`invalid dimension of ${n} for sizeFromDimension as Tensor has ${t.length} dimensions.`);return e.getSizeFromDimensionRange(t,n,t.length);}static sizeToDimension(t,n){if(n<0||n>t.length)throw new Error(`invalid dimension of ${n} for sizeToDimension as Tensor has ${t.length} dimensions.`);return e.getSizeFromDimensionRange(t,0,n);}static getSizeFromDimensionRange(e,t,n){let r=1;for(let o=t;o<n;o++){if(e[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[o];}return r;}static computeStrides(e){let t=e.length;if(0===t)return[];if(1===t)return[1];let n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n;}static transpose(e){return e.slice().reverse();}static indicesToOffset(e,t,n){void 0===n&&(n=e.length);let r=0;for(let o=0;o<n;++o)r+=t[o]*e[o];return r;}static offsetToIndices(e,t){let n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];let r=new Array(t.length);for(let n=0;n<r.length-1;++n)r[n]=Math.floor(e/t[n]),e-=r[n]*t[n];return r[r.length-1]=e,r;}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e;}static normalizeAxes(e,t){return e.map(e=>this.normalizeAxis(e,t));}static incrementIndex(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(let r=n-1;r>=0&&(e[r]++,!(e[r]<t[r]));--r)e[r]=0;}static calculateReshapedDims(t,n){if(0===n.length){if(0===t.length||1===e.size(t))return[];throw new Error("cannot reshape to a scalar Tensor");}let r=n.length,o=new Array(r),i=-1,a=1;for(let e=0;e<r;e++){if(n[e]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===n[e]){if(-1!==i)throw new Error("at most one dimension in shape hints can be -1");i=e;}else{if(0===n[e]){if(e>=t.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");o[e]=t[e];}else o[e]=n[e];a*=o[e];}}let s=e.size(t);if(-1!==i){if(s%a!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${t}] Output shape: [${n}]`);o[i]=s/a;}else if(a!==s)throw new Error("reshapedDims and originalDims don't have matching sizes");return o;}static sortBasedOnPerm(e,t){return t?t.map(t=>e[t]):e.slice().reverse();}static padShape(e,t){let n=e.length;return e.map((e,r)=>e+t[r]+t[r+n]);}static areEqual(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n]);}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(let n of e){if(!Number.isInteger(n))throw new TypeError(`Invalid shape: ${n} is not an integer`);if(n<0||n>2147483647)throw new TypeError(`Invalid shape: length ${n} is not allowed`);t*=n;}return t;}static flattenShape(e,t){t<0&&(t+=e.length);let n=e.reduce((e,t)=>e*t,1),r=e.slice(t).reduce((e,t)=>e*t,1);return[n/r,r];}static squeezeShape(t,n){let r=new Array();n=e.normalizeAxes(n,t.length);for(let e=0;e<t.length;e++){let o=n.indexOf(e)>=0;if(o&&1!==t[e])throw new Error("squeeze an axis of size different than 1");(0===n.length&&t[e]>1||n.length>0&&!o)&&r.push(t[e]);}return r;}static unsqueezeShape(t,n){let r=new Array(t.length+n.length);r.fill(0);for(let t=0;t<n.length;t++){let o=e.normalizeAxis(n[t],r.length);if(o>=r.length)throw new Error("'axes' has an out of range axis");if(0!==r[o])throw new Error("'axes' has a duplicate axis");r[o]=1;}let o=0;for(let e=0;e<r.length;e++)0===r[e]&&(r[e]=t[o++]);if(o!==t.length)throw new Error("the unsqueezed dimension could not be established");return r;}},pn=class e{static splitShape(t,n,r,o){if(0===r.length){if(!o)throw new Error("need to know number of outputs when the 'split' attribute is not specified");e.determineSplit(t[n],o,r);}let i=[],a=[0];for(let e=0;e<r.length;++e){0!==e&&a.push(a[e-1]+r[e-1]);let o=t.slice();o[n]=r[e],i.push(o);}return[i,a];}static determineSplit(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<t;++r)n.push(e/t);}},wr=class e{static adjustPoolAttributes(e,t,n,r,o,i){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let e=0;e<t.length-2;e++)e>=n.length?n.push(t[e+2]):n[e]=t[e+2];for(let e=0;e<n.length;e++)if(e<r.length){if(r[e]<0)throw new Error("strides should be greater than or equal to 1");}else r.push(1);for(let e=0;e<n.length;e++)if(e<o.length){if(o[e]<0)throw new Error("dilations should be greater than or equal to 1");}else o.push(1);for(let e=0;e<2*n.length;e++)if(e<i.length){if(i[e]<0)throw new Error("pad should be greater than or equal to 1");}else i.push(0);for(let e=0;e<n.length;e++){if(n[e]<=0)throw new Error("kernel shapes need to be greater than 0");if(i[e]>=n[e]||i[e+n.length]>=n[e])throw new Error("pads should be smaller than kernel");}}static adjustPadsBasedOnAutoPad(t,n,r,o,i,a){if(a){if(i.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(o.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let s=0;s<t.length-2;s++)e.adjustPadAndReturnShape(t[s+2],n[s],r[s],o[s],i,s,s+t.length-2,a);}}static computePoolOutputShape(t,n,r,o,i,a,s){if(n.length<=0)throw new Error("input shape must be of size greater than 0");let u=[n[0],n[1]];return e.computeShapeHelper(t,n,u,r,o,i,a,s),u;}static computeConvOutputShape(t,n,r,o,i,a,s){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let u=[t[0],n[0]];return e.computeShapeHelper(!1,t,u,r,o,i,a,s),u;}static computeShapeHelper(t,n,r,o,i,a,s,u){if(t)for(let e=0;e<n.length-2;e++)r.push(1);else for(let t=0;t<n.length-2;t++)r.push(e.adjustPadAndReturnShape(n[t+2],o[t],i[t],a[t],s,t,t+n.length-2,u));}static adjustPadAndReturnShape(e,t,n,r,o,i,a,s){let u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+o[i]+o[a]-u)/t+1);switch(s){case"VALID":return o[i]=0,o[a]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let n=((e+t-1)/t-1)*t+r-e;return o[i]=Math.floor("SAME_LOWER"===s?(n+1)/2:n/2),o[a]=n-o[i],Math.floor((e+n-r)/t+1);}default:throw new Error("Unsupported AutoPad type");}}},vr=-34028234663852886e22,_r=34028234663852886e22;});function rh(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${e}`);}}function Gu(e){switch(e){case re.onnx.TensorProto.DataType.UINT8:case re.onnx.TensorProto.DataType.INT8:case re.onnx.TensorProto.DataType.BOOL:return 1;case re.onnx.TensorProto.DataType.UINT16:case re.onnx.TensorProto.DataType.INT16:return 2;case re.onnx.TensorProto.DataType.FLOAT:case re.onnx.TensorProto.DataType.INT32:case re.onnx.TensorProto.DataType.UINT32:return 4;case re.onnx.TensorProto.DataType.INT64:case re.onnx.TensorProto.DataType.DOUBLE:case re.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${re.onnx.TensorProto.DataType[e]}`);}}function nh(e,t){return new(Wu(t))(e);}function Wu(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error");}}function vi(e,t){if(t===re.onnx.TensorProto.DataType.INT64||t===wi.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported");}else{if(t!==re.onnx.TensorProto.DataType.UINT32&&t!==wi.TensorDataType.UINT32&&t!==re.onnx.TensorProto.DataType.UINT64&&t!==wi.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${re.onnx.TensorProto.DataType[t]}`);if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported");}return e.toNumber();}function Uu(e,t,n){switch(t){case re.onnx.TensorProto.DataType.BOOL:case re.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case re.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case re.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case re.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case re.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case re.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case re.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case re.onnx.TensorProto.DataType.INT64:return vi(qt.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case re.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case re.onnx.TensorProto.DataType.UINT64:return vi(qt.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error(`cannot read from DataView for type ${re.onnx.TensorProto.DataType[t]}`);}}var zu,re,wi,$e,Or=L(()=>{zu=Nr(Ls()),ai(),un(),re=Nr(Ur()),fe(),wi=H.experimental.fbs,$e=class e{constructor(e,t,n,r,o){let i=arguments.length>5&&arguments[5]!==undefined?arguments[5]:zu.Guid.create();this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=r,this.cache=o,this.dataId=i,this.size=z.validateDimsAndCalcSize(e);let a=this.size,s=void 0===n&&void 0===r&&void 0===o;if(void 0!==o&&o.length!==a)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===o||Array.isArray(o)&&o.every(e=>"string"==typeof e)))throw new TypeError("cache should be a string array");s&&(this.cache=new Array(a));}else{if(void 0!==o){let e=Wu(t);if(!(o instanceof e))throw new TypeError(`cache should be type ${e.name}`);}if(s){let e=new ArrayBuffer(a*rh(t));this.cache=nh(e,t);}}}get data(){if(void 0===this.cache){let e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e;}return this.cache;}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data;}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)");}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)");}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)");}get(e){return this.data[z.indicesToOffset(e,this.strides)];}set(e,t){this.data[z.indicesToOffset(e,this.strides)]=t;}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache;}get strides(){return this._strides||(this._strides=z.computeStrides(this.dims)),this._strides;}static fromProto(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let n=Ve.tensorDataTypeFromProto(t.dataType),r=Ve.tensorDimsFromProto(t.dims),o=new e(r,n);if("string"===n)t.stringData.forEach((e,t)=>{o.data[t]=dn(e);});else if(t.rawData&&"number"==typeof t.rawData.byteLength&&t.rawData.byteLength>0){let e=o.data,n=new DataView(t.rawData.buffer,t.rawData.byteOffset,t.rawData.byteLength),r=Gu(t.dataType),i=t.rawData.byteLength/r;if(t.rawData.byteLength%r!=0)throw new Error("invalid buffer length");if(e.length!==i)throw new Error("buffer length mismatch");for(let o=0;o<i;o++){let i=Uu(n,t.dataType,o*r);e[o]=i;}}else{let e;switch(t.dataType){case re.onnx.TensorProto.DataType.FLOAT:e=t.floatData;break;case re.onnx.TensorProto.DataType.INT32:case re.onnx.TensorProto.DataType.INT16:case re.onnx.TensorProto.DataType.UINT16:case re.onnx.TensorProto.DataType.INT8:case re.onnx.TensorProto.DataType.UINT8:case re.onnx.TensorProto.DataType.BOOL:e=t.int32Data;break;case re.onnx.TensorProto.DataType.INT64:e=t.int64Data;break;case re.onnx.TensorProto.DataType.DOUBLE:e=t.doubleData;break;case re.onnx.TensorProto.DataType.UINT32:case re.onnx.TensorProto.DataType.UINT64:e=t.uint64Data;break;default:throw new Error("unspecific error");}if(null==e)throw new Error("failed to populate data from a tensorproto value");let n=o.data;if(n.length!==e.length)throw new Error("array length mismatch");for(let r=0;r<e.length;r++){let o=e[r];qt.isLong(o)?n[r]=vi(o,t.dataType):n[r]=o;}}return o;}static fromData(t,n,r){return new e(n,r,void 0,void 0,t);}static fromOrtTensor(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let n=Ve.tensorDimsFromORTFormat(t),r=Ve.tensorDataTypeFromProto(t.dataType()),o=new e(n,r);if("string"===r)for(let e=0;e<t.stringDataLength();e++)o.data[e]=t.stringData(e);else if(t.rawDataArray()&&"number"==typeof t.rawDataLength()&&t.rawDataLength()>0){let e=o.data,n=new DataView(t.rawDataArray().buffer,t.rawDataArray().byteOffset,t.rawDataLength()),r=Gu(t.dataType()),i=t.rawDataLength()/r;if(t.rawDataLength()%r!=0)throw new Error("invalid buffer length");if(e.length!==i)throw new Error("buffer length mismatch");for(let o=0;o<i;o++){let i=Uu(n,t.dataType(),o*r);e[o]=i;}}return o;}};});function q(e){return 1===e?oh:ih;}function Vu(e){let t=q(e);return`${t.version}\n      precision highp float;\n      ${t.attribute} vec3 position;\n      ${t.attribute} vec2 textureCoord;\n\n      ${t.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`;}function Hu(e){let t=q(e);return`${t.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${t.varyingFrag} vec2 TexCoords;\n    ${t.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `;}function ju(e,t){return`\n  void main() {\n    int indices[${t}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${q(e).output} = result;\n  }\n  `;}var oh,ih,ve=L(()=>{oh={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},ih={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};}),ae=L(()=>{});async function _i(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e=>0;let n=arguments.length>2?arguments[2]:undefined;return new Promise((r,o)=>{let i=0,a=()=>{if(e())return void r();i++;let s=t(i);null!=n&&i>=n?o():setTimeout(a,s);};a();});}function no(e){return zr(typeof e<"u"&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1);}function qu(e){return zr(typeof e<"u"&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords";}function Wr(e,t){let n=JSON.parse(JSON.stringify(e));return n=t,n;}function Vr(e,t){return t.map(t=>e[t]).join(", ");}function Je(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`);}function Dt(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:6;return["x","y","z","w","u","v"].slice(0,e);}var Bt=L(()=>{fe();});function ah(e,t){return Dt(t).map(t=>`${e}.${t}`);}function Hr(e,t){return 1===t?[e]:ah(e,t);}function kt(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  ";}var Ir=L(()=>{Bt();});function uh(e,t,n){if(0===e)return"false";if(1===e)return`rc > ${t[0]}`;let r="";for(let o=e-2;o<e;o++)r+=`${n[o]} >= ${t[o-e+2]}`,o<e-1&&(r+="||");return r;}function lh(e,t){let n=e.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return`getA(rc),\n            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),\n            0, 0`;let r="";if(n>2)for(let e=0;e<n-2;++e)r+=`${t[e]},`;return`getA(${r}r, c),\n          rEdge ? 0. : getA(${r}rp1, c),\n          cEdge ? 0. : getA(${r}r, cp1),\n          rEdge || cEdge ? 0. : getA(${r}rp1, cp1)`;}function fh(e,t,n,r){return 0===e||1===e?"":`\n    int r = ${t[e-2]};\n    int c = ${t[e-1]};\n    int rp1 = ${t[e-2]} + 1;\n    int cp1 = ${t[e-1]} + 1;\n    bool rEdge = rp1 >= ${r};\n    bool cEdge = cp1 >= ${n};\n    `;}var Yu,sh,Xu,Ku=L(()=>{ve(),ae(),Bt(),Ir(),Yu={name:"pack",inputNames:["A"],inputTypes:[1]},sh=(e,t)=>{let n,r=q(e.session.backend.glContext.version),o=t.dims,i=o.length,a=t.dims.length,s=Je(a),u=Hr("rc",a),l=fh(a,u,o[o.length-2],o[o.length-1]);n=0===i?[1,1]:1===i?[o[0],1]:[o[a-1],o[a-2]];let c=uh(a,n,u),f=lh(o,u),p=`\n        void main() {\n          ${s} rc = getOutputCoords();\n\n          if(${c}) {\n            ${r.output} = vec4(0);\n          } else {\n            ${l}\n\n            ${r.output} = vec4(${f});\n          }\n        }\n      `;return{...Yu,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:2},shaderSource:p};},Xu=(e,t)=>({...Yu,get:()=>sh(e,t)});});function Oi(e){if(0===e.length)return[1,1,1];let t=1;for(let n=0;n<e.length-2;++n)t*=e[n];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]];}function Zu(e,t){let n=!1;return n=0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2]),n;}function dh(e){let t=z.computeStrides(e),n=["b","r","c"],r="index";return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t.map((e,o)=>`${`int ${n[o]} = ${r} / ${e}`}; ${o===t.length-1?`int ${n[o+1]} = ${r} - ${n[o]} * ${e}`:`index -= ${n[o]} * ${e}`};`).join("")}\n      return ivec3(b, r, c);\n    }\n  `;}function hh(e){let t=z.computeStrides(e);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${t[0]} + coords.z * ${t[1]} + coords.y;\n  }\n`;}var ch,ph,Ju,Qu=L(()=>{fe(),ve(),ae(),Ir(),ch=e=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${e}`}),ph=(e,t,n,r)=>{let o=t.dims,i=r,a="";for(let e=0;e<4;e++){let t="";switch(e){case 0:t="outputCoords = rc;";break;case 1:t="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:t="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:t="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error();}a+=`\n        ${t}\n        ${e>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${e>0?"}":""}\n      `;}let s=q(e.session.backend.glContext.version),u=`\n      ${dh(o)}\n      ${hh(i)}\n      ${kt()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${i[2]};\n        int cols = ${i[1]};\n\n        ${a}\n        ${s.output} = result;\n      }\n    `;return{...n,output:{dims:i,type:t.type,textureType:2},shaderSource:u,hasMain:!0};},Ju=(e,t,n)=>{let r=ch(n);return{...r,get:()=>ph(e,t,r,n)};};}),Ii,el=L(()=>{ve(),ae(),Ii=(e,t)=>{let n=t.shape,r=q(e.session.backend.glContext.version),o=`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${r.texture2D}(X,TexCoords).r;\n      ${r.output} = encodeAsUint8(value);\n    }`,i={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:3},shaderSource:o,hasMain:!0};return e.executeProgram(i,[t.tensor]);};});function bh(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n;}var tl,mh,rl,nl=L(()=>{ve(),ae(),Bt(),Ir(),tl={name:"unpack",inputNames:["A"],inputTypes:[2]},mh=(e,t)=>{let n=t.dims.length,r=Hr("rc",n),o=r.slice(-2),i=Je(n),a=kt(),s=0===t.dims.length?"":bh(n,r),u=n<=1?"rc":`vec2(${o.join(",")})`,l=`\n    ${a}\n    void main() {\n      ${i} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${s});\n\n       ${q(e.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${u}), 0, 0, 0);\n     }\n   `;return{...tl,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:l};},rl=(e,t)=>({...tl,get:()=>mh(e,t)});}),oo,hn,io,mn=L(()=>{dt(),oo=class{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t;}}encode(e,t){let n,r;return e.constructor!==Float32Array&&(pe.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(e)),t*this.channelSize>e.length?(pe.warning("Encoder","Source data too small. Allocating larger array"),r=e,n=this.allocate(t*this.channelSize),r.forEach((e,t)=>n[t]=e)):(r=e,n=r),n;}allocate(e){return new Float32Array(4*e);}decode(e,t){return 1===this.channelSize?e.filter((e,t)=>t%4==0).subarray(0,t):e.subarray(0,t);}},hn=class{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let n=arguments.length>2?arguments[2]:undefined;if(1!==t&&4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT;}encode(e,t){let n=e;return 1===this.channelSize&&(pe.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach((e,t)=>n[4*t]=e)),n;}allocate(e){return new Float32Array(4*e);}decode(e,t){return 1===this.channelSize?e.filter((e,t)=>t%4==0).subarray(0,t):e.subarray(0,t);}},io=class{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;}}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);}allocate(e){return new Uint8Array(e*this.channelSize);}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error(`Invalid array type: ${e.constructor}`);}};}),bn,ol,Si,il=L(()=>{fe(),ae(),bn=(e,t,n)=>{let r=0===n||1===n?1:4,o=2===n,i=1===n||2===n,a=4===n?t.length-1:void 0,s=4===n?t.map((e,n)=>n===t.length-1?4*e:e):void 0;return Si(e,t,r,s,{isPacked:o,reverseWH:i,breakAxis:a});},ol=(e,t,n)=>{let r=bn(e,t,n);return[r.width,r.height];},Si=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;let r=arguments.length>3?arguments[3]:undefined;let o=arguments.length>4?arguments[4]:undefined;let i=!(!o||!o.isPacked),[a,s]=e.computeTextureWH(i&&r||t,o),u=t.length,l=t.slice(0);if(0===u&&(l=[1]),1===n)r=t;else if(i){if(4!==n)throw new Error("a packed texture must be 4-channel");r=t,u>0&&(l[u-1]=Math.ceil(l[u-1]/2)),u>1&&(l[u-2]=Math.ceil(l[u-2]/2));}else if(!r)throw new Error("Unpacked shape is needed when using channels > 1");return{width:a,height:s,channels:n,isPacked:i,shape:l,strides:z.computeStrides(l),unpackedShape:r,reversedWH:o&&o.reverseWH};};}),yh,ao,sl=L(()=>{dt(),Or(),fe(),Ku(),Qu(),el(),nl(),mn(),il(),ae(),yh=(e,t)=>{let n=t.map(e=>`${e.unpackedShape.join(",")};${e.width}x${e.height}`).join("_"),r=e.name;return e.cacheHint&&(r+="["+e.cacheHint+"]"),r+=":"+n,r;},ao=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map(),this.unpackedTextureDataCache=new Map();}calculateTextureWidthAndHeight(e,t){return ol(this.session.layoutStrategy,e,t);}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");let n=[];for(let r=0;r<e.inputNames.length;++r)n[r]=this.getOrCreateTextureData(t[r],e.inputTypes[r]);let r=yh(e,n),o=this.session.programManager.getArtifact(r),i=o?o.programInfo:"function"==typeof e.get?e.get():e,a=bn(this.session.layoutStrategy,i.output.dims,i.output.textureType),s=this.createTextureData(a,i.output.type);return o||(o=this.session.programManager.build(i,n,s),this.session.programManager.setArtifact(r,o)),this.runProgram(o,n,s),s;}run(e,t){return this.executeProgram(e,t).tensor;}runProgram(e,t,n){for(let n=0;n<t.length;++n)if(!!t[n].isPacked!=(2===e.programInfo.inputTypes[n]))throw new Error(`input[${n}] property packed inconsistent`);if(!!n.isPacked!=(2===e.programInfo.output.textureType))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,n);}getOrCreateTextureData(e,t){let n=this.getTextureData(e.dataId,2===t);if(!n&&(n=this.getTextureData(e.dataId,2!==t),n))return 2===t?this.pack(n):this.unpack(n);if(!n){let r=bn(this.session.layoutStrategy,e.dims,t);if(4===t){let n=e.dims;if(4===n.length){let r=[n[0],Math.ceil(n[1]*n[2]*n[3]/4)],o=bn(this.session.layoutStrategy,r,t),i=e.numberData;if(n[1]*n[2]*n[3]%4!=0){let t=n[0],r=n[1]*n[2]*n[3],o=4*Math.ceil(1*r/4);i=new Float32Array(t*o);for(let n=0;n<t;++n){let t=n*r,a=n*o+n%1*r;i.set(e.numberData.subarray(t,t+r),a);}}return this.createTextureData(o,e.type,i,e,1);}}if(2===t){let t=Si(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),r=this.createTextureData(t,e.type,e.numberData,e,1);n=this.pack(r);}else n=this.createTextureData(r,e.type,e.numberData,e,1);}return n;}createTextureDataFromLayoutBindTensor(e,t,n,r){return this.createTextureData(e,t,n,r,1);}createTextureData(e,t,n,r,o){pe.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);let i=this.session.textureManager.createTextureFromLayout(t,e,n,o);return this.createTextureDataFromTexture(e,t,i,r);}reshapeUnpacked(e,t){let n=this.getOrCreateTextureData(e,0),r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:z.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor;}reshapePacked(e,t){let n=this.getOrCreateTextureData(e,2);if(Zu(e.dims,t)){let r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:z.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor;}let r=Oi(e.dims),o=Oi(t),i=this.reshapePacked(e,r),a=this.run(Ju(this,i,o),[i]);return this.reshapePacked(a,t);}cast(e,t){let n=this.getOrCreateTextureData(e,0);return this.createTextureDataFromTexture(n,t,n.texture).tensor;}createTextureDataFromTexture(e,t,n,r,o){let i={...e,tensor:r||new $e(e.unpackedShape,t,e=>this.readTexture(i),async e=>this.readTextureAsync(i),void 0,o),texture:n};return this.setTextureData(i.tensor.dataId,i,e.isPacked),i;}getTextureData(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e);}setTextureData(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t);}isTextureLayoutCached(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return!!this.getTextureData(e.dataId,t);}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map(),this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map();}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(Ii(this,e));}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(Ii(this,e));}pack(e){return this.executeProgram(Xu(this,e.tensor),[e.tensor]);}unpack(e){return this.executeProgram(rl(this,e.tensor),[e.tensor]);}};}),Ai,te,Me=L(()=>{Ai=class{constructor(e){Object.assign(this,e);}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(e=>`${this[e]}`).join(";")),this.key;}},te=e=>new Ai(e);}),ul,ll,fl,Th,xh,cl=L(()=>{Me(),ve(),ae(),ul={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},ll=(e,t,n)=>(xh(t),[e.run({...ul,cacheHint:n.cacheKey,get:()=>Th(e,t,n)},t)]),fl=e=>{let t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),r=e.attributes.getInt("spatial",1);return te({epsilon:t,momentum:n,spatial:r});},Th=(e,t,n)=>{let r=q(e.session.backend.glContext.version),o=t[0].dims.length,[i,a]=e.calculateTextureWidthAndHeight(t[1].dims,0),s=`\n  float process(int[${o}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${i}, ${a});\n    float scale = getColorAsFloat(${r.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${r.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${r.texture2D}(Variance, position));\n    float b = getColorAsFloat(${r.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;\n  }`;return{...ul,output:{dims:t[0].dims,type:t[0].type,textureType:0},shaderSource:s};},xh=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");let t=e[0],n=e[1],r=e[2],o=e[3],i=e[4];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==i.type&&"float64"!==i.type)throw new Error("invalid input tensor types.");};}),so,gt,G,gn,uo,Yt=L(()=>{so=class{constructor(e,t,n,r){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=n,this.outputTextureLayout=r;}},gt=class{constructor(e){this.context=e;}},G=class{constructor(e,t){this.routineBody=e,this.dependencies=t;}},gn=class{constructor(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t);}addDependency(e){e&&this.dependencies.push(e);}},uo=class{static returnOrderedNodes(e){if(!e||0===e.length)return[];if(1===e.length)return e;let t=new Set(),n=new Set(),r=new Array();return this.createOrderedNodes(e,t,n,r),r;}static createOrderedNodes(e,t,n,r){for(let o=0;o<e.length;++o)this.dfsTraverse(e[o],t,n,r);}static dfsTraverse(e,t,n,r){if(!e||n.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);let o=e.dependencies;if(o&&o.length>0)for(let e=0;e<o.length;++e)this.dfsTraverse(o[e],t,n,r);r.push(e),n.add(e.name),t.delete(e.name);}};});function vh(){let e="add_";return{body:`\n  float ${e}(float a, float b) {\n    return a + b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  `,name:e,type:0};}function _h(){let e="div_";return{body:`\n  float ${e}(float a, float b) {\n    return a / b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  `,name:e,type:0};}function Oh(){let e="mul_";return{body:`\n  float ${e}(float a, float b) {\n    return a * b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  `,name:e,type:0};}function Ih(){let e="sub_";return{body:`\n  float ${e}(float a, float b) {\n    return a - b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  `,name:e,type:0};}function Sh(){let e="equal_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  `,name:e,type:0};}function Ah(){let e="greater_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:e,type:0};}function Eh(){let e="less_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  `,name:e,type:0};}function Ph(){let e="and_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  `,name:e,type:0};}function Dh(){let e="or_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  `,name:e,type:0};}function Lh(){let e="xor_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  `,name:e,type:0};}function Fh(){return $h("pow");}function Ch(){let e="prelu_";return{body:`\n  float ${e}(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  `,name:e,type:0};}function $h(e){let t=`${e}_`;return{body:`\n  float ${t}(float a, float b) {\n    return ${e}(a, b);\n  }\n  vec4 ${t}(vec4 v1, vec4 v2) {\n    return ${e}(v1, v2);\n  }\n  `,name:t,type:0};}var yt,Bh,pl,dl,hl,ml,bl,gl,yl,Tl,xl,wl,vl,_l,Ol=L(()=>{fe(),Yt(),ve(),ae(),yt=function(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t[0].type;let o=arguments.length>4?arguments[4]:undefined;let i=e.session.pack?2:0;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],cacheHint:o,get:()=>Bh(e,t,n,r)};},Bh=function(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t[0].type;let o=e.session.pack?2:0,i=!z.areEqual(t[0].dims,t[1].dims),a=t[0].dims,s=e.session.pack;if(i){let i=Ke.calcShape(t[0].dims,t[1].dims,!1);if(!i)throw new Error("Can't perform binary op on the given tensors");a=i;let u=a.length,l=0!==t[0].dims.length?t[0].dims.length:1,c=0!==t[1].dims.length?t[1].dims.length:1,f=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",p=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",d=q(e.session.backend.glContext.version),h=s?`\n      ${n.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${n.name}(a, b);\n        ${d.output} = result;\n      }`:`\n      ${n.body}\n      float process(int indices[${u}]) {\n        int aindices[${l}];\n        int bindices[${c}];\n        ${f}\n        ${p}\n        return ${n.name}(_A(aindices), _B(bindices));\n      }`;return{name:n.name,inputNames:["A","B"],inputTypes:[o,o],output:{dims:a,type:r,textureType:o},shaderSource:h,hasMain:s};}let u=q(e.session.backend.glContext.version),l=`\n    ${n.body}\n    void main() {\n      vec4 v1 = ${u.texture2D}(A, TexCoords);\n      vec4 v2 = ${u.texture2D}(B, TexCoords);\n      vec4 result = ${n.name}(v1, v2);\n      ${u.output} = result;\n    }\n    `;return{name:n.name,inputNames:["A","B"],inputTypes:[o,o],output:{dims:t[0].dims,type:r,textureType:o},shaderSource:l,hasMain:!0};},pl=(e,t)=>[e.run(yt(e,t,vh()),t)],dl=(e,t)=>[e.run(yt(e,t,Ph(),"bool"),t)],hl=(e,t)=>[e.run(yt(e,t,_h()),t)],ml=(e,t)=>[e.run(yt(e,t,Sh(),"bool"),t)],bl=(e,t)=>[e.run(yt(e,t,Ah(),"bool"),t)],gl=(e,t)=>[e.run(yt(e,t,Eh(),"bool"),t)],yl=(e,t)=>[e.run(yt(e,t,Oh()),t)],Tl=(e,t)=>[e.run(yt(e,t,Dh(),"bool"),t)],xl=(e,t)=>[e.run(yt(e,t,Fh()),t)],wl=(e,t)=>[e.run(yt(e,t,Ch()),t)],vl=(e,t)=>[e.run(yt(e,t,Ih()),t)],_l=(e,t)=>[e.run(yt(e,t,Lh(),"bool"),t)];}),Il,Sl,Nh,Al=L(()=>{fe(),Il=(e,t,n)=>(Nh(t),[e.cast(t[0],n)]),Sl=e=>Ve.tensorDataTypeFromProto(e.attributes.getInt("to")),Nh=e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.");};}),Rh,Mh,El,lo,Pl=L(()=>{ve(),ae(),Bt(),Ir(),Rh=(e,t)=>({name:"Concat (packed)",inputNames:Array.from({length:e},(e,t)=>`X${t}`),inputTypes:Array(e).fill(2),cacheHint:t}),Mh=(e,t,n,r)=>{let o=n[0].dims.slice();if(r>=o.length||r<-1*o.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=o.length+r);let i=o.slice(0);for(let e=1;e<n.length;e++){let t=n[e].dims.slice();for(let e=0;e<o.length;e++)if(e===r)i[r]+=t[e];else if(o[e]!==t[e])throw new Error("non concat dimensions must match");}let a=i.length,s=Hr("coords",a),u=Je(a),l=kt(),c=n.map(e=>e.dims),f=Dt(a),p=new Array(c.length-1);p[0]=c[0][r];for(let e=1;e<p.length;e++)p[e]=p[e-1]+c[e][r];let d=f[r],h=f.slice(-2),g=f.join(),m=`if (${d} < ${p[0]}) {\n        return getChannel(\n            getX0(${g}), vec2(${h.join()}));\n        }`;for(let e=1;e<p.length;e++){let t=p[e-1];m+=`\n            if (${d} < ${p[e]}  && ${d} >= ${p[e-1]}) {\n              return getChannel(\n                getX${e}(${lo(f,d,t)}),\n                vec2(${lo(h,d,t)}));\n            }`;}let y=p.length,b=p[p.length-1];m+=`\n            return getChannel(\n              getX${y}(${lo(f,d,b)}),\n              vec2(${lo(h,d,b)}));`;let _=q(e.session.backend.glContext.version),v=`\n          ${l}\n          float getValue(${f.map(e=>"int "+e)}) {\n            ${m}\n          }\n\n          void main() {\n            ${u} coords = getOutputCoords();\n            int lastDim = coords.${f[a-1]};\n            coords.${f[a-1]} = coords.${f[a-2]};\n            coords.${f[a-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${s}), 0., 0., 0.);\n\n            ${s[a-1]} = ${s[a-1]} + 1;\n            if (${s[a-1]} < ${i[a-1]}) {\n              result.g = getValue(${s});\n            }\n\n            ${s[a-2]} = ${s[a-2]} + 1;\n            if (${s[a-2]} < ${i[a-2]}) {\n              result.a = getValue(${s});\n            }\n\n            ${s[a-1]} = ${s[a-1]} - 1;\n            if (${s[a-2]} < ${i[a-2]} &&\n                ${s[a-1]} < ${i[a-1]}) {\n              result.b = getValue(${s});\n            }\n            ${_.output} = result;\n          }\n        `;return{...t,output:{dims:i,type:n[0].type,textureType:2},shaderSource:v,hasMain:!0};},El=(e,t,n)=>{let r=Rh(t.length,n.cacheKey);return{...r,get:()=>Mh(e,r,t,n.axis)};},lo=(e,t,n)=>{let r=e.indexOf(t);return e.map((e,t)=>t===r?`${e} - ${n}`:e).join();};}),Dl,Gh,Uh,zh,Ll,Wh,Vh,Hh,Fl,jh,Cl=L(()=>{Me(),ae(),Pl(),Dl=(e,t,n)=>(jh(t),e.session.pack&&t[0].dims.length>1?[e.run(El(e,t,n),t)]:[e.run(zh(e,t,n),t)]),Gh=(e,t)=>({name:"Concat",inputNames:Array.from({length:e},(e,t)=>`X${t}`),inputTypes:Array(e).fill(0),cacheHint:t}),Uh=(e,t,n,r)=>{let o=n[0].dims.slice();if(r>=o.length||r<-1*o.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=o.length+r);let i=o.slice(0);for(let e=1;e<n.length;e++){let t=n[e].dims.slice();for(let e=0;e<o.length;e++)if(e===r)i[r]+=t[e];else if(o[e]!==t[e])throw new Error("non concat dimensions must match");}let a=i.length,s=new Array(n.length),u=0;for(let e=0;e<s.length;++e)u+=n[e].dims[r],s[e]=u;let l="";l=n.length<5?Ll(s):Wh(s);let c=`\n        ${Vh(n.length,a)}\n        ${Hh(s)}\n        ${l}\n        float process(int indices[${a}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${r}]);\n\n          if(textureIndex != 0) {\n            indices[${r}] = indices[${r}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return{...t,output:{dims:i,type:n[0].type,textureType:0},shaderSource:c};},zh=(e,t,n)=>{let r=Gh(t.length,n.cacheKey);return{...r,get:()=>Uh(e,r,t,n.axis)};},Ll=e=>`int getTextureWhereDataResides(int index) {\n      ${e.map((e,t)=>`if(index<${e}) {return ${t};}\n`).join("")}\n    }`,Wh=e=>Ll(e),Vh=(e,t)=>{let n=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let t=0;t<e;++t)0===t?n.push(`\tif (textureIndex == ${t}) { return _X${t}(indices); }`):t===e-1?n.push(`\telse { return _X${t}(indices); }`):n.push(`\telse if (textureIndex == ${t}) { return _X${t}(indices); }`);return n.push("\t}"),n.join("\n");},Hh=e=>{let t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<e.length;++n)0===n?t.push(`\tif (index == ${n}) { return ${e[n]}; }`):n===e.length-1?t.push(`\telse { return ${e[n]}; }`):t.push(`\telse if (index == ${n}) { return ${e[n]}; }`);return t.push("\t}"),t.join("\n");},Fl=e=>te({axis:e.attributes.getInt("axis")}),jh=e=>{if(!e||e.length<1)throw new Error("too few inputs");let t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(let r of e){if(r.type!==t)throw new Error("input tensors should be one type");if(r.dims.length!==n)throw new Error("input tensors should have the same shape");}};});function qh(){return Tt("abs");}function Yh(){return Tt("acos");}function Xh(){return Tt("asin");}function Kh(){return Tt("atan");}function Jh(){return Tt("ceil");}function Zh(){return Tt("cos");}function Qh(e){let t="elu";return{body:`\n  const float alpha = float(${e});\n\n  float ${t}_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:0};}function em(){return Tt("exp");}function tm(){return Tt("floor");}function Ei(e,t){let n="clip";return{body:`\n  const float min = float(${e});\n  const float max = float(${t});\n\n  float ${n}_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ${n}_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:n,type:0};}function rm(){let e="indentity";return{body:`\n  float ${e}_(float a) {\n    return a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return v;\n  }\n  `,name:e,type:0};}function nm(e){let t="leakyRelu";return{body:`\n  const float alpha = float(${e});\n\n  float ${t}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:0};}function om(){return Tt("log");}function im(){let e="neg";return{body:`\n  float ${e}_(float a) {\n    return -a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return -v;\n  }\n  `,name:e,type:0};}function am(){let e="not";return{body:`\n  float ${e}_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ${e}_(bool a) {\n    return !a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ${e}_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  `,name:e,type:0};}function sm(){return Tt("sin");}function Pi(){let e="relu";return{body:`\n  float ${e}_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ${e}_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  `,name:e,type:0};}function Di(){let e="sigmoid";return{body:`\n  float ${e}_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ${e}_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  `,name:e,type:0};}function um(){return Tt("sqrt");}function lm(){return Tt("tan");}function fm(){let e="tanh";return{body:`\n  float ${e}_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ${e}_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  `,name:e,type:0};}function Tt(e){return{body:`\n  float ${e}_(float a) {\n    return ${e}(a);\n  }\n  vec4 ${e}_(vec4 v) {\n    return ${e}(v);\n  }\n  `,name:e,type:0};}var cm,Fe,$l,Bl,kl,Nl,Li,Rl,Ml,pm,Gl,Ul,zl,Wl,Vl,Hl,Fi,jl,ql,Yl,Xl,Kl,Jl,Zl,Ql,ef,tf,rf,Ci=L(()=>{Me(),fe(),Yt(),ve(),ae(),cm=(e,t,n,r)=>{let o=e.session.pack?2:0,i=q(e.session.backend.glContext.version);return{...t,output:{dims:n.dims,type:n.type,textureType:o},shaderSource:`\n     ${r.body}\n     void main() {\n       vec4 v = ${i.texture2D}(A, TexCoords);\n       v = ${r.name}_(v);\n       ${i.output} = v;\n     }\n     `,hasMain:!0};},Fe=(e,t,n,r)=>{let o=e.session.pack?2:0,i={name:n.name,inputTypes:[o],inputNames:["A"],cacheHint:r};return{...i,get:()=>cm(e,i,t,n)};},$l=(e,t)=>[e.run(Fe(e,t[0],qh()),t)],Bl=(e,t)=>[e.run(Fe(e,t[0],Yh()),t)],kl=(e,t)=>[e.run(Fe(e,t[0],Xh()),t)],Nl=(e,t)=>[e.run(Fe(e,t[0],Kh()),t)],Li=(e,t,n)=>[e.run(Fe(e,t[0],Ei(n.min,n.max),n.cacheKey),t)],Rl=e=>te({min:e.attributes.getFloat("min",vr),max:e.attributes.getFloat("max",_r)}),Ml=(e,t)=>{let n=pm(e,t);return Li(e,[t[0]],n);},pm=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");let n=t.length>=3?t[1].numberData[0]:vr,r=t.length>=3?t[2].numberData[0]:_r;return te({min:n,max:r});},Gl=(e,t)=>[e.run(Fe(e,t[0],Jh()),t)],Ul=(e,t)=>[e.run(Fe(e,t[0],Zh()),t)],zl=(e,t,n)=>[e.run(Fe(e,t[0],Qh(n.alpha),n.cacheKey),t)],Wl=e=>te({alpha:e.attributes.getFloat("alpha",1)}),Vl=(e,t)=>[e.run(Fe(e,t[0],em()),t)],Hl=(e,t)=>[e.run(Fe(e,t[0],tm()),t)],Fi=(e,t)=>[e.run(Fe(e,t[0],rm()),t)],jl=(e,t,n)=>[e.run(Fe(e,t[0],nm(n.alpha),n.cacheKey),t)],ql=e=>te({alpha:e.attributes.getFloat("alpha",.01)}),Yl=(e,t)=>[e.run(Fe(e,t[0],om()),t)],Xl=(e,t)=>[e.run(Fe(e,t[0],im()),t)],Kl=(e,t)=>[e.run(Fe(e,t[0],am()),t)],Jl=(e,t)=>[e.run(Fe(e,t[0],Pi()),t)],Zl=(e,t)=>[e.run(Fe(e,t[0],Di()),t)],Ql=(e,t)=>[e.run(Fe(e,t[0],sm()),t)],ef=(e,t)=>[e.run(Fe(e,t[0],um()),t)],tf=(e,t)=>[e.run(Fe(e,t[0],lm()),t)],rf=(e,t)=>[e.run(Fe(e,t[0],fm()),t)];});function Nt(e){let t;switch(e.activation){case"Relu":t=Pi();break;case"Sigmoid":t=Di();break;case"Clip":t=Ei(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""};}let n=t.name;return{activationFunction:t.body,applyActivation:`value = ${n}_(value);`};}var jr,Sr=L(()=>{fe(),Ci(),jr=e=>{let t=e.getString("activation","");if("Clip"===t){let[n,r]=e.getFloats("activation_params",[vr,_r]);return{activation:t,clipMax:r,clipMin:n,activationCacheKey:`${t}:${n},${r}`};}return{activation:t,activationCacheKey:t};};}),hm,mm,nf,of=L(()=>{dt(),ve(),ae(),fo(),Sr(),hm=(e,t)=>({name:"GroupedConv",inputNames:e?["X","W","Bias"]:["X","W"],inputTypes:e?[0,0,0]:[0,0],cacheHint:t}),mm=(e,t,n,r)=>{let o=t.length>2?"value += getBias(output_channel);":"",i=t[0].dims.slice(),a=t[1].dims.slice(),s=a[0]/r.group;pe.verbose("GroupedConv",`autpPad:${r.autoPad}, dilations:${r.dilations}, group:${r.group}, kernelShape:${r.kernelShape}, pads:${r.pads}, strides:${r.strides}`);let u=qr(i,a,r.dilations,r.pads,r.strides),l=q(e.session.backend.glContext.version),{activationFunction:c,applyActivation:f}=Nt(r),p=`\n  const ivec2 strides = ivec2(${r.strides[0]}, ${r.strides[1]});\n  const ivec2 pads = ivec2(${r.pads[0]}, ${r.pads[1]});\n  ${c}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${s};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${a[1]}; wInChannel++) {\n      int input_channel = group_id * ${a[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${a[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${r.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${i[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${a[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${r.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${i[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${o}\n    ${f}\n    ${l.output} = vec4(value, .0, .0, .0);\n  }\n`;return{...n,output:{dims:u,type:t[0].type,textureType:0},shaderSource:p,hasMain:!0};},nf=(e,t,n)=>{let r=hm(t.length>2,n.cacheKey);return{...r,get:()=>mm(e,t,r,n)};};}),bm,gm,af,sf=L(()=>{ve(),ae(),Ir(),bm=e=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:e}),gm=(e,t,n,r,o,i)=>{let a=n.dims,s=r.dims,u=o.length,l=[s[1]*s[2]*s[3],o[2]*o[3]],c=s[2]*s[3],f=kt(),p=q(e.session.backend.glContext.version),d="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)d+=`\n            blockIndex = rc.x + ${t};\n            pos = rc.y + ${e};\n\n            if(blockIndex < ${l[1]} && pos < ${l[0]}) {\n              offsetY = int(blockIndex / (${o[u-1]})) * ${i.strides[0]} -\n                ${i.pads[0]};\n              d0 = offsetY + ${i.dilations[0]} * (imod(pos, ${c}) / ${s[2]});\n\n              if(d0 < ${a[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${o[u-1]}) * ${i.strides[1]} -\n                  ${i.pads[1]};\n                d1 = offsetX + ${i.dilations[1]} * imod(imod(pos, ${c}), ${s[2]});\n\n                if(d1 < ${a[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${c}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*e+t}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;let h=`\n      ${f}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${d}\n          ${p.output} = result;\n      }\n            `;return{...t,output:{dims:l,type:n.type,textureType:2},shaderSource:h,hasMain:!0};},af=(e,t,n,r,o)=>{let i=bm(o.cacheKey);return{...i,get:()=>gm(e,i,t,n,r,o)};};});function Tm(e,t,n){let r=t[0].dims,o=t[1].dims,i=Ke.calcShape(r,o,!0);if(!i)throw new Error("Can't use matmul on the given tensors");let a=Je(i.length),s=Dt(),{activationFunction:u,applyActivation:l}=Nt(n),c=t.length>2,f=c?"value += getBiasForMatmul();":"",p=c?`${Bi(a,s,t[2].dims,i,!1)}`:"",d=i.length,h=r.length,g=o.length,m=`\n    ${u}\n    ${p}\n    float process(int indices[${d}]) {\n        int a[${h}];\n        int b[${g}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${r[r.length-1]}; ++k) {\n            a[${h-1}] = k;\n            b[${g-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${f}\n        ${l}\n        return value;\n    }`;return{...e,output:{dims:i,type:t[0].type,textureType:0},shaderSource:m};}function $i(e,t){let n=ym(e.length>2,t.activationCacheKey);return{...n,get:()=>Tm(n,e,t)};}function Bi(e,t,n,r,o){let i="",a=n.length,s=r.length,u=s-a;i=s<2&&a>0?"coords":n.map((e,n)=>`coords.${t[n+u]}`).join(", ");let l=Ke.getBroadcastDims(n,r).map(e=>`coords.${t[e+u]} = 0;`).join("\n"),c="vec4(outputValue.xx, outputValue.yy)";return 1===z.size(n)&&(c="vec4(outputValue.x)"),o?`\nvec4 getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${l}\n  vec4 outputValue = getBias(${i});\n  return ${c};\n}`:`\nfloat getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${l}\n  return getBias(coords.x);\n}`;}var uf,lf,ym,xm,co=L(()=>{fe(),ae(),Bt(),Sr(),ki(),uf=(e,t,n)=>(xm(t),e.session.pack?[e.run(po(e,t,n),t)]:[e.run($i(t,n),t)]),lf=e=>jr(e.attributes),ym=(e,t)=>({name:"MatMul",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[0,0,0]:[0,0],cacheHint:t}),xm=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match");};});function _m(e,t,n,r){let o=[],i=[],a=n[0].dims,s=n[1].dims,u=a.length,l=s.length,c=r.length,f=c-u,p=c-l;o=a.map((e,n)=>`coords.${t[n+f]}`),o[u-1]="i*2",o.join(", "),i=s.map((e,n)=>`coords.${t[n+p]}`),i[l-2]="i*2",i.join(", ");let d=Ke.getBroadcastDims(a,r),h=Ke.getBroadcastDims(s,r),g=d.map(e=>`coords.${t[e+f]} = 0;`).join("\n"),m=h.map(e=>`coords.${t[e+p]} = 0;`).join("\n"),y=`int lastDim = coords.${t[c-1]};\n  coords.${t[c-1]} = coords.${t[c-2]};\n  coords.${t[c-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${y}\n  ${g}\n  vec4 outputValue = getA(${o});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${y}\n  ${m}\n  vec4 outputValue = getB(${i});\n  return outputValue;\n}`;}function Om(e,t){let n="";for(let r=0;r<t-2;r++)n+=`rc.${e[r]}, `;return n+=`rc.${e[t-2]}, i*2`,n;}function Im(e,t){let n="";for(let r=0;r<t-2;r++)n+=`rc.${e[r]}, `;return n+=`i*2, rc.${e[t-1]}`,n;}var wm,vm,po,ki=L(()=>{fe(),ve(),ae(),Bt(),Sr(),co(),wm=(e,t)=>({name:"MatMul (packed)",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[2,2,2]:[2,2],cacheHint:t}),vm=(e,t,n,r)=>{let o=n.length>2,i=o?"value += getBiasForMatmul();":"",a=n[0].dims,s=n[1].dims,u=Ke.calcShape(a,s,!0),l=!z.areEqual(n[0].dims,n[1].dims);if(!u)throw new Error("Can't use matmul on the given tensors");let c=a[a.length-1],f=Math.ceil(c/2),p=a.length,d=s.length,h=q(e.session.backend.glContext.version),g=Je(u.length),m=u.length,y=Dt(),{activationFunction:b,applyActivation:_}=Nt(r),v=o?`${Bi(g,y,n[2].dims,u,!0)}`:"",w=l?`${_m(g,y,n,u)}`:"",I=l?"getAAtOutCoordsMatmul(i)":`getA(${Om(y,p)})`,x=l?"getBAtOutCoordsMatmul(i)":`getB(${Im(y,d)})`,A=`\n            ${w}\n            ${v}\n            ${b}\n            void main() {\n              ${l?"":`${g} rc =\n          getOutputCoords(); int lastDim = rc.${y[m-1]}; rc.${y[m-1]} =\n          rc.${y[m-2]}; rc.${y[m-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${f}; i++) {\n                vec4 a = ${I};\n                vec4 b = ${x};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${i}\n              ${_}\n              ${h.output} = value;\n            }`;return{...t,output:{dims:u,type:n[0].type,textureType:2},shaderSource:A,hasMain:!0};},po=(e,t,n)=>{let r=wm(t.length>2,n.activationCacheKey);return{...r,get:()=>vm(e,r,t,n)};};}),ff,cf=L(()=>{fo(),sf(),ki(),ff=(e,t,n)=>{let r=t[0].dims,o=t[1].dims,i=qr(r,o,n.dilations,n.pads,n.strides),a=e.run(af(e,t[0],t[1],i,n),[t[0]]),s=e.reshapePacked(t[1],[o[0],o[1]*o[2]*o[3]]),u=3===t.length?[s,a,t[2]]:[s,a],l=e.run(po(e,u,n),u);return e.reshapePacked(l,i);};}),Sm,Am,pf,Ni,Ri=L(()=>{ae(),Sm=e=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:e}),Am=(e,t,n,r,o,i)=>{let a=n.dims,s=r.dims,u=o.length,l=Ni(a,s,o,4),c=`\n        const int XC = ${a[1]};\n        const int XH = ${a[2]};\n        const int XW = ${a[3]};\n        const int KH = ${i.kernelShape[0]};\n        const int KW = ${i.kernelShape[1]};\n        const int dilationH = ${i.dilations[0]};\n        const int dilationW = ${i.dilations[1]};\n        const int strideH = ${i.strides[0]};\n        const int strideW = ${i.strides[1]};\n        const int padH = ${i.pads[0]};\n        const int padW = ${i.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${u}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${a.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return{...t,output:{dims:l,type:n.type,textureType:4},shaderSource:c};},pf=(e,t,n,r,o)=>{let i=Sm(o.cacheKey);return{...i,get:()=>Am(e,i,t,n,r,o)};},Ni=function(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:4;return[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)];};}),Em,Pm,df,hf=L(()=>{fe(),ve(),ae(),Sr(),Ri(),Em=(e,t)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[0,4,0]:[0,4],cacheKey:t.activationCacheKey}),Pm=(e,t,n,r,o)=>{let i=n[0].dims,a=n[1].dims,s=[a[0],Math.ceil(i[1]*a[2]*a[3]/4)],u=Ni(i,a,r),[l,c]=e.calculateTextureWidthAndHeight(s,4),f=z.computeStrides(u),[p,d]=e.calculateTextureWidthAndHeight(u,4),h=r.length,g=n.length<3?"0.0":"_B(b)",m=Math.ceil(i[1]*a[2]*a[3]/4),{activationFunction:y,applyActivation:b}=Nt(o),_=q(e.session.backend.glContext.version),v=`\n${y}\nfloat process(int indices[${h}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${f[0]} + im2col[1] * ${f[1]} + im2col[2] * ${f[2]};\n  int kernelOffset = indices[1] * ${s[1]};\n  float value = ${g};\n  for (int i = 0; i < ${m}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${p}, ${d});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${l}, ${c});\n    value += dot(${_.texture2D}(Im2Col, im2colCoords), ${_.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${b}\n  return value;\n}`;return{...t,output:{dims:r,type:n[0].type,textureType:0},shaderSource:v};},df=(e,t,n,r)=>{let o=Em(t.length>2,r);return{...o,get:()=>Pm(e,o,t,n,r)};};}),qr,Mi,Dm,Lm,Fm,Cm,Gi,$m,fo=L(()=>{Me(),fe(),of(),cf(),hf(),Sr(),Ri(),co(),qr=(e,t,n,r,o)=>{let i=e[0],a=e.slice(2),s=a.length,u=t[0],l=t.slice(2).map((e,t)=>e+(e-1)*(n[t]-1)),c=a.map((e,t)=>e+r[t]+r[t+s]).map((e,t)=>Math.floor((e-l[t]+o[t])/o[t]));return[i,u].concat(...c);},Mi=(e,t,n)=>($m(t,n),Dm(e,t,n)),Dm=(e,t,n)=>{let r=Cm(n,t),o=e.session.pack,i=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[e.run(nf(e,t,r),t)]:i&&o?[Lm(e,t,r)]:o&&4===t[0].dims.length&&1===t[0].dims[0]&&!i?[ff(e,t,r)]:[Fm(e,t,r)];},Lm=(e,t,n)=>{let r=t[0].dims,o=t[1].dims,i=qr(r,o,n.dilations,n.pads,n.strides),a=e.reshapeUnpacked(t[0],[r[1],r[2]*r[3]]),s=e.reshapeUnpacked(t[1],[o[0],o[1]]),u=t.length>2?[s,a,t[2]]:[s,a],l=e.run($i(u,n),u);return e.reshapeUnpacked(l,i);},Fm=(e,t,n)=>{let r=t[0].dims,o=t[1].dims,i=qr(r,o,n.dilations,n.pads,n.strides),a=e.run(pf(e,t[0],t[1],i,n),[t[0]]),s=3===t.length?[a,t[1],t[2]]:[a,t[1]];return e.run(df(e,t,i,n),s);},Cm=(e,t)=>{let n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e]);let r=e.pads.slice();wr.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,e.autoPad);let o=Object.assign({},e);return Object.assign(o,{kernelShape:n,pads:r,cacheKey:e.cacheKey}),o;},Gi=e=>{let t=e.attributes,n=jr(t),r=t.getString("auto_pad","NOTSET"),o=t.getInts("dilations",[1,1]),i=t.getInt("group",1),a=t.getInts("kernel_shape",[]),s=t.getInts("pads",[0,0,0,0]),u=t.getInts("strides",[1,1]);return te({autoPad:r,dilations:o,group:i,kernelShape:a,pads:s,strides:u,...n});},$m=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");let n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor");};}),Bm,km,Nm,mf,Rm,Mm,Gm,Um,zm,Wm,bf,Vm,gf=L(()=>{Me(),ve(),ae(),Sr(),Bm=(e,t,n,r,o,i)=>(e-1)*t+n+(r-1)*o+1-i,km=(e,t,n,r,o)=>{let i=Math.floor(e/2);"SAME_UPPER"===t?(n[r]=i,n[o]=e-i):"SAME_LOWER"===t&&(n[r]=e-i,n[o]=i);},Nm=(e,t,n,r,o,i,a,s)=>{let u=e.length-2,l=0===s.length;for(let c=0;c<u;++c){let f=l?e[c+2]*i[c]:s[c],p=Bm(e[c+2],i[c],o[c],t[c],n[c],f);km(p,r,o,c,c+u),l&&s.push(i[c]*(e[c+2]-1)+a[c]+(t[c]-1)*n[c]+1-o[c]-o[c+u]);}},mf=(e,t,n)=>(Vm(t,n),Rm(e,t,n)),Rm=(e,t,n)=>{let r=Wm(n,t);return[zm(e,t,r)];},Mm=(e,t)=>({name:"ConvTranspose",inputNames:e?["X","W","B"]:["X","W"],inputTypes:e?[0,0,0]:[0,0],cacheHint:t}),Gm=(e,t,n,r)=>{let o=t.length>2?"getB(output_channel)":"0.0",i=t[0].dims,a=t[1].dims,s=a[1],u=a[0]/r.group,l=[t[0].dims[0],t[1].dims[1]*r.group,...r.outputShape],c=q(e.session.backend.glContext.version),{activationFunction:f,applyActivation:p}=Nt(r),d=`\n  const ivec2 strides = ivec2(${r.strides[0]}, ${r.strides[1]});\n  const ivec2 pads = ivec2(${r.pads[0]}, ${r.pads[1]});\n  ${f}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ${s};\n    int wOutChannel = output_channel - group_id * ${s};\n\n    float value = ${o};\n    for (int inChannelOffset = 0; inChannelOffset < ${u}; inChannelOffset++) {\n      int input_channel = group_id * ${u} + inChannelOffset;\n      for (int wWOff = 0; wWOff < ${a[2]}; wWOff++) {\n        for (int wHOff = 0; wHOff < ${a[3]}; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ${r.dilations[0]}, wHOff * ${r.dilations[1]});\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ${i[2]} &&\n            wLocIn.y >= 0 && wLocIn.y < ${i[3]}\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ${p}\n    ${c.output} = vec4(value, .0, .0, .0);\n  }\n`;return{...n,output:{dims:l,type:t[0].type,textureType:0},shaderSource:d,hasMain:!0};},Um=(e,t,n)=>{let r=Mm(t.length>2,n.cacheKey);return{...r,get:()=>Gm(e,t,r,n)};},zm=(e,t,n)=>e.run(Um(e,t,n),t),Wm=(e,t)=>{let n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e]);let r=e.pads.slice(),o=e.outputShape.slice(),i=t[0].dims;Nm(i,n,e.dilations,e.autoPad,r,e.strides,e.outputPadding,o);let a=Object.assign({},e);return Object.assign(a,{kernelShape:n,pads:r,outputShape:o,cacheKey:e.cacheKey}),a;},bf=e=>{let t=e.attributes,n=jr(t),r=t.getString("auto_pad","NOTSET"),o=t.getInts("dilations",[1,1]),i=t.getInt("group",1),a=t.getInts("kernel_shape",[]),s=t.getInts("output_padding",[0,0]),u=t.getInts("output_shape",[]),l=t.getInts("pads",[0,0,0,0]),c=t.getInts("strides",[1,1]);return te({autoPad:r,dilations:o,group:i,kernelShape:a,outputPadding:s,outputShape:u,pads:l,strides:c,...n});},Vm=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");let r=e[0].dims.length-2;if(t.dilations.length!==r)throw new Error(`dilations should be ${r}D`);if(t.strides.length!==r)throw new Error(`strides should be ${r}D`);if(t.pads.length!==2*r)throw new Error(`pads should be ${2*r}D`);if(t.outputPadding.length!==r)throw new Error(`output_padding should be ${r}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor");};}),yf,Ar,Tf,Hm,xf,jm,qm,Ym,ho=L(()=>{Me(),fe(),ae(),yf={name:"Transpose",inputNames:["A"],inputTypes:[0]},Ar=(e,t,n)=>(Ym(t),[e.run({...yf,cacheHint:n.cacheKey,get:()=>Hm(e,t[0],n.perm)},t)]),Tf=e=>te({perm:e.attributes.getInts("perm",[])}),Hm=(e,t,n)=>{let r=t.dims;n=xf(r,n);let o=jm(r,n),i=r.length,a=`\n      ${qm("perm",n,i)}\n      float process(int indices[${i}]) {\n        int a[${i}];\n        perm(a, indices);\n        return _A(a);\n      }`;return{...yf,output:{dims:o,type:t.type,textureType:0},shaderSource:a};},xf=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),jm=(e,t)=>(t=xf(e,t),z.sortBasedOnPerm(e,t)),qm=(e,t,n)=>{let r=[];r.push(`void ${e}(out int a[${n}], int src[${n}]) {`);for(let e=0;e<n;++e)r.push(`\ta[${t[e]}]=src[${e}];`);return r.push("\t}"),r.join("\n");},Ym=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor");};}),wf,vf,Xm,_f=L(()=>{ho(),wf=(e,t,n)=>{Xm(t);let r=n.blocksize,o=r*r,i="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],a="DCR"===n.mode?[t[0].dims[0],r,r,t[0].dims[1]/o,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/o,r,r,t[0].dims[2],t[0].dims[3]],s=e.reshapeUnpacked(t[0],a),u={perm:i,cacheKey:`${i}`},[l]=Ar(e,[s],u),c=[t[0].dims[0],t[0].dims[1]/o,t[0].dims[2]*r,t[0].dims[3]*r];return[e.reshapeUnpacked(l,c)];},vf=e=>{let t=e.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);let n=e.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error(`unrecognized mode: ${n} for DepthToSpace`);return{mode:n,blocksize:t};},Xm=e=>{if(1!==e.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${e.length}`);if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor");};}),Of,If,Km,Sf=L(()=>{fe(),Of=(e,t,n)=>{Km(t,n);let r=z.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],r)];},If=e=>e.attributes.getInt("axis",1),Km=(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");let n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.");};}),nr,yn=L(()=>{nr=["float32","float64","int32","int16","int8","uint16","uint32","uint8"];}),Af,Ef,Jm,Zm,Qm,eb,Pf=L(()=>{Me(),yn(),fe(),ae(),Af=(e,t,n)=>(eb(t,n.axis),[e.run(Qm(e,t,n),t)]),Ef=e=>te({axis:e.attributes.getInt("axis",0)}),Jm={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},Zm=(e,t,n,r)=>{let o=n[0].dims.slice(),i=n[1].dims.slice(),a=new Array(o.length+i.length-1);r=z.normalizeAxis(r,o.length);let s=[];for(let e=0;e<a.length;e++)e<r?(a[e]=o[e],s.push(`inputIdx[${e}] = outputIdx[${e}];`)):e<r+i.length?(a[e]=i[e-r],s.push(`indexDataIdx[${e-r}] = outputIdx[${e}];`)):(a[e]=o[e-i.length+1],s.push(`inputIdx[${e-i.length+1}] = outputIdx[${e}];`));let u=`\n      float process(int outputIdx[${a.length||1}]) {\n        int inputIdx[${o.length}];\n        int indexDataIdx[${i.length||1}];\n        indexDataIdx[0] = 0;\n        ${s.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${r}] = idx < 0 ? idx + ${o[r]} : idx;\n        return _A(inputIdx);\n      }`;return{...t,output:{dims:a,type:n[0].type,textureType:0},shaderSource:u};},Qm=(e,t,n)=>{let r={...Jm,cacheHint:n.cacheKey};return{...r,get:()=>Zm(e,r,t,n.axis)};},eb=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");let n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(-1===nr.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.");};}),Ui,Df,Lf,Ff,tb,rb,nb,Cf=L(()=>{Me(),fe(),ae(),Ui=(e,t,n)=>(nb(t,n),[e.run(tb(t,n),t)]),Df=(e,t)=>{let n=0!==e.attributes.getInt("transA",0),r=0!==e.attributes.getInt("transB",0),o=e.attributes.getFloat("alpha",1),i=e.attributes.getFloat("beta",1);return te({transA:n,transB:r,alpha:o,beta:i,isOptionalC:t});},Lf=e=>Df(e,!1),Ff=e=>Df(e,!0),tb=(e,t)=>{let n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[0,0,0]:[0,0],key:t.cacheKey};return{...n,get:()=>rb(n,e,t)};},rb=(e,t,n)=>{let r=t[0].dims.slice(),o=t[1].dims.slice(),[i,a]=ro.getShapeOfGemmResult(r,n.transA,o,n.transB,3===t.length?t[2].dims:void 0),s=[i,a];if(!s)throw new Error("Can't use gemm on the given tensors");let u=r[r.length-1],l="";n.transA&&(u=r[0]),n.transA&&n.transB?l="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?l="value += _A_T(a) * _B(b);":!n.transA&&n.transB?l="value += _A(a) * _B_T(b);":!n.transA&&!n.transB&&(l="value += _A(a) * _B(b);");let c=s.length,f=`\n      float process(int indices[${c}]) {\n          int a[${c}];\n          int b[${c}];\n          ${3===t.length?`int c[${t[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===t.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${u}; ++k) {\n              a[${c-1}] = k;\n              b[${c-2}] = k;\n              ${l}\n          }\n\n          value = value * alpha;\n          ${3===t.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return{...e,output:{dims:s,type:t[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:f};},nb=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched");};}),$f,Bf,ob,ib,ab,sb,ub,kf=L(()=>{Me(),ae(),$f=(e,t,n)=>(ub(t),[e.run(ab(e,t,n),t)]),Bf=e=>{let t=e.attributes.getFloat("scale"),n=e.attributes.getFloats("bias");return te({scale:t,bias:n});},ob={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},ib=(e,t,n,r)=>{let o=n[0].dims.slice(),i=o.length,a=`\n      ${sb(r.bias.length)}\n      float process(int indices[${i}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return{...t,output:{dims:o,type:n[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:r.bias.length,data:r.bias},{name:"scale",type:"float",data:r.scale}],shaderSource:a};},ab=(e,t,n)=>{let r={...ob,cacheHint:n.cacheKey};return{...r,get:()=>ib(e,r,t,n)};},sb=e=>{let t=[`float getBias(float bias[${e}], int channel) {`];for(let n=0;n<e;++n)0===n?t.push(`\tif (channel == ${n}) { return bias[${n}]; }`):n===e-1?t.push(`\telse { return bias[${n}]; }`):t.push(`\telse if (channel == ${n}) { return bias[${n}]; }`);return t.push("\t}"),t.join("\n");},ub=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");};}),Rf,Mf,Nf,lb,fb,cb,pb,db,hb,Gf=L(()=>{ve(),ae(),Rf=(e,t,n)=>{hb(t);let r=e.run(fb(t[0]),t);return[e.run(db(e,t[0],n,r.dims),[t[0],r,t[1],t[2]])];},Mf=e=>e.attributes.getFloat("epsilon",1e-5),Nf={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},lb=(e,t)=>{let n=t.dims.slice(),r=n[1],o=n[2]*n[3],i=[n[0],r],a=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${n[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${n[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${o});\n        temp = 0.0;\n        for(int a2=0; a2<${n[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${n[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${o});\n\n        return v;\n      }`;return{...e,output:{dims:i,type:t.type,textureType:4},shaderSource:a};},fb=e=>({...Nf,get:()=>lb(Nf,e)}),cb={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},pb=(e,t,n,r,o)=>{let i=q(e.session.backend.glContext.version),[a,s]=e.calculateTextureWidthAndHeight(o,4),[u,l]=[a/4,s],c=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${u}, ${l});\n        return ${i.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return{...t,output:{dims:n.dims,type:n.type,textureType:0},variables:[{name:"epsilon",type:"float",data:r}],shaderSource:c};},db=(e,t,n,r)=>{let o={...cb,cacheHint:`${n}`};return{...o,get:()=>pb(e,o,t,n,r)};},hb=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");let t=e[0],n=e[1],r=e[2];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.");};});function mb(e,t){let n=e[0].dims[1],r=e[0].dims.length,o=-Math.floor((t.size-1)/2),i=Math.ceil((t.size-1)/2),a=`float(${t.alpha}) / float(${t.size})`,s=`\n    float process(int indices[${r}]) {\n        int c = indices[1];\n        float x = _X(indices);\n        float square_sum = 0.0;\n\n        for (int i = ${o}; i <= ${i}; i++) {\n          int idx = c + i;\n          if (c >= 0 && c < ${n}) {\n            indices[1] = idx;\n            float j = _X(indices);\n            square_sum += j * j;\n          }\n        }\n        return x / pow(${`float(${t.bias})`} + ${a} * square_sum, ${`float(${t.beta})`});\n    }`;return{...Wf,cacheHint:t.cacheKey,output:{dims:e[0].dims,type:e[0].type,textureType:0},shaderSource:s};}function bb(e,t){return{...Wf,cacheHint:t.cacheKey,get:()=>mb(e,t)};}var Uf,zf,Wf,gb,Vf=L(()=>{Me(),ae(),Uf=(e,t,n)=>(gb(t),[e.run(bb(t,n),t)]),zf=e=>{let t=e.attributes.getFloat("alpha",1e-4),n=e.attributes.getFloat("beta",.75),r=e.attributes.getFloat("bias",1),o=e.attributes.getInt("size");return te({alpha:t,beta:n,bias:r,size:o});},Wf={name:"LRN",inputNames:["X"],inputTypes:[0]},gb=e=>{if(!e||1!==e.length)throw new Error("LRN requires 1 input.");if(4!==e[0].dims.length)throw new Error('currently only support LRN for input with "NCHW" format');if("float32"!==e[0].type)throw new Error("input should be float type");};}),yb,zi,Hf,jf,qf,Tb,xb,wb,vb,_b,Ob,Ib,Sb,Yf=L(()=>{Me(),fe(),ve(),ae(),yb={name:"Pad",inputNames:["A"],inputTypes:[0]},zi=(e,t,n)=>(wb(t),[e.run({...yb,cacheHint:n.cacheKey,get:()=>xb(e,t[0],n)},t)]),Hf=e=>{let t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),r=e.attributes.getInts("pads");return te({mode:t,value:n,pads:r});},jf=(e,t,n)=>{vb(t);let r=Tb(e,t,n);return zi(e,[t[0]],r);},qf=e=>e.attributes.getString("mode","constant"),Tb=(e,t,n)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");let r=Array.from(t[1].integerData),o=t.length>=3?t[2].floatData[0]:0;return te({mode:n,pads:r,value:o});},xb=(e,t,n)=>{let r=z.padShape(t.dims.slice(),n.pads),o=r.length,i=`\n      ${_b(e,t,n)}\n      float process(int[${o}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:r,type:t.type,textureType:0},shaderSource:i};},wb=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");},vb=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.");},_b=(e,t,n)=>{let r=q(e.session.backend.glContext.version),[o,i]=e.calculateTextureWidthAndHeight(t.dims,0),a=z.computeStrides(t.dims);switch(n.mode){case"constant":return Ob(r,t.dims,a,o,i,n.pads,n.value);case"reflect":return Ib(r,t.dims,a,o,i,n.pads);case"edge":return Sb(r,t.dims,a,o,i,n.pads);default:throw new Error("Invalid mode");}},Ob=(e,t,n,r,o,i,a)=>{let s=t.length,u="";for(let e=s-1;e>=0;--e)u+=`\n        k = m[${e}] - ${i[e]};\n        if (k < 0)  return constant;\n        if (k >= ${t[e]}) return constant;\n        offset += k * ${n[e]};\n        `;return`\n      float padA(int m[${s}]) {\n        const float constant = float(${a});\n        int offset = 0;\n        int k = 0;\n        ${u}\n        vec2 coords = offsetToCoords(offset, ${r}, ${o});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `;},Ib=(e,t,n,r,o,i)=>{let a=t.length,s="";for(let e=a-1;e>=0;--e)s+=`\n        k = m[${e}] - ${i[e]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(t[e]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${t[e]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${n[e]};\n        `;return`\n      float padA(int m[${a}]) {\n        int offset = 0;\n        int k = 0;\n        ${s}\n        vec2 coords = offsetToCoords(offset, ${r}, ${o});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `;},Sb=(e,t,n,r,o,i)=>{let a=t.length,s="";for(let e=a-1;e>=0;--e)s+=`\n        k = m[${e}] - ${i[e]};\n        if (k < 0)  k = 0;\n        if (k >= ${t[e]}) k = ${t[e]-1};\n        offset += k * ${n[e]};\n      `;return`\n      float padA(int m[${a}]) {\n        int offset = 0;\n        int k = 0;\n        ${s}\n        vec2 coords = offsetToCoords(offset, ${r}, ${o});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `;};}),Kf,Jf,Zf,Qf,ec,tc,rc,nc,oc,Ab,Xf,ic,bo,ac,mo,Eb,sc=L(()=>{Me(),fe(),ae(),Kf=(e,t,n)=>{bo(t);let r={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:n.cacheKey};return[e.run({...r,get:()=>Zf(t,r,!1,n)},t)];},Jf=e=>{let t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),r=0!==e.attributes.getInt("count_include_pad",0),o=e.attributes.getInts("kernel_shape"),i=e.attributes.getInts("strides",[]),a=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return te({autoPad:t,ceilMode:n,countIncludePad:r,kernelShape:o,strides:i,pads:a});},Zf=(e,t,n,r)=>{let[o,i]=oc(e,r,n),a=z.size(o.kernelShape),s="";o.countIncludePad?s+=`value /= float(${a});`:s+=`value /= float(${a} - pad);`;let u=`\n        ${ac(e[0].dims,o,"value += _X(x);",s,"0.0")}\n      `;return{...t,output:{dims:i,type:e[0].type,textureType:0},shaderSource:u};},Qf=(e,t,n)=>{bo(t);let r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${n.countIncludePad}`};return[e.run({...r,get:()=>Zf(t,r,!0,n)},t)];},ec=e=>{let t=0!==e.attributes.getInt("count_include_pad",0);return te({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]});},tc=(e,t,n)=>{bo(t);let r={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:n.cacheKey};return[e.run({...r,get:()=>nc(t,r,!1,n)},t)];},rc=e=>{let t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),r=e.attributes.getInts("kernel_shape"),o=e.attributes.getInts("strides",[]),i=e.attributes.getInts("pads",[]),a=e.attributes.getInt("storage_order",0),s=e.attributes.getInts("dilations",[]);if(0!==a)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return te({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:r,strides:o,pads:i,storageOrder:a,dilations:s});},nc=(e,t,n,r)=>{let[o,i]=oc(e,r,n),a=`\n      ${ac(e[0].dims,o,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return{...t,output:{dims:i,type:e[0].type,textureType:0},shaderSource:a};},oc=(e,t,n)=>{let r=e[0].dims.slice(),o=Object.hasOwnProperty.call(t,"dilations"),i=t.kernelShape.slice(),a=t.strides.slice(),s=o?t.dilations.slice():[],u=t.pads.slice();wr.adjustPoolAttributes(n,r,i,a,s,u);let l=wr.computePoolOutputShape(n,r,a,s,i,u,t.autoPad),c=Object.assign({},t);return o?Object.assign(c,{kernelShape:i,strides:a,pads:u,dilations:s,cacheKey:t.cacheKey}):Object.assign(c,{kernelShape:i,strides:a,pads:u,cacheKey:t.cacheKey}),[c,l];},Ab={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Xf={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},ic=(e,t)=>(bo(t),[e.run({...Xf,get:()=>nc(t,Xf,!0,Ab)},t)]),bo=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");},ac=(e,t,n,r,o)=>{let i=e.length;if(t.kernelShape.length<=2){let a=t.kernelShape[t.kernelShape.length-1],s=t.strides[t.strides.length-1],u=t.pads[t.pads.length/2-1],l=t.pads[t.pads.length-1],c=e[i-1],f="",p="",d="";if(f=u+l!==0?`\n          for (int i = 0; i < ${a}; i++) {\n            x[${i} - 1] = indices[${i} - 1] * ${s} - ${u} + i;\n            if (x[${i} - 1] < 0 || x[${i} - 1] >= ${c}) {\n              pad++;\n              continue;\n            }\n            ${n}\n          }`:`\n          for (int i = 0; i < ${a}; i++) {\n            x[${i} - 1] = indices[${i} - 1] * ${s} - ${u} + i;\n            ${n}\n          }`,2===t.kernelShape.length){let n=t.kernelShape[t.kernelShape.length-2],r=t.strides[t.strides.length-2],o=t.pads[t.pads.length/2-2],s=t.pads[t.pads.length-2],u=e[i-2];p=o+s!==0?`\n            for (int j = 0; j < ${n}; j++) {\n              x[${i} - 2] = indices[${i} - 2] * ${r} - ${o} + j;\n              if (x[${i} - 2] < 0 || x[${i} - 2] >= ${u}) {\n                pad+= ${a};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${n}; j++) {\n              x[${i} - 2] = indices[${i} - 2] * ${r} - ${o} + j;\n            `,d="\n          }\n        ";}return`\n        float process(int indices[${i}]) {\n          int x[${i}];\n          copyVec(indices, x);\n\n          float value = ${o};\n          int pad = 0;\n          ${p}\n          ${f}\n          ${d}\n          ${r}\n          return value;\n        }\n      `;}{let a=z.size(t.kernelShape),s=z.computeStrides(t.kernelShape),u=s.length,l=t.pads.length,c=Eb(u),f=mo(e,"inputDims"),p=mo(t.pads,"pads"),d=mo(s,"kernelStrides"),h=mo(t.strides,"strides"),g="";return g=t.pads.reduce((e,t)=>e+t)?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${n}\n          }`:`\n          }\n          ${n}\n        `,`\n        ${c}\n        float process(int indices[${i}]) {\n          int x[${i}];\n          copyVec(indices, x);\n          int offset[${u}];\n          int pads[${l}];\n          int inputDims[${i}];\n          int kernelStrides[${u}];\n          int strides[${u}];\n          ${p}\n          ${f}\n          ${h}\n          ${d}\n\n          float value = ${o};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${a}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${i} - ${u}; j < ${i}; j++) {\n              x[j] = indices[j] * strides[j - ${i} + ${u}]\n                + offset[j - ${i} + ${u}] - pads[j - 2];\n              ${g}\n          }\n          ${r}\n\n          return value;\n        }\n      `;}},mo=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+=`\n      ${t}[${r}] = ${e[r]};\n    `;return n;},Eb=e=>`\n  void offsetToIndices(int offset, int[${e}] strides, out int[${e}] indices) {\n    if (${e} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${e} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${e} - 1] = offset;\n  }`;}),Er,or,Pb,Db,uc,lc,fc,cc,pc,dc,hc,mc=L(()=>{Me(),yn(),fe(),ae(),Er=(e,t,n,r,o)=>{Db(t);let i={name:r,inputNames:["A"],inputTypes:[0]};return[e.run({...i,cacheHint:n.cacheKey,get:()=>Pb(e,t,n,r,o,i)},t)];},or=e=>{let t=e.attributes.getInts("axes",[]),n=1===e.attributes.getInt("keepdims",1);return te({axes:t,keepDims:n});},Pb=(e,t,n,r,o,i)=>{let a=[],s=t[0].dims.length||1,u=[],l=z.normalizeAxes(n.axes,t[0].dims.length),c=o(t,l),f=c[1];for(let e=0;e<t[0].dims.length;e++)l.indexOf(e)>=0||0===l.length?(n.keepDims&&a.push(1),f=`\n          for(int j${e} = 0; j${e} < ${t[0].dims[e]}; j${e}++) {\n            inputIdx[${e}] = j${e};\n            ${f}\n          }`):(u.push(`inputIdx[${e}] = outputIdx[${a.length}];`),a.push(t[0].dims[e]));let p=`\n      float process(int outputIdx[${a.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${s}];      // addressing input data\n        ${u.join("\n")}\n        ${c[0]}       // init ops for reduce max/min\n        ${f}\n        ${c[2]}       // final computation for reduce mean\n        return value;\n      }`;return{...i,output:{dims:a,type:t[0].type,textureType:0},shaderSource:p};},Db=e=>{if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===nr.indexOf(e[0].type))throw new Error("Invalid input type.");},uc=(e,t,n)=>Er(e,t,n,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),lc=(e,t,n)=>Er(e,t,n,"ReduceMean",(e,t)=>{let n=1;for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&(n*=e[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${n}.;`];}),fc=(e,t,n)=>Er(e,t,n,"ReduceMax",(e,t)=>{let n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push(`inputIdx[${r}] = 0;`);return[`${n.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""];}),cc=(e,t,n)=>Er(e,t,n,"ReduceMin",(e,t)=>{let n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push(`inputIdx[${r}] = 0;`);return[`${n.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""];}),pc=(e,t,n)=>Er(e,t,n,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),dc=(e,t,n)=>Er(e,t,n,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),hc=(e,t,n)=>Er(e,t,n,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]);}),bc,gc=L(()=>{fe(),bc=(e,t)=>{let n=z.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)];};}),yc,Wi,Tc,xc,Tn,Lb,Vi,go,Hi=L(()=>{Me(),ve(),ae(),yc={name:"Upsample",inputNames:["X"],inputTypes:[0]},Wi=(e,t,n)=>(Vi(t,n),[e.run({...yc,cacheHint:n.cacheKey,get:()=>Lb(e,t,n)},t)]),Tc=e=>Tn(e,7),xc=e=>Tn(e,9),Tn=(e,t)=>{let n=t>=10,r=e.attributes.getString("mode","nearest");if("nearest"!==r&&"linear"!==r&&(t<11||"cubic"!==r))throw new Error(`unrecognized mode: ${r}`);let o=[];t<9&&(o=e.attributes.getFloats("scales"),go(o,r,n));let i=e.attributes.getFloat("extrapolation_value",0),a=t>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(a))throw new Error(`coordinate_transform_mode '${a}' is not supported`);let s="tf_crop_and_resize"===a,u=s,l="nearest"===r&&t>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(l))throw new Error(`nearest_mode '${l}' is not supported`);let c=e.attributes.getFloat("cubic_coeff_a",-.75),f=0!==e.attributes.getInt("exclude_outside",0);if(f&&"cubic"!==r)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let p=t<11||"nearest"===r&&"asymmetric"===a&&"floor"===l,d=0,h=0,g=0;return t>10?e.inputs.length>2?(d=1,h=2,g=3):(h=1,g=2):9===t&&(h=1),te({opset:t,isResize:n,mode:r,scales:o,extrapolationValue:i,coordinateTransformMode:a,useExtrapolation:u,needRoiInput:s,nearestMode:l,cubicCoefficientA:c,excludeOutside:f,useNearest2xOptimization:p,roiInputIdx:d,scalesInputIdx:h,sizesInputIdx:g});},Lb=(e,t,n)=>{let r=q(e.session.backend.glContext.version),[o,i]=e.calculateTextureWidthAndHeight(t[0].dims,0),a=t[0].dims.map((e,t)=>Math.floor(e*n.scales[t])),[s,u]=e.calculateTextureWidthAndHeight(a,0),l=a.length,c=new Array(l),f=new Array(l),p=`\n      int output_pitches[${l}];\n      int input_pitches[${l}];\n      `;for(let e=l-1;e>=0;e--)c[e]=e===l-1?1:c[e+1]*a[e+1],f[e]=e===l-1?1:f[e+1]*t[0].dims[e+1],p+=`\n        output_pitches[${e}] = ${c[e]};\n        input_pitches[${e}] = ${f[e]};\n        `;let d=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${o}, ${i});\n        float value = getColorAsFloat(${r.texture2D}(X, coords));\n        return value;\n      }\n      `,h="nearest"===n.mode?`\n    ${d}\n    float process(int indices[${l}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${s}, ${u});\n\n      ${p}\n\n      int d, m;\n      for (int dim = 0; dim < ${l}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===l?`\n    ${d}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${s}, ${u});\n\n      ${p}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${d}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${s}, ${u});\n\n      ${p}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return{...yc,output:{dims:a,type:t[0].type,textureType:0},shaderSource:h,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map(e=>Math.ceil(e))}]};},Vi=(e,t)=>{if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.");},go=(e,t,n)=>{if(n){for(let t of e)if(t<=0)throw new Error("Scale value should be greater than 0.");}else for(let t of e)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${n?"Resize":"Upsample"} opeartor.`);};}),ji,qi,wc,vc,Fb,Cb,$b,Bb,_c=L(()=>{ve(),ae(),Bt(),Ir(),Hi(),ji={name:"Resize",inputNames:["A"],inputTypes:[2]},qi=(e,t,n)=>(Vi(t,n),[e.run({...ji,cacheHint:n.cacheKey,get:()=>Fb(e,t,n)},t)]),wc=e=>Tn(e,10),vc=e=>Tn(e,11),Fb=(e,t,n)=>{let r=q(e.session.backend.glContext.version),[o,i]=Cb(t,n);if(o.every(e=>1===e)&&"tf_crop_and_resize"!==n.coordinateTransformMode)return{...ji,output:{dims:i,type:t[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${r.texture2D}(X, TexCoords);\n                    ${r.output} = v;\n                }`};let a=i.length;if(a<2)throw new Error(`output dimension should be at least 2, but got ${a}`);let s=i[a-2],u=i[a-1],l=t[0].dims;if(a!==l.length)throw new Error(`output dimension should match input ${l.length}, but got ${a}`);let c=l[a-2],f=l[a-1],p=o[a-2],d=o[a-1],h="";if("linear"!==n.mode)throw new Error(`resize (packed) does not support mode: '${n.mode}'`);switch(n.coordinateTransformMode){case"asymmetric":h="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":h="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":h=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ${u}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ${s}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ${u}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ${s}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                `;break;case"align_corners":h=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${u}.0 - 1.0, ${s}.0 - 1.0, ${u}.0 - 1.0,\n                            ${s}.0 - 1.0);\n                        vec4 original = vec4(${f}.0 - 1.0, ${c}.0 - 1.0, ${f}.0 - 1.0,\n                            ${c}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${n.coordinateTransformMode}'`);}let g=Je(a),m=`\n            const vec2 inputWH = vec2(${c}.0, ${f}.0);\n            const vec4 scaleWHWH = vec4(float(${p}), float(${d}), float(${p}), float(${d}));\n            ${kt()}\n            ${h}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${g} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${s-1};\n                bool hasNextCol = rc.z < ${u-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${r.output} = vec4(newValue);\n            }\n        `;return{...ji,output:{dims:i,type:t[0].type,textureType:2},hasMain:!0,shaderSource:m};},Cb=(e,t)=>{let n,r=e[0].dims,o=t.scales;if(0===o.length){let i=e[t.scalesInputIdx];if(i&&0!==i.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");o=$b(i,t.mode,t.isResize);}else{let i=e[t.sizesInputIdx];if(!i||0===i.size)throw new Error("Either scales or sizes MUST be provided as input.");n=Array.from(i.integerData),o=Bb(n,r,t.mode,t.isResize);}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");let i=n||r.map((e,t)=>Math.floor(e*o[t]));return[o,i];},$b=(e,t,n)=>{let r=Array.from(e.floatData);return go(r,t,n),r;},Bb=(e,t,n,r)=>{let o=t.length,i=new Array(o);for(let n=0,r=o;n<r;n++)if(0===t[n]){if(0!==e[n])throw new Error("Input dim is zero but required output dim is non-zero.");i[n]=1;}else i[n]=e[n]/t[n];return go(i,n,r),i;};}),Oc,kb,Ic=L(()=>{Or(),Oc=(e,t)=>(kb(t),[new $e([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]),kb=e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.");};}),Yi,Sc,Ac,Ec,Nb,Pc,Rb,Mb,Dc=L(()=>{Me(),yn(),fe(),ae(),Yi={name:"Slice",inputNames:["A"],inputTypes:[0]},Sc=(e,t,n)=>(Nb(t),[e.run({...Yi,cacheHint:n.cacheKey,get:()=>Ec(e,t[0],n)},t)]),Ac=e=>{let t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),r=e.attributes.getInts("axes",[]);return te({starts:t,ends:n,axes:r});},Ec=(e,t,n)=>{let r=0===n.axes.length?t.dims.slice(0).map((e,t)=>t):n.axes,o=z.normalizeAxes(r,t.dims.length),i=n.starts.map((e,n)=>e>t.dims[o[n]]-1?t.dims[o[n]]:z.normalizeAxis(e,t.dims[o[n]])),a=n.ends.map((e,n)=>e>t.dims[o[n]]-1?t.dims[o[n]]:z.normalizeAxis(e,t.dims[o[n]])),s=t.dims.slice(),u=[];for(let e=0;e<o.length;e++)s[o[e]]=a[e]-i[e],i[e]>0&&u.push(`outputIdx[${o[e]}] += ${i[e]};`);let l=`\n      float process(int outputIdx[${s.length}]) {\n        ${u.join("\n      ")}\n        return _A(outputIdx);\n      }`;return{...Yi,output:{dims:s,type:t.type,textureType:0},shaderSource:l};},Nb=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===nr.indexOf(e[0].type))throw new Error("Invalid input type.");},Pc=(e,t)=>{Mb(t);let n=Rb(e,t);return[e.run({...Yi,cacheHint:n.cacheKey,get:()=>Ec(e,t[0],n)},[t[0]])];},Rb=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some(e=>1!==e))throw new Error("currently non-1 steps is not supported for Slice");let n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),o=t.length>=4?Array.from(t[3].integerData):[];return{starts:n,ends:r,axes:o,cacheKey:`${o};${n};${r}`};},Mb=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.");};}),Lc,Fc,Cc,$c,Bc,kc,Nc,Rc,Gb,Ub,zb,Mc,Gc=L(()=>{Me(),fe(),ve(),ae(),ho(),Lc={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},Fc={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},Cc={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},$c=(e,t,n)=>{Mc(t);let r=t[0].dims.slice(),o=z.normalizeAxis(n.axis,r.length),i=z.sizeToDimension(r,o),a=z.sizeFromDimension(r,o);return Rc(e,t,n,i,a);},Bc=e=>te({axis:e.attributes.getInt("axis",1)}),kc=e=>te({axis:e.attributes.getInt("axis",-1)}),Nc=(e,t,n)=>{Mc(t);let r,o=t[0].dims.slice(),i=z.normalizeAxis(n.axis,o.length),a=o.length,s=i!==a-1,u=[],l=[],c=[];s&&(l=Array.from({length:a}).map((e,t)=>t),l[i]=a-1,l[a-1]=i,l.map(e=>u.push(o[e])),r=te({perm:l}),c=Ar(e,t,r));let f=s?z.sizeToDimension(u,a-1):z.sizeToDimension(o,a-1),p=s?z.sizeFromDimension(u,a-1):z.sizeFromDimension(o,a-1),d=Rc(e,s?c:t,n,f,p);return s?Ar(e,d,r):d;},Rc=(e,t,n,r,o)=>{let i=Gb(e,t[0],r,o,[r]),a=e.run({...Lc,cacheHint:n.cacheKey,get:()=>i},t),s=Ub(e,t[0],r,o,i.output.dims,[r]),u=e.run({...Fc,cacheHint:n.cacheKey,get:()=>s},[t[0],a]),l=zb(e,t[0],r,o,i.output.dims,s.output.dims);return[e.run({...Cc,cacheHint:n.cacheKey,get:()=>l},[t[0],a,u])];},Gb=(e,t,n,r,o)=>{let[i,a]=e.calculateTextureWidthAndHeight(t.dims,0),s=o.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");let u=q(e.session.backend.glContext.version),l=`\n      float process(int[${s}] indices) {\n        int logical_row_start_offset = indices[0] * ${r};\n\n        float max = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset, ${i},\n        ${a} )));\n        for(int i=1; i<${r}; ++i)\n        {\n          float current = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${i}, ${a})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return{...Lc,output:{dims:o,type:t.type,textureType:0},shaderSource:l};},Ub=(e,t,n,r,o,i)=>{let[a,s]=e.calculateTextureWidthAndHeight(t.dims,0),u=i.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length)throw new Error("Dimensionality of the output should be 1");if(i[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==o.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");let l=`\n      float process(int[${u}] indices) {\n        int logical_row_start_offset = indices[0] * ${r};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${r}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${q(e.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${a}, ${s}))) - max);\n        }\n\n        return norm_factor;\n      }`;return{...Fc,output:{dims:i,type:t.type,textureType:0},shaderSource:l};},zb=(e,t,n,r,o,i)=>{let[a,s]=e.calculateTextureWidthAndHeight(t.dims,0),u=t.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length||1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n||i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");let l=`\n      float process(int[${u}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${a}, ${s});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${r};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return{...Cc,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:l};},Mc=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type");};}),Uc,zc,Wc,Wb,Vb,Hb,Vc=L(()=>{Me(),fe(),ae(),Uc={name:"Split",inputNames:["A"],inputTypes:[0]},zc=(e,t,n)=>{Hb(t);let r=z.normalizeAxis(n.axis,t[0].dims.length),o=Wb(e,t,r,n),i=[];for(let a=0;a<o;++a)i.push(e.run({...Uc,cacheHint:`${n.cacheKey};${a}`,get:()=>Vb(e,t[0],n,r,a)},t));return i;},Wc=e=>{let t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),r=e.outputs.length;return te({axis:t,split:n,numOutputs:r});},Wb=(e,t,n,r)=>{let[,o]=pn.splitShape(t[0].dims,n,r.split,r.numOutputs);return o.length;},Vb=(e,t,n,r,o)=>{let[i,a]=pn.splitShape(t.dims,r,n.split,n.numOutputs),s=a[o],u=i[o],l=`\n      float process(int indices[${u.length}]) {\n        indices[${r}] += ${s};\n        return _A(indices);\n      }\n    `;return{...Uc,cacheHint:`${n.cacheKey}:${o}`,output:{dims:u,type:t.type,textureType:0},shaderSource:l};},Hb=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.");};}),Xi,Hc,jc,jb,qb,qc=L(()=>{fe(),Xi=(e,t,n)=>{jb(t);let r=z.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],r)];},Hc=(e,t)=>(qb(t),Xi(e,[t[0]],Array.from(t[1].integerData))),jc=e=>e.attributes.getInts("axes"),jb=e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.");},qb=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.");};}),Yc,Yb,Xb,Xc=L(()=>{ve(),ae(),Yc=(e,t)=>{Xb(t);let n={name:"Sum",inputNames:t.map((e,t)=>`X${t}`),inputTypes:new Array(t.length).fill(0)};return[e.run({...n,get:()=>Yb(e,t,n)},t)];},Yb=(e,t,n)=>{let r=q(e.session.backend.glContext.version),o=t[0].dims.slice(),i=`\n      void main() {\n        vec4 result = ${t.map((e,t)=>`${r.texture2D}(X${t},TexCoords)`).join(" + ")};\n        ${r.output} = result;\n      }\n    `;return{...n,output:{dims:o,type:t[0].type,textureType:0},hasMain:!0,shaderSource:i};},Xb=e=>{if(!e||0===e.length)throw new Error("Sum requires inputs.");let t=e[0].dims.length;for(let n=1;n<e.length;n++){if(t!==e[n].dims.length)throw new Error("Input shapes are mismatched.");for(let r=0;r<t;r++)if(e[0].dims[r]!==e[n].dims[r])throw new Error("Input shapes are not matched.");}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(let t=1;t<e.length;t++)if(e[0].type!==e[t].type)throw new Error("Input types are not matched.");};}),Kc,Kb,Jb,Jc=L(()=>{yn(),ae(),Kc=(e,t)=>{Jb(t);let n={name:"Tile",inputNames:["A"],inputTypes:[0]};return[e.run({...n,get:()=>Kb(e,t,n)},t)];},Kb=(e,t,n)=>{let r=t[0].dims.slice(),o=new Array(r.length),i=[];for(let e=0;e<r.length;e++)o[e]=r[e]*t[1].numberData[e],i.push(`inputIdx[${e}] = int(mod(float(outputIdx[${e}]), ${r[e]}.));`);let a=o.length,s=`\n      float process(int outputIdx[${a}]) {\n        int inputIdx[${a}];\n        ${i.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return{...n,output:{dims:o,type:t[0].type,textureType:0},shaderSource:s};},Jb=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===nr.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.");};}),Ki,Zc,Qc,Zb,Qb,ep=L(()=>{fe(),Ki=(e,t,n)=>{Zb(t);let r=z.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],r)];},Zc=(e,t)=>(Qb(t),Ki(e,[t[0]],Array.from(t[1].integerData))),Qc=e=>e.attributes.getInts("axes"),Zb=e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.");},Qb=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.");};}),tp,rp=L(()=>{cl(),Ol(),Al(),Cl(),fo(),gf(),_f(),Sf(),Pf(),Cf(),kf(),Gf(),Vf(),co(),Yf(),sc(),mc(),gc(),_c(),Ic(),Dc(),Gc(),Vc(),qc(),Xc(),Jc(),ho(),Ci(),ep(),Hi(),tp=[["Abs","","6+",$l],["Acos","","7+",Bl],["Add","","7+",pl],["And","","7+",dl],["Asin","","7+",kl],["Atan","","7+",Nl],["AveragePool","","7+",Kf,Jf],["BatchNormalization","","7+",ll,fl],["Cast","","6+",Il,Sl],["Ceil","","6+",Gl],["Clip","","6-10",Li,Rl],["Clip","","11+",Ml],["Concat","","4+",Dl,Fl],["Conv","","1+",Mi,Gi],["ConvTranspose","","1+",mf,bf],["Cos","","7+",Ul],["Div","","7+",hl],["Dropout","","7+",Fi],["DepthToSpace","","1+",wf,vf],["Equal","","7+",ml],["Elu","","6+",zl,Wl],["Exp","","6+",Vl],["Flatten","","1+",Of,If],["Floor","","6+",Hl],["FusedConv","com.microsoft","1+",Mi,Gi],["Gather","","1+",Af,Ef],["Gemm","","7-10",Ui,Lf],["Gemm","","11+",Ui,Ff],["GlobalAveragePool","","1+",Qf,ec],["GlobalMaxPool","","1+",ic],["Greater","","7+",bl],["Identity","","1+",Fi],["ImageScaler","","1+",$f,Bf],["InstanceNormalization","","6+",Rf,Mf],["LeakyRelu","","6+",jl,ql],["Less","","7+",gl],["LRN","","1+",Uf,zf],["Log","","6+",Yl],["MatMul","","1+",uf,lf],["MaxPool","","1+",tc,rc],["Mul","","7+",yl],["Neg","","6+",Xl],["Not","","1+",Kl],["Or","","7+",Tl],["Pad","","2-10",zi,Hf],["Pad","","11+",jf,qf],["Pow","","7+",xl],["PRelu","","7+",wl],["ReduceLogSum","","1+",dc,or],["ReduceMax","","1+",fc,or],["ReduceMean","","1+",lc,or],["ReduceMin","","1+",cc,or],["ReduceProd","","1+",pc,or],["ReduceSum","","1-12",uc,or],["ReduceSumSquare","","1+",hc,or],["Relu","","6+",Jl],["Reshape","","5+",bc],["Resize","","10",qi,wc],["Resize","","11+",qi,vc],["Shape","","1+",Oc],["Sigmoid","","6+",Zl],["Sin","","7+",Ql],["Slice","","10+",Pc],["Slice","","1-9",Sc,Ac],["Softmax","","1-12",$c,Bc],["Softmax","","13+",Nc,kc],["Split","","2-12",zc,Wc],["Sqrt","","6+",ef],["Squeeze","","1-12",Xi,jc],["Squeeze","","13+",Hc],["Sub","","7+",vl],["Sum","","6+",Yc],["Tan","","7+",tf],["Tanh","","6+",rf],["Tile","","6+",Kc],["Transpose","","1+",Ar,Tf],["Upsample","","7-8",Wi,Tc],["Upsample","","9",Wi,xc],["Unsqueeze","","1-12",Ki,Qc],["Unsqueeze","","13+",Zc],["Xor","","7+",_l]];});function op(e){let t,n={};for(;null!==(t=np.exec(e));){let e=t[3].split(",").map(e=>{let t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null;}).filter(e=>null!==e);n[t[2]]={params:e,body:t[4]};}for(let r in n){let o=eg.replace("__FUNC__",r),i=new RegExp(o,"gm");for(;null!==(t=i.exec(e));){let o=t[1],i=t[2],a=t[3].split(","),s=o?`${o} ${i};`:"",u=n[r].body,l="";n[r].params.forEach((e,t)=>{e&&(l+=`${e.type} ${e.name} = ${a[t]};\n`);}),u=`${l}\n ${u}`,u=u.replace("return",`${i} = `);let c=`\n      ${s}\n      {\n        ${u}\n      }\n      `;e=e.replace(t[0],c);}}return e=e.replace(np,"");}var np,eg,ip=L(()=>{np=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm,eg="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;";});function Yr(e,t){let n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:tg(t,e).sort(),a=0;for(let t=0;t<e.length;++t){if(null!=i){if(i[a]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==i[a]||i[a]>t)&&1===e[t]&&(n.push(e[t]),r.push(t)),i[a]<=t&&a++;}1!==e[t]&&(n.push(e[t]),r.push(t));}return{newShape:n,keptDims:r};}function tg(e,t){let n=t.length;return zr((e=null==e?t.map((e,t)=>t):[].concat(e)).every(e=>e>=-n&&e<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),zr(e.every(rg),()=>`All values in axis param must be integers but got axis ${e}`),e.map(e=>e<0?n+e:e);}function rg(e){return e%1==0;}function ng(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t;}function ap(e){let t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)];}var yo,Ji=L(()=>{dt(),fe(),yo=class{constructor(e){this.maxTextureSize=e;}computeTextureWH(e,t){let n=this.computeTexture(e,t);return t&&t.isPacked&&(n[0]/=2,n[1]/=2),t&&t.reverseWH?[n[1],n[0]]:n;}computeTexture(e,t){let n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];let r=this.maxTextureSize;if(t&&void 0!==t.breakAxis){let n=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((e,t)=>e*t),o=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((e,t)=>e*t);if(!(n>r||o>r))return[n,o];pe.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`);}let o=e.slice(0);n&&(r*=2,o=o.map((e,t)=>t>=o.length-2?o[t]%2==0?o[t]:o[t]+1:o[t]),1===o.length&&(o=[2,o[0]])),2!==o.length&&(o=Yr(o).newShape);let i=ng(o);return o.length<=1&&i<=r?[1,i]:2===o.length&&o[0]<=r&&o[1]<=r?o:3===o.length&&o[0]*o[1]<=r&&o[2]<=r?[o[0]*o[1],o[2]]:3===o.length&&o[0]<=r&&o[1]*o[2]<=r?[o[0],o[1]*o[2]]:4===o.length&&o[0]*o[1]*o[2]<=r&&o[3]<=r?[o[0]*o[1]*o[2],o[3]]:4===o.length&&o[0]<=r&&o[1]*o[2]*o[3]<=r?[o[0],o[1]*o[2]*o[3]]:n?ap(i/4).map(e=>2*e):ap(i);}};}),To,sp=L(()=>{fe(),Yt(),ve(),Ji(),Bt(),To=class extends gt{constructor(e){super(e);}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()};}getCustomTypes(){return{};}offsetToCoords(){return{offsetToCoords:new G("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")};}coordsToOffset(){return{coordsToOffset:new G("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")};}getOutputSamplingSnippet(){let e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e);}getPackedOutputSamplingSnippet(e){let t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputPacked1DCoords(t,n);break;case 2:r[o]=this.getOutputPacked2DCoords(t,n);break;case 3:r[o]=this.getOutputPacked3DCoords(t,n);break;default:r[o]=this.getOutputPackedNDCoords(t,n);}let i=`\n      void setOutput(vec4 val) {\n        ${q(this.context.glContext.version).output} = val;\n      }\n    `;return r.floatTextureSetRGBA=new G(i),r;}getUnpackedOutputSamplingSnippet(e){let t=e.unpackedShape,n=[e.width,e.height],r={},o="getOutputCoords";switch(t.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputUnpacked1DCoords(t,n);break;case 2:r[o]=this.getOutputUnpacked2DCoords(t,n);break;case 3:r[o]=this.getOutputUnpacked3DCoords(t,n);break;case 4:r[o]=this.getOutputUnpacked4DCoords(t,n);break;case 5:r[o]=this.getOutputUnpacked5DCoords(t,n);break;case 6:r[o]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`);}let i=`\n        void setOutput(float val) {\n          ${q(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return r.floatTextureSetR=new G(i),r;}getOutputScalarCoords(){return new G("\n      int getOutputCoords() {\n        return 0;\n      }\n    ");}getOutputPacked1DCoords(e,t){let n=t,r="";return 1===n[0]?(r=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${n[1]}.0);\n          }\n        `,new G(r)):1===n[1]?(r=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${n[0]}.0);\n          }\n        `,new G(r)):(r=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${n[0]}, ${n[1]}));\n          return 2 * (resTexRC.y * ${n[0]} + resTexRC.x);\n        }\n      `,new G(r));}getOutputPacked2DCoords(e,t){let n="";if(xr.arraysEqual(e,t))return n=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));\n        }\n      `,new G(n);let r=t,o=Math.ceil(e[1]/2);return n=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${r[0]}, ${r[1]}));\n\n          int index = resTexRC.y * ${r[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${o}) * 2;\n          int c = 2 * (index / ${o});\n\n          return ivec2(r, c);\n        }\n      `,new G(n);}getOutputPacked3DCoords(e,t){let n=[t[0],t[1]],r=Math.ceil(e[2]/2),o=r*Math.ceil(e[1]/2);return new G(`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${n[0]}, ${n[1]}));\n          int index = resTexRC.y * ${n[0]} + resTexRC.x;\n\n          int b = index / ${o};\n          index -= b * ${o};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${r}) * 2;\n          int c = 2 * (index / ${r});\n\n          return ivec3(b, r, c);\n        }\n      `);}getOutputPackedNDCoords(e,t){let n=[t[0],t[1]],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2),i=o,a="",s="b, r, c";for(let t=2;t<e.length-1;t++)i*=e[e.length-t-1],a=`\n      int b${t} = index / ${i};\n      index -= b${t} * ${i};\n    `+a,s=`b${t}, `+s;let u=`\n      ivec${e.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${n[0]}, ${n[1]}));\n        int index = resTexRC.y * ${n[0]} + resTexRC.x;\n\n        ${a}\n\n        int b = index / ${o};\n        index -= b * ${o};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${r}) * 2;\n        int c = 2 * (index / ${r});\n\n        return ivec${e.length}(${s});\n      }\n    `;return new G(u);}getOutputUnpacked1DCoords(e,t){let n=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          return resTexRC.y * ${t[0]} + resTexRC.x;\n        }\n      `;return new G(n);}getOutputUnpacked2DCoords(e,t){let n=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          int r = index / ${e[1]};\n          int c = index - r * ${e[1]};\n          return ivec2(r, c);\n        }\n      `;return new G(n);}getOutputUnpacked3DCoords(e,t){let n="",r=e.length,o=null;r<2&&(o=[]),o=new Array(r-1),o[r-2]=e[r-1];for(let t=r-3;t>=0;--t)o[t]=o[t+1]*e[t+1];let i=["r","c","d"],a=o.map((e,t)=>`${`int ${i[t]} = index / ${e}`}; ${t===o.length-1?`int ${i[t+1]} = index - ${i[t]} * ${e}`:`index -= ${i[t]} * ${e}`};`).join("");return n=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${a}\n          return ivec3(r, c, d);\n        }\n      `,new G(n);}getOutputUnpacked4DCoords(e,t){let n="",r=e.length,o=null;r<2&&(o=[]),o=new Array(r-1),o[r-2]=e[r-1];for(let t=r-3;t>=0;--t)o[t]=o[t+1]*e[t+1];let i=["r","c","d","d2"],a=o.map((e,t)=>`${`int ${i[t]} = index / ${e}`}; ${t===o.length-1?`int ${i[t+1]} = index - ${i[t]} * ${e}`:`index -= ${i[t]} * ${e}`};`).join("");return n=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${a}\n          return ivec4(r, c, d, d2);\n        }\n      `,new G(n);}getOutputUnpacked5DCoords(e,t){let n="",r=e.length,o=null;r<2&&(o=[]),o=new Array(r-1),o[r-2]=e[r-1];for(let t=r-3;t>=0;--t)o[t]=o[t+1]*e[t+1];let i=["r","c","d","d2","d3"],a=o.map((e,t)=>`${`int ${i[t]} = index / ${e}`}; ${t===o.length-1?`int ${i[t+1]} = index - ${i[t]} * ${e}`:`index -= ${i[t]} * ${e}`};`).join("");return n=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${a}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new G(n);}getOutputUnpacked6DCoords(e,t){let n="",r=e.length,o=null;r<2&&(o=[]),o=new Array(r-1),o[r-2]=e[r-1];for(let t=r-3;t>=0;--t)o[t]=o[t+1]*e[t+1];let i=["r","c","d","d2","d3","d4"],a=o.map((e,t)=>`${`int ${i[t]} = index / ${e}`}; ${t===o.length-1?`int ${i[t+1]} = index - ${i[t]} * ${e}`:`index -= ${i[t]} * ${e}`};`).join("");return n=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${t[0]}, ${t[1]}));\n         int index = resTexRC.y * ${t[0]} + resTexRC.x;\n         ${a}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new G(n);}getCommonUtilFuncs(){let e={},t="uvFromFlat";e[t]=new G("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t="packedUVfrom1D",e[t]=new G("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom2D",e[t]=new G("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom3D",e[t]=new G("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";let n=q(this.context.glContext.version);return e[t]=new G(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${n.texture2D}(textureSampler, uv).r;\n        }`),e;}getInputsSamplingSnippets(){let e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((n,r)=>{let o=this.context.inputTextureLayouts[r],i=no(n);o.isPacked?e[i]=this.getPackedSamplerFromInput(i,n,o):e[i]=this.getUnpackedSamplerFromInput(i,n,o);let a=qu(n);o.unpackedShape.length<=t.unpackedShape.length&&(o.isPacked?e[a]=this.getPackedSamplerAtOutputCoords(a,o,t,n):e[a]=this.getUnpackedSamplerAtOutputCoords(a,o,t,n));}),e;}getPackedSamplerAtOutputCoords(e,t,n,r){let o,i=t.unpackedShape,a=n.unpackedShape,s=no(r),u=i.length,l=a.length,c=Ke.getBroadcastDims(i,a),f=Je(l),p=l-u,d=Dt();o=0===u?"":l<2&&c.length>=1?"coords = 0;":c.map(e=>`coords.${d[e+p]} = 0;`).join("\n");let h="";h=l<2&&u>0?"coords":i.map((e,t)=>`coords.${d[t+p]}`).join(", ");let g="return outputValue;",m=1===z.size(i),y=1===z.size(a);if(1!==u||m||y){if(m&&!y)g=1===l?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(c.length){let e=u-2,t=u-1;c.indexOf(e)>-1&&c.indexOf(t)>-1?g="return vec4(outputValue.x);":c.indexOf(e)>-1?g="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(t)>-1&&(g="return vec4(outputValue.xx, outputValue.zz);");}}else g="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";let b=`\n        int lastDim = coords.${d[l-1]};\n        coords.${d[l-1]} = coords.${d[l-2]};\n        coords.${d[l-2]} = lastDim;\n      `;return new G(`\n      vec4 ${e}() {\n        ${f} coords = getOutputCoords();\n        ${b}\n        ${o}\n        vec4 outputValue = ${s}(${h});\n        ${g}\n      }\n    `,["coordinates.getOutputCoords"]);}getUnpackedSamplerAtOutputCoords(e,t,n,r){let o=[n.width,n.height],i=[t.width,t.height],a=t.unpackedShape.length,s=n.unpackedShape.length,u=t.unpackedShape,l=n.unpackedShape,c=no(r);if(a===s&&xr.arraysEqual(i,o)){return new G(`\n          float ${e}() {\n            return sampleTexture(${r}, TexCoords);\n          }\n        `,["coordinates.sampleTexture"]);}let f,p=Je(s),d=Ke.getBroadcastDims(u,l),h=s-a,g=Dt();f=0===a?"":s<2&&d.length>=1?"coords = 0;":d.map(e=>`coords.${g[e+h]} = 0;`).join("\n");let m="";return m=s<2&&a>0?"coords":t.unpackedShape.map((e,t)=>`coords.${g[t+h]}`).join(", "),new G(`\n        float ${e}() {\n          ${p} coords = getOutputCoords();\n          ${f}\n          return ${c}(${m});\n        }\n      `,["coordinates.getOutputCoords"]);}getPackedSamplerFromInput(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n);}}getUnpackedSamplerFromInput(e,t,n){let r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error(`Unsupported dimension ${r.length}-D`);}}getPackedSamplerScalar(e,t){let n=`\n          vec4 ${e}() {\n            return ${q(this.context.glContext.version).texture2D}(${t}, halfCR);\n          }\n        `;return new G(n);}getPackedSampler1D(e,t,n){let r=[n.width,n.height],o=[r[1],r[0]],i=q(this.context.glContext.version),a=`vec4 ${e}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${o[0]}, ${o[1]}, index);\n      return ${i.texture2D}(${t}, uv);\n    }`;return new G(a,["coordinates.packedUVfrom1D"]);}getPackedSampler2D(e,t,n){let r=n.unpackedShape,o=[n.width,n.height],i=q(this.context.glContext.version),a=o[0],s=o[1];if(null!=o&&xr.arraysEqual(r,o)){let n=`vec4 ${e}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${a}.0);\n        return ${i.texture2D}(${t}, uv);\n      }`;return new G(n);}let u=o,l=Math.ceil(r[1]/2),c=`vec4 ${e}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${u[1]}, ${u[0]}, ${l}, row, col);\n      return ${i.texture2D}(${t}, uv);\n    }`;return new G(c,["coordinates.packedUVfrom2D"]);}getPackedSampler3D(e,t,n){let r=n.unpackedShape,o=[n.width,n.height],i=[o[0],o[1]],a=q(this.context.glContext.version);if(1===r[0]){let o=r.slice(1),i=[1,2],a=Wr(r,o),s=["b","row","col"],u=JSON.parse(JSON.stringify(n));u.unpackedShape=a;let l=this.getPackedSamplerFromInput(e,t,u),c=`${l.routineBody}\n      vec4 ${e}(int b, int row, int col) {\n        return ${e}(${Vr(s,i)});\n      } `;return new G(c,l.dependencies);}let s=i[0],u=i[1],l=Math.ceil(r[2]/2),c=`vec4 ${e}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${u}, ${s}, ${l*Math.ceil(r[1]/2)}, ${l}, b, row, col);\n      return ${a.texture2D}(${t}, uv);}`;return new G(c,["coordinates.packedUVfrom3D"]);}getPackedSamplerND(e,t,n){let r=n.unpackedShape,o=r.length,i=[n.width,n.height],a=q(this.context.glContext.version),s=[i[0],i[1]],u=s[1],l=s[0],c=Math.ceil(r[o-1]/2),f=c*Math.ceil(r[o-2]/2),p="int b, int row, int col",d=`b * ${f} + (row / 2) * ${c} + (col / 2)`;for(let e=2;e<o-1;e++)p=`int b${e}, `+p,f*=r[o-e-1],d=`b${e} * ${f} + `+d;let h=`vec4 ${e}(${p}) {\n      int index = ${d};\n      int texR = index / ${l};\n      int texC = index - texR * ${l};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${l}, ${u});\n      return ${a.texture2D}(${t}, uv);\n    }`;return new G(h);}getUnpackedSamplerScalar(e,t,n){let[r,o]=[n.width,n.height];if(1===r&&1===o){return new G(`\n          float ${e}() {\n            return sampleTexture(${t}, halfCR);\n          }\n        `,["coordinates.sampleTexture"]);}return new G(`\n        float ${e}() {\n          int offset_${t} = coordsToOffset(TexCoords, ${r}, ${o});\n          vec2 uv = uvFromFlat(${r}, ${o}, offset_${t});\n          return sampleTexture(${t}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"]);}getUnpackedSampler1D(e,t,n){let r=n.width,o=n.height;if(1===o&&1===r){return new G(`\n        float ${e}(int index) {\n          return sampleTexture(${t}, halfCR);\n        }\n      `,["coordinates.sampleTexture"]);}if(1===o){return new G(`\n          float ${e}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${r}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `,["coordinates.sampleTexture"]);}if(1===r){return new G(`\n          float ${e}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${o}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `,["coordinates.sampleTexture"]);}return new G(`\n        float ${e}(int index) {\n          vec2 uv = uvFromFlat(${r}, ${o}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"]);}getUnpackedSampler2D(e,t,n){let r=n.unpackedShape,o=[n.height,n.width];if(null!=o&&xr.arraysEqual(r,o)){return new G(`\n          float ${e}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${o[1]}.0, ${o[0]}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `,["coordinates.sampleTexture"]);}let{newShape:i,keptDims:a}=Yr(r),s=i;if(s.length<r.length){let o=Wr(r,s),i=JSON.parse(JSON.stringify(n));i.unpackedShape=o;let u=["col","row"],l=`\n          ${this.getUnpackedSamplerFromInput(e,t,i).routineBody}\n          float ${e}(int row, int col) {\n            return ${e}(${Vr(u,a)});\n          }\n        `;return new G(l,["coordinates.sampleTexture"]);}let u=o[1],l=o[0];if(1===l){let n=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${u}, ${l});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${r[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new G(n,["coordinates.sampleTexture","coordinates.coordsToOffset"]);}if(1===u){let n=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${u}, ${l});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${r[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${l}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new G(n,["coordinates.sampleTexture","coordinates.coordsToOffset"]);}let c=`\n        float ${e}(int row, int col) {\n          int index = col * ${r[1]} + row;\n          vec2 uv = uvFromFlat(${u}, ${l}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new G(c,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"]);}getUnpackedSampler3D(e,t,n){let r=n.unpackedShape,o=r[1]*r[2],i=r[2],{newShape:a,keptDims:s}=Yr(r),u=a;if(u.length<r.length){let o=Wr(r,u),i=["batch","col","row"],a=JSON.parse(JSON.stringify(n));a.unpackedShape=o;let l=this.getUnpackedSamplerFromInput(e,t,a),c=s.reverse(),f=`\n          ${l.routineBody}\n          float ${e}(int batch, int row, int col) {\n            return ${e}(${Vr(i,c)});\n          }\n        `;return new G(f,l.dependencies);}let l=n.width,c=n.height;return new G(`\n          float ${e}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${o} + col * ${i} + row;\n            vec2 uv = uvFromFlat(${l}, ${c}, index);\n            return sampleTexture(${t}, uv);\n          }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"]);}getUnpackedSampler4D(e,t,n){let r=n.unpackedShape,o=r[3],i=r[2]*o,a=r[1]*i,s=n.width,u=n.height;return new G(`\n        float ${e}(int row, int col, int depth, int depth2) {\n          int index = row * ${a} + col * ${i} +\n              depth2 * ${o} + depth;\n          vec2 uv = uvFromFlat(${s}, ${u}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"]);}getUnpackedSampler5D(e,t,n){let r=n.unpackedShape,o=r[4],i=r[3]*o,a=r[2]*i,s=r[1]*a,{newShape:u,keptDims:l}=Yr(r);if(u.length<r.length){let o=Wr(r,u),i=["row","col","depth","depth2","depth3"],a=JSON.parse(JSON.stringify(n));a.unpackedShape=o;let s=`\n          ${this.getUnpackedSamplerFromInput(e,t,a).routineBody}\n          float ${e}(int row, int col, int depth, int depth2, int depth3) {\n            return ${e}(${Vr(i,l)});\n          }\n        `;return new G(s,["coordinates.sampleTexture","coordinates.uvFromFlat"]);}let c=n.width,f=n.height;return new G(`\n        float ${e}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${s} + col * ${a} + depth * ${i} +\n          depth3 * ${o} + depth2;\n          vec2 uv = uvFromFlat(${c}, ${f}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `,["coordinates.sampleTexture","coordinates.uvFromFlat"]);}getUnpackedSampler6D(e,t,n){let r=n.unpackedShape,o=r[5],i=r[4]*o,a=r[3]*i,s=r[2]*a,u=r[1]*s,{newShape:l,keptDims:c}=Yr(r);if(l.length<r.length){let o=Wr(r,l),i=["row","col","depth","depth2","depth3","depth4"],a=JSON.parse(JSON.stringify(n));a.unpackedShape=o;let s=`\n            ${this.getUnpackedSamplerFromInput(e,t,a).routineBody}\n            float ${e}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${e}(${Vr(i,c)});\n            }\n          `;return new G(s,["coordinates.sampleTexture","coordinates.uvFromFlat"]);}let f=n.width,p=n.height;return new G(`\n          float ${e}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${u} + col * ${s} + depth * ${a} +\n            depth2 * ${i} + depth3 * ${o} + depth4;\n            vec2 uv = uvFromFlat(${f}, ${p}, index);\n            return sampleTexture(${t}, uv);\n          }\n        `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"]);}toVec(){let e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,r=e.width,o=e.height,i=[];for(let e=0;e<t-1;++e)i.push(`\n        c[${e}] = offset / ${n[e]};`),i.push(`\n        offset -= c[${e}] * ${n[e]};`);i.push(`\n        c[${t-1}] = offset;`);let a=`\n      void toVec(vec2 texCoords, out int c[${t}]) {\n        int offset = coordsToOffset(texCoords, ${r}, ${o});\n        ${i.join("")}\n      }\n      void toVec(int offset, out int c[${t}]) {\n        ${i.join("")}\n      }\n    `;return{toVec:new G(a,["coordinates.coordsToOffset"])};}valueFrom(){let e={};return this.context.programInfo.inputNames.forEach((t,n)=>{let r=this.context.inputTextureLayouts[n],o=(r.unpackedShape.length>0?r.unpackedShape:r.shape).length,i=`_${t}`;e[i]=new G(this.getValueFromSingle(t,o,r.width,r.height,!1),[`shapeUtils.indicesToOffset${i}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),i+="_T",e[i]=new G(this.getValueFromSingle(t,o,r.width,r.height,!0),[`shapeUtils.indicesToOffset${i}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]);}),e;}getValueFromSingle(e,t,n,r,o){let i=`_${e}`;return o&&(i+="_T"),`\n        float ${i}(int m[${t}]) {\n          int offset = indicesToOffset${i}(m);\n          vec2 coords = offsetToCoords(offset, ${n}, ${r});\n          float value = getColorAsFloat(${q(this.context.glContext.version).texture2D}(${e}, coords));\n          return value;\n        }\n        `;}getPackedValueFrom(e,t,n,r,o){let i=`_${e}_Pack`;return o&&(i+="_T"),`\n        vec4 ${i}(int m[${t}]) {\n          int offset = indicesToOffset_${e}(m);\n          vec2 coords = offsetToCoords(offset, ${n}, ${r});\n          return ${q(this.context.glContext.version).texture2D}(${e}, coords);\n        }\n        `;}};}),xo,up=L(()=>{Yt(),xo=class e extends gt{constructor(e){super(e);}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()};}getCustomTypes(){return{};}encodeFloat32(){return{encode:new G("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")};}decodeFloat32(){return{decode:new G("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")};}encodeUint8(){let t=e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new G(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${t}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)};}decodeUint8(){let t=e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new G(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${t}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)};}static isLittleEndian(){let e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness");}};}),wo,lp=L(()=>{Yt(),ve(),wo=class extends gt{constructor(e){super(e);}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()};}getCustomTypes(){return{};}setFragColor(){let e=q(this.context.glContext.version);return{setFragColor:new G(`\n        void setFragColor(float value) {\n            ${e.output} = encode(value);\n        }\n        `,["encoding.encode"])};}getColorAsFloat(){return{getColorAsFloat:new G("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])};}};}),vo,fp=L(()=>{Yt(),vo=class e extends gt{constructor(e){super(e);}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()};}getCustomTypes(){return{};}bcastIndex(){let e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach((n,r)=>{let o=this.context.inputTextureLayouts[r].unpackedShape;if(o.length<=e){let r=o.length,i=e-r,a=`bcastIndices_${n}`,s="";for(let e=0;e<r;++e)s+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${i+e}]), ${o[e]}.0) );\n          `;let u=`\n        void ${a} (int bcastedIndices[${e}], out int realIndices[${r}]) {\n          ${s}\n        }\n        `;t[a]=new G(u);}}),t;}bcastMatmulIndex(){let e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach((n,r)=>{let o=this.context.inputTextureLayouts[r].shape;if(!(o.length<2||o.length>e)){let r=o.length,i=e-r,a=`bcastMatmulIndices_${n}`,s="";for(let e=0;e<r-2;++e)s+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${i+e}]), ${o[e]}.0) );\n          `;let u=`\n        void ${a}(int bcastedIndices[${e}], out int realIndices[${r}]) {\n          ${s}\n          realIndices[${r-1}] = bcastedIndices[${e-1}];\n          realIndices[${r-2}] = bcastedIndices[${e-2}];\n        }\n        `;t[a]=new G(u);}}),t;}indicesToOffset(){let t={};return this.context.programInfo.inputNames.forEach((n,r)=>{let o=this.context.inputTextureLayouts[r].shape,i=this.context.inputTextureLayouts[r].strides,a=o.length,s=`indicesToOffset_${n}`;t[s]=new G(e.indexToOffsetSingle(s,a,i)),s=`indicesToOffset_${n}_T`,t[s]=new G(e.indexToOffsetSingle(s,a,i.slice().reverse()));}),t;}static indexToOffsetSingle(e,t,n){let r="";for(let e=t-1;e>=0;--e)r+=`\n        offset += indices[${e}] * ${n[e]};\n        `;return`\n      int ${e}(int indices[${t}]) {\n        int offset = 0;\n        ${r}\n        return offset;\n      }\n      `;}offsetToIndices(){let t={};return this.context.programInfo.inputNames.forEach((n,r)=>{let o=this.context.inputTextureLayouts[r].shape,i=this.context.inputTextureLayouts[r].strides,a=o.length,s=`offsetToIndices_${n}`;t[s]=new G(e.offsetToIndicesSingle(s,a,i)),s=`offsetToIndices_${n}_T`,t[s]=new G(e.offsetToIndicesSingle(s,a,i.slice().reverse()));}),t;}static offsetToIndicesSingle(e,t,n){let r=[];for(let e=0;e<t-1;++e)r.push(`\n      indices[${e}] = offset / ${n[e]};`),r.push(`\n        offset -= indices[${e}] * ${n[e]};`);return r.push(`\n      indices[${t-1}] = offset;`),`\n      void ${e}(int offset, out int indices[${t}]) {\n        ${r.join("")}\n      }\n      `;}incrementIndices(){let e={};return this.context.programInfo.inputNames.forEach((t,n)=>{let r=this.context.inputTextureLayouts[n].shape,o=r.length,i=`incrementIndices_${t}`,a="";for(let e=0;e<o;++e)a+=`\n        shape[${e}] = ${r[e]};`;let s=`\n        void ${i}(int axis, out int indices[${o}]) {\n          int shape[${o}];\n          ${a};\n          for(int i = ${o} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `;e[i]=new G(s);}),e;}};}),_o,cp=L(()=>{Yt(),_o=class extends gt{constructor(e){super(e);}getCustomTypes(){return{};}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()};}binaryVecFunctions(){let e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(let r in t){let o=`${r}Vec`,i="";for(let n=0;n<e;++n)i+=`\n          dest[${n}] ${t[r]} src[${n}];\n          `;let a=`\n        void ${o}(int src[${e}], out int dest[${e}]) {\n          ${i}\n        }\n        `;n[o]=new G(a);}return n;}copyVec(){let e=this.context.outputTextureLayout.shape.length,t="";for(let n=0;n<e;++n)t+=`\n        dest[${n}] = src[${n}];\n        `;return{copyVec:new G(`\n      void copyVec(int src[${e}], out int dest[${e}]) {\n        ${t}\n      }\n      `)};}setVecItem(){let e=this.context.outputTextureLayout.shape.length,t=`\n        if(index < 0)\n            index =${e} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let n=1;n<e-1;++n)t+=`\n        else if (index == ${n})\n            m[${n}] = value;\n            `;return t+=`\n        else\n            m[${e-1}] = value;\n        `,{setVecItem:new G(`\n      void setVecItem(out int m[${e}], int index, int value) {\n        ${t}\n      }\n        `)};}getVecItem(){let e=this.context.outputTextureLayout.shape.length,t=`\n        if(index < 0)\n            index = ${e} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let n=1;n<e-1;++n)t+=`\n        else if (index == ${n})\n            return m[${n}];\n      `;return t+=`\n        else\n            return m[${e-1}];\n        `,{getVecItem:new G(`\n      int getVecItem(int m[${e}], int index) {\n        ${t}\n      }\n    `)};}};}),Zi,pp=L(()=>{sp(),up(),lp(),fp(),cp(),Zi={encoding:xo,fragcolor:wo,vec:_o,shapeUtils:vo,coordinates:To};}),Oo,dp=L(()=>{Yt(),ip(),pp(),ve(),Oo=class{constructor(e,t,n,r){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new so(e,t,n,r),Object.keys(Zi).forEach(e=>{let t=new Zi[e](this.context);this.libs[e]=t;});let o=this.glslLibRoutineDependencyGraph;for(let e in this.libs){let t=this.libs[e].getFunctions();for(let n in t){let r,i=e+"."+n;o[i]?(r=o[i],r.routineBody=t[n].routineBody):(r=new gn(i,t[n].routineBody),o[i]=r);let a=t[n].dependencies;if(a)for(let e=0;e<a.length;++e)if(o[a[e]])r.addDependency(o[a[e]]);else{let t=new gn(a[e]);o[a[e]]=t,r.addDependency(t);}}}}preprocess(){let e=this.context.programInfo,t=e.shaderSource;return this.context.programInfo.hasMain||(t=`${t}\n      ${ju(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),t=op(t),`${Hu(this.context.glContext.version)}\n    ${this.getUniforms(e.inputNames,e.variables)}\n    ${this.getImports(t)}\n    ${t}`;}getImports(e){let t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let n="";for(let e=0;e<t.length;++e){if(!t[e].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${t[e].name}`);n+=t[e].routineBody+"\n";}return n;}selectGlslLibRoutinesToBeIncluded(e){let t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(n=>{let r=n.split(".")[1];-1!==e.indexOf(r)&&t.push(this.glslLibRoutineDependencyGraph[n]);}),uo.returnOrderedNodes(t);}getUniforms(e,t){let n=[];if(e)for(let t of e)n.push(`uniform sampler2D ${t};`);if(t)for(let e of t)n.push(`uniform ${e.type} ${e.name}${e.arrayLength?`[${e.arrayLength}]`:""};`);return n.join("\n");}};}),Io,hp=L(()=>{It(),dt(),dp(),ve(),Io=class{constructor(e,t,n){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=n,this.repo=new Map(),this.attributesBound=!1;}getArtifact(e){return this.repo.get(e);}setArtifact(e,t){this.repo.set(e,t);}run(e,t,n){this.profiler.event("op",`ProgramManager.run ${e.programInfo.name??"unknown kernel"}`,()=>{let r=this.glContext.gl,o=e.program;r.useProgram(o);try{this.bindOutput(n),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,e.programInfo.variables??[],t);}catch(t){throw pe.error("ProgramManager",e.programInfo.shaderSource),t;}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw();});},this.glContext);}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(e=>this.glContext.deleteProgram(e.program));}build(e,t,n){return this.profiler.event("backend","ProgramManager.build",()=>{let r=new Oo(this.glContext,e,t,n),o=r.preprocess(),i=this.compile(o);return{programInfo:e,program:i,uniformLocations:this.getUniformLocations(i,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(i)};});}compile(e){if(!this.vertexShader){pe.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");let e=Vu(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER);}ee.debug&&pe.verbose("ProrgramManager",`FragShader:\n${e}\n`);let t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),n=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),n;}bindOutput(e){let t=e.width,n=e.height;pe.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${t}/${n}, shape=${e.shape}, type=${e.tensor.type}`),this.glContext.attachFramebuffer(e.texture,t,n);}bindAttributes(e){let t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0;}bindUniforms(e,t,n){let r=this.glContext.gl,o=0;for(let{name:i,type:a,location:s,arrayLength:u}of e){let e=t.find(e=>e.name===i)?.data;if("sampler2D"!==a&&!e)throw new Error(`variable '${i}' does not have data defined in program info`);switch(a){case"sampler2D":this.bindTexture(n[o],s,o),o++;break;case"float":u?r.uniform1fv(s,e):r.uniform1f(s,e);break;case"int":u?r.uniform1iv(s,e):r.uniform1i(s,e);break;default:throw new Error(`Uniform not implemented: ${a}`);}}}bindTexture(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t);}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")};}getUniformLocations(e,t,n){let r=[];if(t)for(let n of t)r.push({name:n,type:"sampler2D",location:this.getUniformLocation(e,n)});if(n)for(let t of n)r.push({...t,location:this.getUniformLocation(e,t.name)});return r;}getUniformLocation(e,t){let n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error(`Uniform ${t} not found.`);return n;}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t);}};}),So,mp=L(()=>{dt(),mn(),So=class{constructor(e,t,n,r){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=r,this.pendingRead=new Map(),r.reuseTextures&&(this.inUseTextures=new Map(),this.idleTextures=new Map(),this.textureLookup=new Map());}createTextureFromLayout(e,t,n,r){let o=this.toEncoderType(e),i=this.glContext.getEncoder(o,t.channels||1,r);if(t.isPacked&&1===r)throw new Error("not implemented");let a,s,u=t.width,l=t.height;if(this.config.reuseTextures){a=`${u}x${l}_${i.format}_${i.internalFormat}_${i.textureType}`,s=this.inUseTextures.get(a),s||(s=[],this.inUseTextures.set(a,s));let t=this.idleTextures.get(a);if(t&&t.length>0){let o=t.pop();return s.push(o),1===r&&this.glContext.updateTexture(o,u,l,i,this.toTextureData(e,n)),o;}}pe.verbose("TextureManager",`Creating new texture of size ${t.width}x${t.height}`);let c=this.glContext.allocateTexture(u,l,i,this.toTextureData(e,n));return this.config.reuseTextures&&(s.push(c),this.textureLookup.set(c,a)),c;}readTexture(e,t,n){return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",()=>{let r=e.shape.reduce((e,t)=>e*t)*n,o=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(t),n);return this.toTensorData(t,o);});}async readTextureAsync(e,t,n){let r=e.tensor.dataId;if(n||(n=1),this.pendingRead.has(r)){let e=this.pendingRead.get(r);return new Promise(t=>e?.push(t));}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(r,[]);let o=e.shape.reduce((e,t)=>e*t)*n;await this.glContext.createAndWaitForFence();let i=this.glContext.readTexture(e.texture,e.width,e.height,o,this.toEncoderType(t),n),a=this.toTensorData(t,i),s=this.pendingRead.get(r);return this.pendingRead.delete(r),s?.forEach(e=>e(a)),a;});}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{let t=e.shape.reduce((e,t)=>e*t),n=this.glContext.readTexture(e.texture,e.width,e.height,4*t,"byte",4);return new Float32Array(n.buffer,n.byteOffset,t);});}releaseTexture(e,t){let n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture),n)){t&&this.textureLookup.delete(n);let r=this.inUseTextures.get(n);if(r){let t=r.indexOf(e.texture);if(-1!==t){r.splice(t,1);let o=this.idleTextures.get(n);o||(o=[],this.idleTextures.set(n,o)),o.push(e.texture);}}}(!n||t)&&(pe.verbose("TextureManager",`Deleting texture of size ${e.width}x${e.height}`),this.glContext.deleteTexture(e.texture));}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error(`TensorData type ${e} is not supported`);}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t);}toEncoderType(e){return"float";}clearActiveTextures(){this.glContext.clearActiveTextures();}};}),Ao,bp=L(()=>{dt(),Ds(),sl(),rp(),hp(),Ji(),mp(),Ao=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new yo(e.glContext.maxTextureSize),this.programManager=new Io(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new So(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map(),this.unpackedTextureDataCache=new Map(),this.pack=e.pack,this.pack2unpackMap=new Map(),this.unpack2packMap=new Map();}createInferenceHandler(){return new ao(this);}onGraphInitialized(e){let t=e.getValues().filter(e=>-1===e.from&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(t);}isInitializer(e){return!!this.initializers&&this.initializers.has(e);}addInitializer(e){this.initializers.add(e);}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e);}setTextureData(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;pe.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t);}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.packedTextureDataCache=new Map(),this.unpackedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.unpackedTextureDataCache=new Map();}resolve(e,t,n){let r=Ps(e,t,tp);return{impl:r.opImpl,context:r.opInit?r.opInit(e,n):e};}};});function og(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1;}var xn,gp=L(()=>{It(),mn(),mn(),Bt(),xn=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters();}allocateTexture(e,t,n,r){let o=this.gl,i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);let a=r?n.encode(r,e*t):null;return o.texImage2D(o.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,a),this.checkError(),i;}updateTexture(e,t,n,r,o){let i=this.gl;i.bindTexture(i.TEXTURE_2D,e);let a=r.encode(o,t*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,a),this.checkError();}attachFramebuffer(e,t,n){let r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n);}readTexture(e,t,n,r,o,i){let a=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);let s=this.getEncoder(o,i),u=s.allocate(t*n);return a.bindTexture(a.TEXTURE_2D,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.readPixels(0,0,t,n,a.RGBA,s.textureType,u),this.checkError(),s.decode(u,r);}isFramebufferReady(){return!0;}getActiveTexture(){let e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0);}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D);}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING);}setVertexAttributes(e,t){let n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError();}createProgram(e,t){let n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r;}compileShader(e,t){let n=this.gl,r=n.createShader(t);if(!r)throw new Error(`createShader() returned null with type ${t}`);if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${n.getShaderInfoLog(r)}\nShader source:\n${e}`);return r;}deleteShader(e){this.gl.deleteShader(e);}bindTextureToUniform(e,t,n){let r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError();}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError();}checkError(){if(ee.debug){let e=this.gl,t=e.getError(),n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n=`Unknown WebGL Error: ${t.toString(16)}`;}throw new Error(n);}}deleteTexture(e){this.gl.deleteTexture(e);}deleteProgram(e){this.gl.deleteProgram(e);}getEncoder(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(2===this.version)return new oo(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new hn(this.gl,t):new hn(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new io(this.gl,t);default:throw new Error(`Invalid dataType: ${e}`);}}clearActiveTextures(){let e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null);}dispose(){if(this.disposed)return;let e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0;}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);}createVertexbuffer(){let e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");let n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t;}createFramebuffer(){let e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e;}queryVitalParameters(){let e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version;}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"));}checkFloatTextureAttachableToFrameBuffer(){let e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);let n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);let r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);let o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),o;}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1;}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer;}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1;}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer;}checkFloat32Blend(){let e,t,n,r,o,i=this.gl;try{e=i.createTexture(),t=i.createFramebuffer(),i.bindTexture(i.TEXTURE_2D,e);let a=2===this.version?i.RGBA32F:i.RGBA;return i.texImage2D(i.TEXTURE_2D,0,a,1,1,0,i.RGBA,i.FLOAT,null),i.bindFramebuffer(i.FRAMEBUFFER,t),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0),i.enable(i.BLEND),n=i.createShader(i.VERTEX_SHADER),!!(n&&(i.shaderSource(n,"void main(){}"),i.compileShader(n),r=i.createShader(i.FRAGMENT_SHADER),r)&&(i.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),i.compileShader(r),o=i.createProgram(),o))&&(i.attachShader(o,n),i.attachShader(o,r),i.linkProgram(o),i.useProgram(o),i.drawArrays(i.POINTS,0,1),i.getError()===i.NO_ERROR);}finally{i.disable(i.BLEND),o&&i.deleteProgram(o),n&&i.deleteShader(n),r&&i.deleteShader(r),t&&(i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(t)),e&&(i.bindTexture(i.TEXTURE_2D,null),i.deleteTexture(e));}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){let e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n;}throw new Error("WebGL1 profiling currently not supported.");}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{let e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT);}}isTimerResultAvailable(e){let t=!1,n=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{let r=this.gl,o=this.disjointTimerQueryWebgl2Extension;t=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(o.GPU_DISJOINT_EXT);}return t&&!n;}getTimerResult(e){let t=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{let n=this.gl;t=n.getQueryParameter(e,n.QUERY_RESULT),n.deleteQuery(e);}return t/1e6;}async waitForQueryAndGetTime(e){return await _i(()=>this.isTimerResultAvailable(e)),this.getTimerResult(e);}async createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e);}createFence(e){let t,n=e,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===r?()=>!0:()=>{let e=n.clientWaitSync(r,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED;},{query:r,isFencePassed:t};}async pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t());});}pollItems(){let e=og(this.itemsToPoll.map(e=>e.isDoneFn));for(let t=0;t<=e;++t){let{resolveFn:e}=this.itemsToPoll[t];e();}this.itemsToPoll=this.itemsToPoll.slice(e+1);}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)&&(await _i(()=>(this.pollItems(),0===this.itemsToPoll.length)));}};});function Qi(e){let t;if(e&&"webgl2"!==e||!("webgl2"in Xr)?(!e||"webgl"===e)&&"webgl"in Xr&&(t=Xr.webgl):t=Xr.webgl2,!t)try{t=yp(ag(),e);}catch{t=yp(ig(),e);}e=e||1===t.version?"webgl":"webgl2";let n=t.gl;return Xr[e]=t,n.isContextLost()?(delete Xr[e],Qi(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),t);}function yp(e,t){let n,r={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!t||"webgl2"===t)&&(n=e.getContext("webgl2",r),n))try{return new xn(n,2);}catch(e){pe.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${e}`);}if((!t||"webgl"===t)&&(n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),n))try{return new xn(n,1);}catch(e){pe.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${e}`);}throw new Error("WebGL is not supported");}function ig(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");let e=document.createElement("canvas");return e.width=1,e.height=1,e;}function ag(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1);}var Xr,Tp=L(()=>{dt(),gp(),Xr={};}),Eo,xp=L(()=>{It(),dt(),bp(),Tp(),Eo=class{get contextId(){return ee.webgl.contextId;}set contextId(e){ee.webgl.contextId=e;}get matmulMaxBatchSize(){return ee.webgl.matmulMaxBatchSize;}set matmulMaxBatchSize(e){ee.webgl.matmulMaxBatchSize=e;}get textureCacheMode(){return ee.webgl.textureCacheMode;}set textureCacheMode(e){ee.webgl.textureCacheMode=e;}get pack(){return ee.webgl.pack;}set pack(e){ee.webgl.pack=e;}get async(){return ee.webgl.async;}set async(e){ee.webgl.async=e;}initialize(){try{return this.glContext=Qi(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),pe.setWithEnv(ee),ee.webgl.context||Object.defineProperty(ee.webgl,"context",{value:this.glContext.gl}),pe.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0;}catch(e){return pe.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${e}`),!1;}}createSessionHandler(e){return new Ao(this,e);}dispose(){this.glContext.dispose();}};});async function ea(e){if(!e)return ea(["webgl"]);{let t="string"==typeof e?[e]:e;for(let e of t){let t=wp.get(e);if(t)return t;let n=await ug(e);if(n)return n;}}throw new Error("no available backend to use");}async function ug(e){let t=sg;if(typeof t[e]<"u"&&lg(t[e])){let n=t[e],r=n.initialize();if("object"==typeof r&&"then"in r&&(r=await r),r)return wp.set(e,n),n;}}function lg(e){let t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose;}var wp,sg,vp=L(()=>{xp(),wp=new Map(),sg={webgl:new Eo()};}),ta,Po,_p=L(()=>{dt(),ta=class{constructor(e,t){this.op=e,this.node=t;}},Po=class{constructor(e,t,n){this.graph=e,this.profiler=n,this.initialize(t);}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",()=>{let t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map((e,n)=>new ta(e,t[n])),this.reset(),this._starter=[],this._ops.forEach((e,t)=>{let n=!0;for(let t of e.node.inputs)if(!this._values[t]&&-1===this.graph.getInputIndices().indexOf(t)){n=!1;break;}n&&this._starter.push(t);});});}reset(){this._values=this.graph.getValues().map(e=>e.tensor);}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();let n=e.createInferenceHandler(),r=this.graph.getInputIndices();if(t.length!==r.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${t.length} expected: ${r.length}`);t.forEach((e,t)=>{let n=r[t];this._values[n]=e;});let o=this._starter.slice(0),i=this.graph.getValues(),a=this.graph.getNodes(),s=0;for(;s<o.length;){let e=o[s++],t=this._ops[e],r=t.node.inputs.map(e=>this._values[e]);if(-1!==r.indexOf(void 0))throw new Error(`unresolved input detected: op: ${t.node}`);let u=r;pe.verbose("ExecPlan",`Runing op:${t.node.name} (${u.map((e,n)=>`'${t.node.inputs[n]}': ${e.type}[${e.dims.join(",")}]`).join(", ")})`);let l=await this.profiler.event("node",t.node.name,async()=>t.op.impl(n,u,t.op.context));if(l.length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");l.forEach((e,n)=>{let r=t.node.outputs[n];if(this._values[r])throw new Error(`output [${r}] already has value: op:${t.node.name}`);this._values[r]=e;});let c=new Set();l.forEach((e,n)=>{let r=t.node.outputs[n];for(let e of i[r].to){let t=a[e],n=!0;for(let e of t.inputs)if(!this._values[e]){n=!1;break;}n&&c.add(e);}}),o.push(...c);}let u=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){let t=this.graph.getOutputIndices()[e],n=this._values[t];if(void 0===n)throw new Error(`required output [${t}] does not have value`);0===t?await n.getData():n.data,u.push(n);}return pe.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),u;});}};}),oe,xt,wn,Op=L(()=>{un(),oe=Nr(Ur()),Or(),fe(),xt=H.experimental.fbs,wn=class e{constructor(t){if(this._attributes=new Map(),null!=t){for(let n of t)n instanceof oe.onnx.AttributeProto?this._attributes.set(n.name,[e.getValue(n),e.getType(n)]):n instanceof xt.Attribute&&this._attributes.set(n.name(),[e.getValue(n),e.getType(n)]);if(this._attributes.size<t.length)throw new Error("duplicated attribute names");}}set(e,t,n){this._attributes.set(e,[n,t]);}delete(e){this._attributes.delete(e);}getFloat(e,t){return this.get(e,"float",t);}getInt(e,t){return this.get(e,"int",t);}getString(e,t){return this.get(e,"string",t);}getTensor(e,t){return this.get(e,"tensor",t);}getFloats(e,t){return this.get(e,"floats",t);}getInts(e,t){return this.get(e,"ints",t);}getStrings(e,t){return this.get(e,"strings",t);}getTensors(e,t){return this.get(e,"tensors",t);}get(e,t,n){let r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error(`required attribute not found: ${e}`);}if(r[1]!==t)throw new Error(`type mismatch: expected ${t} but got ${r[1]}`);return r[0];}static getType(e){let t=e instanceof oe.onnx.AttributeProto?e.type:e.type();switch(t){case oe.onnx.AttributeProto.AttributeType.FLOAT:return"float";case oe.onnx.AttributeProto.AttributeType.INT:return"int";case oe.onnx.AttributeProto.AttributeType.STRING:return"string";case oe.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case oe.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case oe.onnx.AttributeProto.AttributeType.INTS:return"ints";case oe.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case oe.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${oe.onnx.AttributeProto.AttributeType[t]}`);}}static getValue(e){let t=e instanceof oe.onnx.AttributeProto?e.type:e.type();if(t===oe.onnx.AttributeProto.AttributeType.GRAPH||t===oe.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");let n=this.getValueNoCheck(e);if(t===oe.onnx.AttributeProto.AttributeType.INT&&ot.isLong(n))return ot.longToNumber(n);if(t===oe.onnx.AttributeProto.AttributeType.INTS){let e=n,t=new Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];t[n]=ot.longToNumber(r);}return t;}if(t===oe.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof oe.onnx.AttributeProto?$e.fromProto(n):$e.fromOrtTensor(n);if(t===oe.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof oe.onnx.AttributeProto)return n.map(e=>$e.fromProto(e));if(e instanceof xt.Attribute)return n.map(e=>$e.fromOrtTensor(e));}return t===oe.onnx.AttributeProto.AttributeType.STRING&&e instanceof oe.onnx.AttributeProto?dn(n):t===oe.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof oe.onnx.AttributeProto?n.map(dn):n;}static getValueNoCheck(e){return e instanceof oe.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e);}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case oe.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case oe.onnx.AttributeProto.AttributeType.INT:return e.i;case oe.onnx.AttributeProto.AttributeType.STRING:return e.s;case oe.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case oe.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case oe.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case oe.onnx.AttributeProto.AttributeType.INTS:return e.ints;case oe.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case oe.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case oe.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error(`unsupported attribute type: ${oe.onnx.AttributeProto.AttributeType[e.type]}`);}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case xt.AttributeType.FLOAT:return e.f();case xt.AttributeType.INT:return e.i();case xt.AttributeType.STRING:return e.s();case xt.AttributeType.TENSOR:return e.t();case xt.AttributeType.GRAPH:return e.g();case xt.AttributeType.FLOATS:return e.floatsArray();case xt.AttributeType.INTS:{let t=[];for(let n=0;n<e.intsLength();n++)t.push(e.ints(n));return t;}case xt.AttributeType.STRINGS:{let t=[];for(let n=0;n<e.stringsLength();n++)t.push(e.strings(n));return t;}case xt.AttributeType.TENSORS:{let t=[];for(let n=0;n<e.tensorsLength();n++)t.push(e.tensors(n));return t;}default:throw new Error(`unsupported attribute type: ${xt.AttributeType[e.type()]}`);}}};}),na,Do,oa,Rt,Lo,ra,Ip=L(()=>{Op(),un(),na=Nr(Ur()),Or(),fe(),Do=H.experimental.fbs,oa={from:(e,t)=>new ra(e,t)},Rt=class{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=Ve.tensorValueTypeFromProto(e.type.tensorType));}get from(){return this._from;}get to(){return this._to;}},Lo=class{constructor(e,t){e instanceof na.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new wn(e.attribute)):e instanceof Do.Node&&(this.name=t??e.name(),this.opType=e.opType(),this.attributes=new wn(Ve.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0;}},ra=class{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic();}getInputIndices(){return this._allInputIndices;}getInputNames(){return this._allInputNames;}getOutputIndices(){return this._allOutputIndices;}getOutputNames(){return this._allOutputNames;}getValues(){return this._allData;}getNodes(){return this._nodes;}buildGraph(e){if(e instanceof na.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof Do.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e);}}buildGraphFromOnnxFormat(e){let t=new Map();this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let n=new Map();if(!e.input)throw new Error("missing information in graph: input");let r=[];for(let n of e.input){if(t.has(n.name))throw new Error(`duplicated input name: ${n.name}`);let e=this._allData.push(new Rt(n))-1;t.set(n.name,e),r.push(n.name);}if(!e.initializer)throw new Error("missing information in graph: initializer");for(let n of e.initializer){let e=t.get(n.name);if(void 0===e){let r=new Rt();r.type={shape:{dims:Ve.tensorDimsFromProto(n.dims)},tensorType:Ve.tensorDataTypeFromProto(n.dataType)},e=this._allData.push(r)-1,t.set(n.name,e);}this._allData[e]._from=-1,this._allData[e].tensor=$e.fromProto(n);}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push(r[e]));if(!e.output)throw new Error("missing information in graph: output");for(let n of e.output){if(t.has(n.name))throw new Error(`duplicated output name: ${n.name}`);let e=this._allData.push(new Rt(n))-1;t.set(n.name,e),this._allOutputIndices.push(e),this._allOutputNames.push(n.name);}if(!e.node)throw new Error("missing information in graph: node");for(let t of e.node){if(!t.name)for(let e=0;;e++){let r=`unnamed_${t.opType}_${e}`;if(!n.has(r)){t.name=r;break;}}if(n.has(t.name))throw new Error(`duplicated node name: ${t.name}`);let e=this._nodes.push(new Lo(t))-1;n.set(t.name,e);}for(let n=0;n<this._nodes.length;n++){let r=this._nodes[n],o=e.node[n];if(!o.output)throw new Error(`missing output for node: ${o.name}`);for(let e of o.output){let i=t.get(e);if(typeof i>"u"&&(i=this._allData.push(new Rt())-1,t.set(e,i)),r.outputs.push(i),void 0!==this._allData[i]._from)throw new Error(`multiple nodes output to one data value: ${i}`);if(this._allData[i]._from=n,"Constant"===o.opType){if(!o.attribute||1!==o.attribute.length||!o.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!o.output||1!==o.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");r.outputs.pop(),r.executeNode=!1,this._allData[i]._from=-1,this._allData[i].tensor=$e.fromProto(o.attribute[0].t);}}}for(let n=0;n<this._nodes.length;n++){let r=this._nodes[n],o=e.node[n];if(!o.input)throw new Error(`missing input for node: ${o.name}`);for(let e of o.input){let i=t.get(e);if(typeof i>"u"){if(""===e&&(3===o.input.length||4===o.input.length)&&"Resize"===o.opType)continue;throw new Error(`unrecognized input '${e}' for node: ${o.name}`);}r.inputs.push(i),this._allData[i]._to.push(n);}}return!0;}buildGraphFromOrtFormat(e){let t=new Map();this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let n=new Map(),r=[];for(let n=0;n<e.inputsLength();n++){let o=e.inputs(n);if(t.has(o))throw new Error(`duplicated input name: ${o}`);for(let n=0;n<e.nodeArgsLength();n++)if(e.nodeArgs(n)?.name()===o){let i=new Rt();if(e.nodeArgs(n)?.type()?.valueType()!==Do.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");let a=e.nodeArgs(n).type().value(new Do.TensorTypeAndShape()),s=Ve.tensorDataTypeFromProto(a.elemType()),u=a.shape(),l=[];for(let e=0;e<u.dimLength();e++)l.push(ot.longToNumber(u.dim(e).value().dimValue()));i.type={shape:{dims:l},tensorType:s};let c=this._allData.push(i)-1;t.set(o,c),r.push(o);}}for(let n=0;n<e.initializersLength();n++){let r=e.initializers(n),o=t.get(r.name());if(void 0===o){let e=new Rt(),n=Ve.tensorDimsFromORTFormat(r),i=Ve.tensorDataTypeFromProto(r.dataType());e.type={shape:{dims:n},tensorType:i},o=this._allData.push(e)-1,t.set(r.name(),o);}this._allData[o]._from=-1,this._allData[o].tensor=$e.fromOrtTensor(r);}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push(r[e]));for(let n=0;n<e.outputsLength();n++){let r=e.outputs(n);if(t.has(r))throw new Error(`duplicated output name: ${r}`);let o=this._allData.push(new Rt())-1;t.set(r,o),this._allOutputIndices.push(o),this._allOutputNames.push(r);}if(!e.nodes)throw new Error("missing information in graph: node");for(let t=0;t<e.nodesLength();t++){let r=e.nodes(t),o=r.name();if(!o)for(let e=0;o=`unnamed_${r.opType()}_${e}`,n.has(o);e++);if(n.has(o))throw new Error(`duplicated node name: ${o}`);let i=this._nodes.push(new Lo(r,o))-1;n.set(o,i);}for(let n=0;n<this._nodes.length;n++){let r=this._nodes[n],o=e.nodes(n);if(null==o)throw new Error(`No node exists at index ${n}`);if(0===o?.outputsLength())throw new Error(`missing output for node: ${o.name}`);for(let e=0;e<o?.outputsLength();e++){let i=o?.outputs(e),a=t.get(i);if(typeof a>"u"&&(a=this._allData.push(new Rt())-1,t.set(i,a)),r.outputs.push(a),void 0!==this._allData[a]._from)throw new Error(`multiple nodes output to one data value: ${a}`);if(this._allData[a]._from=n,"Constant"===o.opType()){if(1!==o.attributesLength()||!o.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==o.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");r.outputs.pop(),r.executeNode=!1,this._allData[a]._from=-1,this._allData[a].tensor=$e.fromOrtTensor(o.attributes(0).t());}}}for(let n=0;n<this._nodes.length;n++){let r=this._nodes[n],o=e.nodes(n);if(0===o.inputsLength())throw new Error(`missing input for node: ${o.name}`);for(let e=0;e<o.inputsLength();e++){let i=o.inputs(e),a=t.get(i);if(typeof a>"u")throw new Error(`unrecognized input '${i}' for node: ${o.name()}`);r.inputs.push(a),this._allData[a]._to.push(n);}}}checkIsAcyclic(){let e=new Set();this._allInputIndices.forEach(t=>{this._allData[t]._to.forEach(t=>{e.add(t);});});let t=Array.from(e),n=new Array(this._nodes.length).fill("white");for(;t.length>0;){let e=t.pop();"gray"===n[e]?n[e]="black":(t.push(e),n[e]="gray",this._nodes[e].outputs.forEach(r=>{let o=this._allData[r];if(typeof o.tensor<"u")throw new Error("node outputs should not be initialized");if(o._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");o._to.forEach(e=>{if("gray"===n[e])throw new Error("model graph is cyclic");"white"===n[e]&&t.push(e);});}));}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph();}finalizeGraph(){let e=0,t=new Array(this._nodes.length,0),n=0;for(let e=0;e<this._nodes.length;e++)t[e]=n,this._nodes[e].executeNode?(n!==e&&(this._nodes[n]=this._nodes[e]),n++):this._nodes[e].outputs.forEach(e=>{this._allData[e]._from=-2;});this._nodes.splice(n,this._nodes.length-n);for(let e=0;e<this._allData.length;e++){let n=this._allData[e];void 0!==n._from&&-1!==n._from&&-2!==n._from&&(n._from=t[n._from]);for(let e=0;e<n._to.length;e++){if(!(n._to[e]>=0))throw new Error("Trying to update a removed node");n._to[e]=t[n._to[e]];}}e=0;for(let t=0;t<this._allData.length;t++)if(-2!==this._allData[t].from||-1!==this._allOutputIndices.indexOf(t+e)){if(e>0){let n=-1;void 0!==this._allData[t].from&&-1!==this._allData[t].from?(n=this._nodes[this._allData[t].from].outputs.indexOf(t+e),-1!==n&&(this._nodes[this._allData[t].from].outputs[n]=t)):(n=this._allInputIndices.indexOf(t+e),-1!==n&&(this._allInputIndices[n]=t)),this._allData[t].to.forEach(r=>{n=this._nodes[r].inputs.indexOf(t+e),-1!==n&&(this._nodes[r].inputs[n]=t);}),0===this._allData[t].to.length&&(n=this._allOutputIndices.indexOf(t+e),-1!==n&&(this._allOutputIndices[n]=t));}}else e++,this._allData.splice(t,1),t--;}deleteNode(e){let t=this._nodes[e];if(t.outputs.length>1)for(let e=1;e<t.outputs.length;e++)if(this._allData[t.outputs[e]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;let n=t.inputs[0],r=t.outputs[0],o=this._allData[r].to;for(let n=0;n<t.inputs.length;n++){let r=this._allData[t.inputs[n]].to.indexOf(e);if(-1===r)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[t.inputs[n]].to.splice(r,1);}this._allData[r]._to=[];let i=this._allOutputIndices.indexOf(r);if(-1!==i&&(this._allOutputIndices[i]=n),o&&o.length>0)for(let e of o){let t=this._nodes[e].inputs.indexOf(r);if(-1===t)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[e].inputs[t]=n,this._allData[n].to.push(e);}}removeAllDropoutNodes(){let e=0;for(let t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e);}e++;}}removeAllIdentityNodes(){let e=0;for(let t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++;}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1;}}fuseConvActivationNodes(){for(let e of this._nodes)if("Conv"===e.opType){let t=this._allData[e.outputs[0]]._to;if(1===t.length&&this.isActivation(this._nodes[t[0]])){let n=this._nodes[t[0]];if("Clip"===n.opType)if(1===n.inputs.length)try{e.attributes.set("activation_params","floats",[n.attributes.getFloat("min"),n.attributes.getFloat("max")]);}catch{e.attributes.set("activation_params","floats",[vr,_r]);}else{if(!(n.inputs.length>=3&&void 0!==this._allData[n.inputs[1]].tensor&&void 0!==this._allData[n.inputs[2]].tensor))continue;e.attributes.set("activation_params","floats",[this._allData[n.inputs[1]].tensor.floatData[0],this._allData[n.inputs[2]].tensor.floatData[0]]);}e.attributes.set("activation","string",n.opType),this.deleteNode(t[0]);}}}};}),Sp,fg,Fo,Ap=L(()=>{Jn(),Ip(),un(),Sp=Nr(Ur()),fe(),fg=H.experimental.fbs,Fo=class{constructor(){}load(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t);}catch(e){if(void 0!==n)throw e;}this.loadFromOrtFormat(e,t);}loadFromOnnxFormat(e,t){let n=Sp.onnx.ModelProto.decode(e);if(ot.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map(e=>({domain:e.domain,version:ot.longToNumber(e.version)})),this._graph=oa.from(n.graph,t);}loadFromOrtFormat(e,t){let n=new I.ByteBuffer(e),r=fg.InferenceSession.getRootAsInferenceSession(n).model();if(ot.longToNumber(r.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let e=0;e<r.opsetImportLength();e++){let t=r.opsetImport(e);this._opsets.push({domain:t?.domain(),version:ot.longToNumber(t.version())});}this._graph=oa.from(r.graph(),t);}get graph(){return this._graph;}get opsets(){return this._opsets;}};}),Co,Ep=L(()=>{vp(),_p(),dt(),Ap(),Co=class{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._initialized=!1,this.backendHint=e.backendHint,this.profiler=Xn.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]};}get inputNames(){return this._model.graph.getInputNames();}get outputNames(){return this._model.graph.getOutputNames();}startProfiling(){this.profiler.start();}endProfiling(){this.profiler.stop();}async loadModel(e,t,n){await this.profiler.event("session","Session.loadModel",async()=>{let r=await ea(this.backendHint);if(this.sessionHandler=r.createSessionHandler(this.context),this._model=new Fo(),"string"==typeof e){let t=e.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){let n=await(void 0)(e);this.initialize(n,t);}else{let n=await(await fetch(e)).arrayBuffer();this.initialize(new Uint8Array(n),t);}}else if(ArrayBuffer.isView(e))this.initialize(e);else{let r=new Uint8Array(e,t||0,n||e.byteLength);this.initialize(r);}});}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{let n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,n,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new Po(this._model.graph,this._ops,this.profiler);}),this._initialized=!0;}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{let t=this.normalizeAndValidateInputs(e),n=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(n);});}normalizeAndValidateInputs(e){let t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error(`incorrect input array length: expected ${t.length} but got ${e.length}`);}else{if(e.size!==t.length)throw new Error(`incorrect input map size: expected ${t.length} but got ${e.size}`);let n=new Array(e.size),r=0;for(let o=0;o<t.length;++o){let i=e.get(t[o]);if(!i)throw new Error(`missing input tensor for: '${name}'`);n[r++]=i;}e=n;}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{let t=this._model.graph.getInputIndices(),n=this._model.graph.getValues(),r=new Array(t.length);for(let o=0;o<t.length;++o){let i=n[t[o]];r[o]=i.type.shape.dims,this.context.graphInputTypes.push(i.type.tensorType),this.context.graphInputDims.push(e[o].dims);}this.validateInputTensorDims(r,e,!0);}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e;}validateInputTensorTypes(e,t){for(let n=0;n<t.length;n++){let r=e[n],o=t[n].type;if(r!==o)throw new Error(`input tensor[${n}] check failed: expected type '${r}' but got ${o}`);}}validateInputTensorDims(e,t,n){for(let r=0;r<t.length;r++){let o=e[r],i=t[r].dims;if(!this.compareTensorDims(o,i,n))throw new Error(`input tensor[${r}] check failed: expected shape '[${o.join(",")}]' but got [${i.join(",")}]`);}}compareTensorDims(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]&&(!n||0!==e[r]))return!1;return!0;}createOutput(e){let t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");let n=new Map();for(let r=0;r<t.length;++r)n.set(t[r],e[r]);return n;}initializeOps(e){let t=e.getNodes();this._ops=new Array(t.length);for(let n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets,e);}};}),$o,Pp=L(()=>{It(),Or(),$o=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames;}async dispose(){}async run(e,t,n){let r=new Map();for(let t in e)if(Object.hasOwnProperty.call(e,t)){let n=e[t];r.set(t,new $e(n.dims,n.type,void 0,void 0,n.data));}let o=await this.session.run(r),i={};return o.forEach((e,t)=>{i[t]=new Ne(e.type,e.data,e.dims);}),i;}async configure(e){return"";}async auth(e){return"";}startProfiling(){this.session.startProfiling();}endProfiling(){this.session.endProfiling();}};}),Dp={};cr(Dp,{onnxjsBackend:()=>pg});var ia,pg,Lp=L(()=>{Ep(),Pp(),pg=new(ia=class{async init(){}async createInferenceSessionHandler(e,t){let n=new Co(t);return await n.loadModel(e),new $o(n);}})();}),aa={};cr(aa,{createReadStream:()=>Fp,readFile:()=>dg,readFileSync:()=>hg});var dg,hg,Fp,sa=L(()=>{dg=void 0,hg=void 0,Fp=void 0;}),ua={};cr(ua,{join:()=>mg});var mg,la=L(()=>{mg=void 0;}),fa={};cr(fa,{crypto:()=>bg});var bg,ca=L(()=>{bg=void 0;}),Bp=ye((e,t)=>{var n,r=(n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(n=n||__filename),function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t,r,o=e;o.ready=new Promise((e,n)=>{t=e,r=n;});var i,a,s,u=Object.assign({},o),l="./this.program",c="object"==typeof window,f="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,d="";if(p){var h=(sa(),Ht(aa)),g=(la(),Ht(ua));d=f?g.dirname(d)+"/":__dirname+"/",i=(e,t)=>(e=F(e)?new URL(e):g.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=i(e,!0)).buffer||(e=new Uint8Array(e)),e),a=function(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;e=F(e)?new URL(e):g.normalize(e),h.readFile(e,r?void 0:"utf8",(e,o)=>{e?n(e):t(r?o.buffer:o);});},!o.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]";}else(c||f)&&(f?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),n&&(d=n),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest();return t.open("GET",e,!1),t.send(null),t.responseText;},f&&(s=e=>{var t=new XMLHttpRequest();return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response);}),a=(e,t,n)=>{var r=new XMLHttpRequest();r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n();},r.onerror=n,r.send(null);});var m=console.log.bind(console),y=console.error.bind(console);Object.assign(o,u),u=null,"object"!=typeof WebAssembly&&R("no native wasm support detected");var b,_,v,w,I,x,A=!1;function T(){var e=b.buffer;o.HEAP8=_=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAPU8=v=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAP32=w=new Int32Array(e),o.HEAPU32=I=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=x=new Float64Array(e);}var C=[],E=[],S=[],O=0,P=null,k=null;function R(e){throw y(e="Aborted("+e+")"),A=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),r(e),e;}var B,D=e=>e.startsWith("data:application/octet-stream;base64,"),F=e=>e.startsWith("file://");if(!D(B="ort-wasm.wasm")){var N=B;B=o.locateFile?o.locateFile(N,d):d+N;}function L(e){if(s)return s(e);throw"both async and sync fetching of the wasm failed";}function U(e,t,n){return function(e){if(c||f){if("function"==typeof fetch&&!F(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer();}).catch(()=>L(e));if(a)return new Promise((t,n)=>{a(e,e=>t(new Uint8Array(e)),n);});}return Promise.resolve().then(()=>L(e));}(e).then(e=>WebAssembly.instantiate(e,t)).then(e=>e).then(n,e=>{y(`failed to asynchronously prepare wasm: ${e}`),R(e);});}var M,$={882112:(e,t,n,r)=>{if(typeof o>"u"||!o.Ga)return 1;if((e=H(e>>>0)).startsWith("./")&&(e=e.substring(2)),!(e=o.Ga.get(e)))return 2;if((t>>>=0)+(n>>>=0)>e.byteLength)return 3;try{return v.set(e.subarray(t,t+n),r>>>0>>>0),0;}catch{return 4;}}};function V(e){this.Da=e-24,this.Fa=function(e){I[this.Da+4>>>2>>>0]=e;},this.Ea=function(e){I[this.Da+8>>>2>>>0]=e;},this.La=function(e,t){this.Ma(),this.Fa(e),this.Ea(t);},this.Ma=function(){I[this.Da+16>>>2>>>0]=0;};}var j,G=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,W=(e,t,n)=>{var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&G)return G.decode(e.subarray(t,n));for(r="";t<n;){var o=e[t++];if(128&o){var i=63&e[t++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&e[t++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&e[t++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o));}}else r+=String.fromCharCode(o);}return r;},H=(e,t)=>(e>>>=0)?W(v,e,t):"",z=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3;}return t;},Z=(e,t,n,r)=>{if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),127>=a){if(n>=r)break;t[n++>>>0]=a;}else{if(2047>=a){if(n+1>=r)break;t[n++>>>0]=192|a>>6;}else{if(65535>=a){if(n+2>=r)break;t[n++>>>0]=224|a>>12;}else{if(n+3>=r)break;t[n++>>>0]=240|a>>18,t[n++>>>0]=128|a>>12&63;}t[n++>>>0]=128|a>>6&63;}t[n++>>>0]=128|63&a;}}return t[n>>>0]=0,n-o;},X=e=>e%4==0&&(e%100!=0||e%400==0),K=[0,31,60,91,121,152,182,213,244,274,305,335],q=[0,31,59,90,120,151,181,212,243,273,304,334],Y=e=>{var t=z(e)+1,n=he(t);return n&&Z(e,v,n,t),n;},J=[],Q={},ee=()=>{if(!j){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(e in Q)void 0===Q[e]?delete t[e]:t[e]=Q[e];var n=[];for(e in t)n.push(`${e}=${t[e]}`);j=n;}return j;},te=[null,[],[]],ne=e=>(ne=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=(ca(),Ht(fa));if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e);}catch{}R("initRandomDevice");})())(e),re=[31,29,31,30,31,30,31,31,30,31,30,31],oe=[31,28,31,30,31,30,31,31,30,31,30,31];function ie(e,t,n,r){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e;}function i(e,t){return o(e,t,"0");}function a(e,t){function n(e){return 0>e?-1:0<e?1:0;}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r;}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30);}}function u(e){var t=e.ya;for(e=new Date(new Date(e.za+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(X(e.getFullYear())?re:oe)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break;}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=a(t,e)?0>=a(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1;}e>>>=0,t>>>=0,n>>>=0;var l=I[40+(r>>>=0)>>>2>>>0];for(var c in r={Ja:w[r>>>2>>>0],Ia:w[r+4>>>2>>>0],Aa:w[r+8>>>2>>>0],Ca:w[r+12>>>2>>>0],Ba:w[r+16>>>2>>>0],za:w[r+20>>>2>>>0],xa:w[r+24>>>2>>>0],ya:w[r+28>>>2>>>0],Na:w[r+32>>>2>>>0],Ha:w[r+36>>>2>>>0],Ka:l?H(l):""},n=H(n),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(c,"g"),l[c]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(c in l={"%a":e=>f[e.xa].substring(0,3),"%A":e=>f[e.xa],"%b":e=>p[e.Ba].substring(0,3),"%B":e=>p[e.Ba],"%C":e=>i((e.za+1900)/100|0,2),"%d":e=>i(e.Ca,2),"%e":e=>o(e.Ca,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>i(e.Aa,2),"%I":e=>(0==(e=e.Aa)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,n=0;n<=e.Ba-1;t+=(X(e.za+1900)?re:oe)[n++]);return i(e.Ca+t,3);},"%m":e=>i(e.Ba+1,2),"%M":e=>i(e.Ia,2),"%n":()=>"\n","%p":e=>0<=e.Aa&&12>e.Aa?"AM":"PM","%S":e=>i(e.Ja,2),"%t":()=>"\t","%u":e=>e.xa||7,"%U":e=>i(Math.floor((e.ya+7-e.xa)/7),2),"%V":e=>{var t=Math.floor((e.ya+7-(e.xa+6)%7)/7);if(2>=(e.xa+371-e.ya-2)%7&&t++,t)53==t&&(4==(n=(e.xa+371-e.ya)%7)||3==n&&X(e.za)||(t=1));else{t=52;var n=(e.xa+7-e.ya-1)%7;(4==n||5==n&&X(e.za%400-1))&&t++;}return i(t,2);},"%w":e=>e.xa,"%W":e=>i(Math.floor((e.ya+7-(e.xa+6)%7)/7),2),"%y":e=>(e.za+1900).toString().substring(2),"%Y":e=>e.za+1900,"%z":e=>(0<=(e=e.Ha)?"+":"-")+("0000"+((e=Math.abs(e)/60)/60*100+e%60)).slice(-4),"%Z":e=>e.Ka,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),l)n.includes(c)&&(n=n.replace(new RegExp(c,"g"),l[c](r)));return c=function(e){var t=Array(z(e)+1);return Z(e,t,0,t.length),t;}(n=n.replace(/\0\0/g,"%")),c.length>t?0:(_.set(c,e>>>0),c.length-1);}var ae,se,ue=[],le=[],ce=(e,t)=>{if(!se){se=new WeakMap();var n=ae.length;if(se)for(var r=0;r<0+n;r++){var o=r,i=ue[o];i||(o>=ue.length&&(ue.length=o+1),ue[o]=i=ae.get(o)),(o=i)&&se.set(o,r);}}if(n=se.get(e)||0)return n;if(le.length)n=le.pop();else{try{ae.grow(1);}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e;}n=ae.length-1;}try{r=n,ae.set(r,e),ue[r]=ae.get(r);}catch(s){if(!(s instanceof TypeError))throw s;if("function"==typeof WebAssembly.Function){r=WebAssembly.Function,o={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},i={parameters:[],results:"v"==t[0]?[]:[o[t[0]]]};for(var a=1;a<t.length;++a)i.parameters.push(o[t[a]]);t=new r(i,e);}else{for(r=[1],o=t.slice(0,1),t=t.slice(1),i={i:127,p:127,j:126,f:125,d:124,e:111},r.push(96),128>(a=t.length)?r.push(a):r.push(a%128|128,a>>7),a=0;a<t.length;++a)r.push(i[t[a]]);"v"==o?r.push(0):r.push(1,i[o]),t=[0,97,115,109,1,0,0,0,1],128>(o=r.length)?t.push(o):t.push(o%128|128,o>>7),t.push.apply(t,r),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f;}r=n,ae.set(r,t),ue[r]=ae.get(r);}return se.set(e,n),n;},fe={a:function(e,t,n){throw new V(e>>>=0).La(t>>>0,n>>>0),e;},e:function(){return 0;},L:function(){},A:function(){},C:function(){},u:function(){return 0;},J:function(){},E:function(){},I:function(){},k:function(){},B:function(){},y:function(){},K:function(){},z:function(){},l:()=>1,o:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),w[n>>>2>>>0]=e.getUTCSeconds(),w[n+4>>>2>>>0]=e.getUTCMinutes(),w[n+8>>>2>>>0]=e.getUTCHours(),w[n+12>>>2>>>0]=e.getUTCDate(),w[n+16>>>2>>>0]=e.getUTCMonth(),w[n+20>>>2>>>0]=e.getUTCFullYear()-1900,w[n+24>>>2>>>0]=e.getUTCDay(),w[n+28>>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0;},p:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),w[n>>>2>>>0]=e.getSeconds(),w[n+4>>>2>>>0]=e.getMinutes(),w[n+8>>>2>>>0]=e.getHours(),w[n+12>>>2>>>0]=e.getDate(),w[n+16>>>2>>>0]=e.getMonth(),w[n+20>>>2>>>0]=e.getFullYear()-1900,w[n+24>>>2>>>0]=e.getDay(),w[n+28>>>2>>>0]=(X(e.getFullYear())?K:q)[e.getMonth()]+e.getDate()-1|0,w[n+36>>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var r=new Date(e.getFullYear(),0,1).getTimezoneOffset();w[n+32>>>2>>>0]=0|(t!=r&&e.getTimezoneOffset()==Math.min(r,t));},q:function(e){e>>>=0;var t=new Date(w[e+20>>>2>>>0]+1900,w[e+16>>>2>>>0],w[e+12>>>2>>>0],w[e+8>>>2>>>0],w[e+4>>>2>>>0],w[e>>>2>>>0],0),n=w[e+32>>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),a=Math.min(i,o);return 0>n?w[e+32>>>2>>>0]=+(o!=i&&a==r):0<n!=(a==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?a:o)-r))),w[e+24>>>2>>>0]=t.getDay(),w[e+28>>>2>>>0]=(X(t.getFullYear())?K:q)[t.getMonth()]+t.getDate()-1|0,w[e>>>2>>>0]=t.getSeconds(),w[e+4>>>2>>>0]=t.getMinutes(),w[e+8>>>2>>>0]=t.getHours(),w[e+12>>>2>>>0]=t.getDate(),w[e+16>>>2>>>0]=t.getMonth(),w[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(w[de()>>>2>>>0]=61,e=-1):e/=1e3,me((M=e,1<=+Math.abs(M)?0<M?+Math.floor(M/4294967296)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)),e>>>0;},m:function(){return-52;},n:function(){},w:function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT";}n>>>=0;var o=new Date().getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1);o=i.getTimezoneOffset();var s=a.getTimezoneOffset();I[e>>>0>>>2>>>0]=60*Math.max(o,s),w[t>>>0>>>2>>>0]=+(o!=s),e=r(i),t=r(a),e=Y(e),t=Y(t),s<o?(I[n>>>2>>>0]=e,I[n+4>>>2>>>0]=t):(I[n>>>2>>>0]=t,I[n+4>>>2>>>0]=e);},d:()=>{R("");},D:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,J.length=0;for(var r;r=v[t++>>>0];){var o=105!=r;n+=(o&=112!=r)&&n%8?4:0,J.push(112==r?I[n>>>2>>>0]:105==r?w[n>>>2>>>0]:x[n>>>3>>>0]),n+=o?8:4;}return $[e].apply(null,J);},g:()=>Date.now(),x:function(){return 4294901760;},b:()=>performance.now(),H:function(e,t,n){return t>>>=0,v.copyWithin(e>>>0>>>0,t>>>0,t+(n>>>0)>>>0);},v:function(e){e>>>=0;var t=v.length;if(4294901760<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var o=Math;r=Math.max(e,r);e:{o=(o.min.call(o,4294901760,r+(65536-r%65536)%65536)-b.buffer.byteLength+65535)/65536;try{b.grow(o),T();var i=1;break e;}catch{}i=void 0;}if(i)return!0;}return!1;},F:function(e,t){e>>>=0,t>>>=0;var n=0;return ee().forEach((r,o)=>{var i=t+n;for(o=I[e+4*o>>>2>>>0]=i,i=0;i<r.length;++i)_[o++>>>0>>>0]=r.charCodeAt(i);_[o>>>0>>>0]=0,n+=r.length+1;}),0;},G:function(e,t){e>>>=0,t>>>=0;var n=ee();I[e>>>2>>>0]=n.length;var r=0;return n.forEach(e=>r+=e.length+1),I[t>>>2>>>0]=r,0;},f:()=>52,j:function(){return 52;},r:function(){return 70;},i:function(e,t,n,r){t>>>=0,n>>>=0,r>>>=0;for(var o=0,i=0;i<n;i++){var a=I[t>>>2>>>0],s=I[t+4>>>2>>>0];t+=8;for(var u=0;u<s;u++){var l=v[a+u>>>0],c=te[e];0===l||10===l?((1===e?m:y)(W(c,0)),c.length=0):c.push(l);}o+=s;}return I[r>>>2>>>0]=o,0;},s:function(e,t){return e>>>=0,ne(v.subarray(e>>>0,e+(t>>>0)>>>0)),0;},t:ie,c:function(e,t,n,r){return ie(e>>>0,t>>>0,n>>>0,r>>>0);},h:function(e,t,n,r){let o=ae.length;e=new Uint8Array(v.slice(e+t,e+n));try{var i,a=new WebAssembly.Module(e),s=new WebAssembly.Instance(a,{env:{memory:b}});for(i in s.exports)ce(s.exports[i]);return o<ae.length?o:r;}catch(e){return console.log(e),r;}}},pe=function(){function e(e){return pe=e.exports,pe=function(){var e=pe;e=Object.assign({},e);var t=e=>()=>e()>>>0,n=e=>t=>e(t)>>>0;return e.pa=t(e.pa),e.qa=n(e.qa),e.ua=t(e.ua),e.wa=n(e.wa),e;}(),b=pe.M,T(),ae=pe.sa,E.unshift(pe.N),0==--O&&(null!==P&&(clearInterval(P),P=null),k&&(e=k,k=null,e())),pe;}var t={a:fe};if(O++,o.instantiateWasm)try{return o.instantiateWasm(t,e);}catch(e){y(`Module.instantiateWasm callback failed with error: ${e}`),r(e);}return function(e,t){var n=B;return"function"!=typeof WebAssembly.instantiateStreaming||D(n)||F(n)||p||"function"!=typeof fetch?U(n,e,t):fetch(n,{credentials:"same-origin"}).then(r=>WebAssembly.instantiateStreaming(r,e).then(t,function(r){return y(`wasm streaming compile failed: ${r}`),y("falling back to ArrayBuffer instantiation"),U(n,e,t);}));}(t,function(t){e(t.instance);}).catch(r),{};}();o._OrtInit=(e,t)=>(o._OrtInit=pe.O)(e,t),o._OrtGetLastError=(e,t)=>(o._OrtGetLastError=pe.P)(e,t),o._OrtCreateSessionOptions=(e,t,n,r,i,a,s,u,l,c)=>(o._OrtCreateSessionOptions=pe.Q)(e,t,n,r,i,a,s,u,l,c),o._OrtAppendExecutionProvider=(e,t)=>(o._OrtAppendExecutionProvider=pe.R)(e,t),o._OrtAddFreeDimensionOverride=(e,t,n)=>(o._OrtAddFreeDimensionOverride=pe.S)(e,t,n),o._OrtAddSessionConfigEntry=(e,t,n)=>(o._OrtAddSessionConfigEntry=pe.T)(e,t,n),o._OrtReleaseSessionOptions=e=>(o._OrtReleaseSessionOptions=pe.U)(e),o._OrtCreateSession=(e,t,n)=>(o._OrtCreateSession=pe.V)(e,t,n),o._OrtReleaseSession=e=>(o._OrtReleaseSession=pe.W)(e),o._OrtGetInputOutputCount=(e,t,n)=>(o._OrtGetInputOutputCount=pe.X)(e,t,n),o._OrtGetInputName=(e,t)=>(o._OrtGetInputName=pe.Y)(e,t),o._OrtGetOutputName=(e,t)=>(o._OrtGetOutputName=pe.Z)(e,t),o._OrtFree=e=>(o._OrtFree=pe._)(e),o._OrtCreateTensor=(e,t,n,r,i,a)=>(o._OrtCreateTensor=pe.$)(e,t,n,r,i,a),o._OrtGetTensorData=(e,t,n,r,i)=>(o._OrtGetTensorData=pe.aa)(e,t,n,r,i),o._OrtReleaseTensor=e=>(o._OrtReleaseTensor=pe.ba)(e),o._OrtCreateRunOptions=(e,t,n,r)=>(o._OrtCreateRunOptions=pe.ca)(e,t,n,r),o._OrtAddRunConfigEntry=(e,t,n)=>(o._OrtAddRunConfigEntry=pe.da)(e,t,n),o._OrtReleaseRunOptions=e=>(o._OrtReleaseRunOptions=pe.ea)(e),o._OrtCreateBinding=e=>(o._OrtCreateBinding=pe.fa)(e),o._OrtBindInput=(e,t,n)=>(o._OrtBindInput=pe.ga)(e,t,n),o._OrtBindOutput=(e,t,n,r)=>(o._OrtBindOutput=pe.ha)(e,t,n,r),o._OrtClearBoundOutputs=e=>(o._OrtClearBoundOutputs=pe.ia)(e),o._OrtReleaseBinding=e=>(o._OrtReleaseBinding=pe.ja)(e),o._OrtRunWithBinding=(e,t,n,r,i)=>(o._OrtRunWithBinding=pe.ka)(e,t,n,r,i),o._OrtRun=(e,t,n,r,i,a,s,u)=>(o._OrtRun=pe.la)(e,t,n,r,i,a,s,u),o._OrtEndProfiling=e=>(o._OrtEndProfiling=pe.ma)(e),o._OrtConfigure=(e,t)=>(o._OrtConfigure=pe.na)(e,t),o._OrtAuth=(e,t)=>(o._OrtAuth=pe.oa)(e,t);var de=()=>(de=pe.pa)(),he=o._malloc=e=>(he=o._malloc=pe.qa)(e);o._free=e=>(o._free=pe.ra)(e);var ge,me=e=>(me=pe.ta)(e),ye=()=>(ye=pe.ua)(),be=e=>(be=pe.va)(e),_e=e=>(_e=pe.wa)(e);function ve(){if(!(0<O)){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;){var e=o.preRun.shift();C.unshift(e);}for(;0<C.length;)C.shift()(o);if(!(0<O||ge||(ge=!0,o.calledRun=!0,A))){for(;0<E.length;)E.shift()(o);for(t(o);0<S.length;)S.shift()(o);}}}return o.___start_em_js=882613,o.___stop_em_js=883225,o.stackAlloc=_e,o.stackSave=ye,o.stackRestore=be,o.addFunction=ce,o.UTF8ToString=H,o.stringToUTF8=(e,t,n)=>Z(e,v,t,n),o.lengthBytesUTF8=z,k=function e(){ge||ve(),ge||(k=e);},ve(),e.ready;});"object"==typeof e&&"object"==typeof t?t.exports=r:"function"==typeof define&&define.amd&&define([],()=>r);}),kp=ye(()=>{}),Np=ye(()=>{}),Rp={};cr(Rp,{cpus:()=>gg});var gg,Mp=L(()=>{gg=void 0;}),zp=ye((e,t)=>{var n,r=(n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(n=n||__filename),function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};function t(){return S.buffer!=k.buffer&&L(),k;}function r(){return S.buffer!=k.buffer&&L(),R;}function o(){return S.buffer!=k.buffer&&L(),B;}function i(){return S.buffer!=k.buffer&&L(),D;}function a(){return S.buffer!=k.buffer&&L(),F;}var s,u,l=e;l.ready=new Promise((e,t)=>{s=e,u=t;});var c,f,p,d=Object.assign({},l),h="./this.program",g=(e,t)=>{throw t;},m="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,_=l.ENVIRONMENT_IS_PTHREAD||!1,v="";function w(e){return l.locateFile?l.locateFile(e,v):v+e;}if(b){var I=(sa(),Ht(aa)),x=(la(),Ht(ua));let e;v=y?x.dirname(v)+"/":__dirname+"/",c=(e,t)=>(e=K(e)?new URL(e):x.normalize(e),I.readFileSync(e,t?void 0:"utf8")),p=e=>((e=c(e,!0)).buffer||(e=new Uint8Array(e)),e),f=function(e,t,n){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;e=K(e)?new URL(e):x.normalize(e),I.readFile(e,r?void 0:"utf8",(e,o)=>{e?n(e):t(r?o.buffer:o);});},!l.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),g=(e,t)=>{throw process.exitCode=e,t;},l.inspect=()=>"[Emscripten Module object]";try{e=kp();}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e;}global.Worker=e.Worker;}else(m||y)&&(y?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),typeof n<"u"&&n&&(v=n),v=0!==v.indexOf("blob:")?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",b||(c=e=>{var t=new XMLHttpRequest();return t.open("GET",e,!1),t.send(null),t.responseText;},y&&(p=e=>{var t=new XMLHttpRequest();return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response);}),f=(e,t,n)=>{var r=new XMLHttpRequest();r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n();},r.onerror=n,r.send(null);}));b&&typeof performance>"u"&&(global.performance=Np().performance);var A=console.log.bind(console),T=console.error.bind(console);b&&(A=function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return I.writeSync(1,e.join(" ")+"\n");},T=function(){for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}return I.writeSync(2,e.join(" ")+"\n");});var C=A,E=T;Object.assign(l,d),d=null,"object"!=typeof WebAssembly&&z("no native wasm support detected");var S,O,P,k,R,B,D,F,N=!1;function L(){var e=S.buffer;l.HEAP8=k=new Int8Array(e),l.HEAP16=new Int16Array(e),l.HEAPU8=R=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAP32=B=new Int32Array(e),l.HEAPU32=D=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=F=new Float64Array(e);}var U=16777216;if(_)S=l.wasmMemory;else if(l.wasmMemory)S=l.wasmMemory;else if(!((S=new WebAssembly.Memory({initial:U/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw E("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),b&&E("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");L(),U=S.buffer.byteLength;var M=[],$=[],V=[],j=0,G=null,W=null;function H(){if(0==--j&&(null!==G&&(clearInterval(G),G=null),W)){var e=W;W=null,e();}}function z(e){throw E(e="Aborted("+e+")"),N=!0,P=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e;}var Z,X=e=>e.startsWith("data:application/octet-stream;base64,"),K=e=>e.startsWith("file://");function q(e){if(p)return p(e);throw"both async and sync fetching of the wasm failed";}function Y(e,t,n){return function(e){if(m||y){if("function"==typeof fetch&&!K(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer();}).catch(()=>q(e));if(f)return new Promise((t,n)=>{f(e,e=>t(new Uint8Array(e)),n);});}return Promise.resolve().then(()=>q(e));}(e).then(e=>WebAssembly.instantiate(e,t)).then(e=>e).then(n,e=>{E(`failed to asynchronously prepare wasm: ${e}`),z(e);});}X(Z="ort-wasm-threaded.wasm")||(Z=w(Z));var J,Q={886500:(e,t,n,o)=>{if(typeof l>"u"||!l.hb)return 1;if((e=ae(e>>>0)).startsWith("./")&&(e=e.substring(2)),!(e=l.hb.get(e)))return 2;if(o>>>=0,(t>>>=0)+(n>>>=0)>e.byteLength)return 3;try{return r().set(e.subarray(t,t+n),o>>>0),0;}catch{return 4;}}};function ee(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e;}var te=e=>{e.terminate(),e.onmessage=()=>{};},ne=e=>{0==de.Ta.length&&(pe(),de.bb(de.Ta[0]));var t=de.Ta.pop();if(!t)return 6;de.Ua.push(t),de.Qa[e.Sa]=t,t.Sa=e.Sa;var n={cmd:"run",start_routine:e.ob,arg:e.lb,pthread_ptr:e.Sa};return b&&t.unref(),t.postMessage(n,e.ub),0;},re=0,oe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ie=(e,t,n)=>{var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&oe)return oe.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var o=e[t++];if(128&o){var i=63&e[t++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&e[t++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&e[t++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o));}}else r+=String.fromCharCode(o);}return r;},ae=(e,t)=>(e>>>=0)?ie(r(),e,t):"",se=e=>{var t=Ct();return e=e(),Et(t),e;};function ue(e,t){var n=arguments.length-2,r=arguments;return se(()=>{for(var o=St(8*n),i=o>>>3,s=0;s<n;s++){var u=r[2+s];a()[i+s>>>0]=u;}return vt(e,n,o,t);});}function le(e){if(_)return ue(0,1,e);P=e,0<re||(de.pb(),l.onExit?.(e),N=!0),g(e,new ee(e));}var ce=e=>{if(P=e,_)throw ge(e),"unwind";le(e);};function fe(){for(var e=l.numThreads;e--;)pe();M.unshift(()=>{j++,function(e){_?e():Promise.all(de.Ta.map(de.bb)).then(e);}(()=>H());});}function pe(){var e=w("ort-wasm-threaded.worker.js");e=new Worker(e),de.Ta.push(e);}var de={Ta:[],Ua:[],gb:[],Qa:{},$a(){_?(de.receiveObjectTransfer=de.nb,de.threadInitTLS=de.fb,de.setExitStatus=de.eb):fe();},eb:e=>P=e,xb:["$terminateWorker"],pb:()=>{for(var e of de.Ua)te(e);for(e of de.Ta)te(e);de.Ta=[],de.Ua=[],de.Qa=[];},cb:e=>{var t=e.Sa;delete de.Qa[t],de.Ta.push(e),de.Ua.splice(de.Ua.indexOf(e),1),e.Sa=0,wt(t);},nb(){},fb(){de.gb.forEach(e=>e());},bb:e=>new Promise(t=>{e.onmessage=n=>{var r=(n=n.data).cmd;if(n.targetThread&&n.targetThread!=mt()){var o=de.Qa[n.targetThread];o?o.postMessage(n,n.transferList):E(`Internal error! Worker sent a message "${r}" to target pthread ${n.targetThread}, but that thread no longer exists!`);}else"checkMailbox"===r?Me():"spawnThread"===r?ne(n):"cleanupThread"===r?de.cb(de.Qa[n.thread]):"killThread"===r?(n=n.thread,r=de.Qa[n],delete de.Qa[n],te(r),wt(n),de.Ua.splice(de.Ua.indexOf(r),1),r.Sa=0):"cancelThread"===r?de.Qa[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,b&&!e.Sa&&e.unref(),t(e)):"alert"===r?alert(`Thread ${n.threadId}: ${n.text}`):"setimmediate"===n.target?e.postMessage(n):"callHandler"===r?l[n.handler](...n.args):r&&E(`worker sent an unknown command ${r}`);},e.onerror=e=>{throw E(`worker sent an error! ${e.filename}:${e.lineno}: ${e.message}`),e;},b&&(e.on("message",t=>e.onmessage({data:t})),e.on("error",t=>e.onerror(t)));var r,o=[];for(r of["onExit"])l.hasOwnProperty(r)&&o.push(r);e.postMessage({cmd:"load",handlers:o,urlOrBlob:l.mainScriptUrlOrBlob||n,wasmMemory:S,wasmModule:O});})};l.PThread=de;var he=e=>{for(;0<e.length;)e.shift()(l);};function ge(e){if(_)return ue(1,0,e);ce(e);}l.establishStackSpace=()=>{var e=mt(),t=i()[e+52>>>2>>>0];e=i()[e+56>>>2>>>0],Tt(t,t-e),Et(t);};var me,ye=[],be=e=>{var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=me.get(e)),t;};function _e(e){this.Za=e-24,this.kb=function(e){i()[this.Za+4>>>2>>>0]=e;},this.jb=function(e){i()[this.Za+8>>>2>>>0]=e;},this.$a=function(e,t){this.ib(),this.kb(e),this.jb(t);},this.ib=function(){i()[this.Za+16>>>2>>>0]=0;};}function ve(e,t,n,r){return _?ue(2,1,e,t,n,r):we(e,t,n,r);}function we(e,t,n,r){if(e>>>=0,t>>>=0,n>>>=0,r>>>=0,typeof SharedArrayBuffer>"u")return E("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o=[];return _&&0===o.length?ve(e,t,n,r):(e={ob:n,Sa:e,lb:r,ub:o},_?(e.wb="spawnThread",postMessage(e,o),0):ne(e));}function Ie(e,t,n){return _?ue(3,1,e,t,n):0;}function xe(e,t){if(_)return ue(4,1,e,t);}l.invokeEntryPoint=(e,t)=>{e=be(e)(t),0<re?de.eb(e):It(e);};var Ae=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3;}return t;},Te=(e,t,n,r)=>{if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),127>=a){if(n>=r)break;t[n++>>>0]=a;}else{if(2047>=a){if(n+1>=r)break;t[n++>>>0]=192|a>>6;}else{if(65535>=a){if(n+2>=r)break;t[n++>>>0]=224|a>>12;}else{if(n+3>=r)break;t[n++>>>0]=240|a>>18,t[n++>>>0]=128|a>>12&63;}t[n++>>>0]=128|a>>6&63;}t[n++>>>0]=128|63&a;}}return t[n>>>0]=0,n-o;},Ce=(e,t,n)=>Te(e,r(),t,n);function Ee(e,t){if(_)return ue(5,1,e,t);}function Se(e,t,n){if(_)return ue(6,1,e,t,n);}function Oe(e,t,n){return _?ue(7,1,e,t,n):0;}function Pe(e,t){if(_)return ue(8,1,e,t);}function ke(e,t,n){if(_)return ue(9,1,e,t,n);}function Re(e,t,n,r){if(_)return ue(10,1,e,t,n,r);}function Be(e,t,n,r){if(_)return ue(11,1,e,t,n,r);}function De(e,t,n,r){if(_)return ue(12,1,e,t,n,r);}function Fe(e){if(_)return ue(13,1,e);}function Ne(e,t){if(_)return ue(14,1,e,t);}function Le(e,t,n){if(_)return ue(15,1,e,t,n);}function Ue(e){e>>>=0,"function"==typeof Atomics.vb&&(Atomics.vb(o(),e>>>2,e).value.then(Me),e+=128,Atomics.store(o(),e>>>2,1));}l.__emscripten_thread_mailbox_await=Ue;var Me=()=>{var e=mt();if(e&&(Ue(e),e=xt,!N))try{if(e(),!(0<re))try{_?It(P):ce(P);}catch(e){e instanceof ee||"unwind"==e||g(1,e);}}catch(e){e instanceof ee||"unwind"==e||g(1,e);}};l.checkMailbox=Me;var $e=[],Ve=e=>e%4==0&&(e%100!=0||e%400==0),je=[0,31,60,91,121,152,182,213,244,274,305,335],Ge=[0,31,59,90,120,151,181,212,243,273,304,334];function We(e,t,n,r,o,i,a,s){return _?ue(16,1,e,t,n,r,o,i,a,s):-52;}function He(e,t,n,r,o,i,a){if(_)return ue(17,1,e,t,n,r,o,i,a);}var ze,Ze=e=>{var t=Ae(e)+1,n=yt(t);return n&&Ce(e,n,t),n;},Xe=[],Ke={},qe=()=>{if(!ze){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(e in Ke)void 0===Ke[e]?delete t[e]:t[e]=Ke[e];var n=[];for(e in t)n.push(`${e}=${t[e]}`);ze=n;}return ze;};function Ye(e,n){if(_)return ue(18,1,e,n);e>>>=0,n>>>=0;var r=0;return qe().forEach((o,a)=>{var s=n+r;for(a=i()[e+4*a>>>2>>>0]=s,s=0;s<o.length;++s)t()[a++>>>0>>>0]=o.charCodeAt(s);t()[a>>>0>>>0]=0,r+=o.length+1;}),0;}function Je(e,t){if(_)return ue(19,1,e,t);e>>>=0,t>>>=0;var n=qe();i()[e>>>2>>>0]=n.length;var r=0;return n.forEach(e=>r+=e.length+1),i()[t>>>2>>>0]=r,0;}function Qe(e){return _?ue(20,1,e):52;}function et(e,t,n,r){return _?ue(21,1,e,t,n,r):52;}function tt(e,t,n,r,o){return _?ue(22,1,e,t,n,r,o):70;}var nt=[null,[],[]];function rt(e,t,n,o){if(_)return ue(23,1,e,t,n,o);t>>>=0,n>>>=0,o>>>=0;for(var a=0,s=0;s<n;s++){var u=i()[t>>>2>>>0],l=i()[t+4>>>2>>>0];t+=8;for(var c=0;c<l;c++){var f=r()[u+c>>>0],p=nt[e];0===f||10===f?((1===e?C:E)(ie(p,0)),p.length=0):p.push(f);}a+=l;}return i()[o>>>2>>>0]=a,0;}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(b)try{var e=(ca(),Ht(fa));if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e);}catch{}z("initRandomDevice");})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],at=[31,28,31,30,31,30,31,31,30,31,30,31],st=(e,n)=>{t().set(e,n>>>0);};function ut(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e;}function s(e,t){return a(e,t,"0");}function u(e,t){function n(e){return 0>e?-1:0<e?1:0;}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r;}function l(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30);}}function c(e){var t=e.Va;for(e=new Date(new Date(e.Wa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Ve(e.getFullYear())?it:at)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break;}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));}return n=new Date(e.getFullYear()+1,0,4),t=l(new Date(e.getFullYear(),0,4)),n=l(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1;}e>>>=0,t>>>=0,n>>>=0,r>>>=0;var f=i()[r+40>>>2>>>0];for(var p in r={sb:o()[r>>>2>>>0],rb:o()[r+4>>>2>>>0],Xa:o()[r+8>>>2>>>0],ab:o()[r+12>>>2>>>0],Ya:o()[r+16>>>2>>>0],Wa:o()[r+20>>>2>>>0],Ra:o()[r+24>>>2>>>0],Va:o()[r+28>>>2>>>0],yb:o()[r+32>>>2>>>0],qb:o()[r+36>>>2>>>0],tb:f?ae(f):""},n=ae(n),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(p in f={"%a":e=>d[e.Ra].substring(0,3),"%A":e=>d[e.Ra],"%b":e=>h[e.Ya].substring(0,3),"%B":e=>h[e.Ya],"%C":e=>s((e.Wa+1900)/100|0,2),"%d":e=>s(e.ab,2),"%e":e=>a(e.ab,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>s(e.Xa,2),"%I":e=>(0==(e=e.Xa)?e=12:12<e&&(e-=12),s(e,2)),"%j":e=>{for(var t=0,n=0;n<=e.Ya-1;t+=(Ve(e.Wa+1900)?it:at)[n++]);return s(e.ab+t,3);},"%m":e=>s(e.Ya+1,2),"%M":e=>s(e.rb,2),"%n":()=>"\n","%p":e=>0<=e.Xa&&12>e.Xa?"AM":"PM","%S":e=>s(e.sb,2),"%t":()=>"\t","%u":e=>e.Ra||7,"%U":e=>s(Math.floor((e.Va+7-e.Ra)/7),2),"%V":e=>{var t=Math.floor((e.Va+7-(e.Ra+6)%7)/7);if(2>=(e.Ra+371-e.Va-2)%7&&t++,t)53==t&&(4==(n=(e.Ra+371-e.Va)%7)||3==n&&Ve(e.Wa)||(t=1));else{t=52;var n=(e.Ra+7-e.Va-1)%7;(4==n||5==n&&Ve(e.Wa%400-1))&&t++;}return s(t,2);},"%w":e=>e.Ra,"%W":e=>s(Math.floor((e.Va+7-(e.Ra+6)%7)/7),2),"%y":e=>(e.Wa+1900).toString().substring(2),"%Y":e=>e.Wa+1900,"%z":e=>(0<=(e=e.qb)?"+":"-")+("0000"+((e=Math.abs(e)/60)/60*100+e%60)).slice(-4),"%Z":e=>e.tb,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),f)n.includes(p)&&(n=n.replace(new RegExp(p,"g"),f[p](r)));return p=function(e){var t=Array(Ae(e)+1);return Te(e,t,0,t.length),t;}(n=n.replace(/\0\0/g,"%")),p.length>t?0:(st(p,e),p.length-1);}var lt,ct=[],ft=(e,t)=>{if(!lt){lt=new WeakMap();var n=me.length;if(lt)for(var r=0;r<0+n;r++){var o=be(r);o&&lt.set(o,r);}}if(n=lt.get(e)||0)return n;if(ct.length)n=ct.pop();else{try{me.grow(1);}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e;}n=me.length-1;}try{r=n,me.set(r,e),ye[r]=me.get(r);}catch(s){if(!(s instanceof TypeError))throw s;if("function"==typeof WebAssembly.Function){r=WebAssembly.Function,o={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var i={parameters:[],results:"v"==t[0]?[]:[o[t[0]]]},a=1;a<t.length;++a)i.parameters.push(o[t[a]]);t=new r(i,e);}else{for(r=[1],o=t.slice(0,1),t=t.slice(1),i={i:127,p:127,j:126,f:125,d:124,e:111},r.push(96),128>(a=t.length)?r.push(a):r.push(a%128|128,a>>7),a=0;a<t.length;++a)r.push(i[t[a]]);"v"==o?r.push(0):r.push(1,i[o]),t=[0,97,115,109,1,0,0,0,1],128>(o=r.length)?t.push(o):t.push(o%128|128,o>>7),t.push.apply(t,r),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f;}r=n,me.set(r,t),ye[r]=me.get(r);}return lt.set(e,n),n;};de.$a();var pt=[le,ge,ve,Ie,xe,Ee,Se,Oe,Pe,ke,Re,Be,De,Fe,Ne,Le,We,He,Ye,Je,Qe,et,tt,rt],dt={b:function(e,t,n){throw new _e(e>>>=0).$a(t>>>0,n>>>0),e;},O:function(e){bt(e>>>0,!y,1,!m,131072,!1),de.fb();},m:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):de.cb(de.Qa[e]);},J:we,h:Ie,U:xe,F:Ee,H:Se,y:Oe,S:Pe,L:ke,R:Re,o:Be,G:De,D:Fe,T:Ne,E:Le,p:()=>1,B:function(e,t){(e>>>=0)==t>>>0?setTimeout(()=>Me()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=de.Qa[e])&&e.postMessage({cmd:"checkMailbox"});},K:function(e,t,n,r){t>>>=0,$e.length=n,r=r>>>0>>>3;for(var o=0;o<n;o++)$e[o]=a()[r+o>>>0];return e=0>e?Q[-e-1]:pt[e],de.mb=t,t=e.apply(null,$e),de.mb=0,t;},M:Ue,W:function(e){b&&de.Qa[e>>>0].ref();},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),o()[n>>>2>>>0]=e.getUTCSeconds(),o()[n+4>>>2>>>0]=e.getUTCMinutes(),o()[n+8>>>2>>>0]=e.getUTCHours(),o()[n+12>>>2>>>0]=e.getUTCDate(),o()[n+16>>>2>>>0]=e.getUTCMonth(),o()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,o()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,o()[n+28>>>2>>>0]=e;},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),o()[n>>>2>>>0]=e.getSeconds(),o()[n+4>>>2>>>0]=e.getMinutes(),o()[n+8>>>2>>>0]=e.getHours(),o()[n+12>>>2>>>0]=e.getDate(),o()[n+16>>>2>>>0]=e.getMonth(),o()[n+20>>>2>>>0]=e.getFullYear()-1900,o()[n+24>>>2>>>0]=e.getDay(),t=(Ve(e.getFullYear())?je:Ge)[e.getMonth()]+e.getDate()-1|0,o()[n+28>>>2>>>0]=t,o()[n+36>>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var r=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=r&&e.getTimezoneOffset()==Math.min(r,t)),o()[n+32>>>2>>>0]=e;},u:function(e){e>>>=0;var t=new Date(o()[e+20>>>2>>>0]+1900,o()[e+16>>>2>>>0],o()[e+12>>>2>>>0],o()[e+8>>>2>>>0],o()[e+4>>>2>>>0],o()[e>>>2>>>0],0),n=o()[e+32>>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(a,i);return 0>n?o()[e+32>>>2>>>0]=+(i!=a&&s==r):0<n!=(s==r)&&(i=Math.max(a,i),t.setTime(t.getTime()+6e4*((0<n?s:i)-r))),o()[e+24>>>2>>>0]=t.getDay(),n=(Ve(t.getFullYear())?je:Ge)[t.getMonth()]+t.getDate()-1|0,o()[e+28>>>2>>>0]=n,o()[e>>>2>>>0]=t.getSeconds(),o()[e+4>>>2>>>0]=t.getMinutes(),o()[e+8>>>2>>>0]=t.getHours(),o()[e+12>>>2>>>0]=t.getDate(),o()[e+16>>>2>>>0]=t.getMonth(),o()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(o()[gt()>>>2>>>0]=61,e=-1):e/=1e3,At((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0;},q:We,r:He,A:function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT";}e>>>=0,t>>>=0,n>>>=0;var a=new Date().getFullYear(),s=new Date(a,0,1),u=new Date(a,6,1);a=s.getTimezoneOffset();var l=u.getTimezoneOffset(),c=Math.max(a,l);i()[e>>>2>>>0]=60*c,o()[t>>>2>>>0]=+(a!=l),e=r(s),t=r(u),e=Ze(e),t=Ze(t),l<a?(i()[n>>>2>>>0]=e,i()[n+4>>>2>>>0]=t):(i()[n>>>2>>>0]=t,i()[n+4>>>2>>>0]=e);},c:()=>{z("");},N:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,Xe.length=0;for(var s;s=r()[t++>>>0];){var u=105!=s;n+=(u&=112!=s)&&n%8?4:0,Xe.push(112==s?i()[n>>>2>>>0]:105==s?o()[n>>>2>>>0]:a()[n>>>3>>>0]),n+=u?8:4;}return Q[e].apply(null,Xe);},n:()=>{},i:()=>Date.now(),V:()=>{throw re+=1,"unwind";},C:function(){return 4294901760;},e:()=>performance.timeOrigin+performance.now(),f:()=>b?(Mp(),Ht(Rp)).cpus().length:navigator.hardwareConcurrency,z:function(e){e>>>=0;var t=r().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var o=t*(1+.2/n);o=Math.min(o,e+100663296);var i=Math;o=Math.max(e,o);e:{i=(i.min.call(i,4294901760,o+(65536-o%65536)%65536)-S.buffer.byteLength+65535)/65536;try{S.grow(i),L();var a=1;break e;}catch{}a=void 0;}if(a)return!0;}return!1;},P:Ye,Q:Je,I:ce,g:Qe,l:et,v:tt,k:rt,w:function(e,t){return e>>>=0,t>>>=0,ot(r().subarray(e>>>0,e+t>>>0)),0;},a:S||l.wasmMemory,x:ut,d:function(e,t,n,r){return ut(e>>>0,t>>>0,n>>>0,r>>>0);},j:function(e,t,n,o){let i=me.length;e=new Uint8Array(r().slice(e+t,e+n));try{var a,s=new WebAssembly.Module(e),u=new WebAssembly.Instance(s,{env:{memory:S}});for(a in u.exports)ft(u.exports[a]);return i<me.length?i:o;}catch(e){return console.log(e),o;}}},ht=function(){function e(e,t){return ht=e.exports,ht=function(){var e=ht;e=Object.assign({},e);var t=e=>()=>e()>>>0,n=e=>t=>e(t)>>>0;return e.za=t(e.za),e.Aa=t(e.Aa),e.Ba=n(e.Ba),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Na=t(e.Na),e.Pa=n(e.Pa),e;}(),de.gb.push(ht.Da),me=ht.Ea,$.unshift(ht.X),O=t,H(),ht;}var t={a:dt};if(j++,l.instantiateWasm)try{return l.instantiateWasm(t,e);}catch(e){E(`Module.instantiateWasm callback failed with error: ${e}`),u(e);}return function(e,t){var n=Z;return"function"!=typeof WebAssembly.instantiateStreaming||X(n)||K(n)||b||"function"!=typeof fetch?Y(n,e,t):fetch(n,{credentials:"same-origin"}).then(r=>WebAssembly.instantiateStreaming(r,e).then(t,function(r){return E(`wasm streaming compile failed: ${r}`),E("falling back to ArrayBuffer instantiation"),Y(n,e,t);}));}(t,function(t){e(t.instance,t.module);}).catch(u),{};}();l._OrtInit=(e,t)=>(l._OrtInit=ht.Y)(e,t),l._OrtGetLastError=(e,t)=>(l._OrtGetLastError=ht.Z)(e,t),l._OrtCreateSessionOptions=(e,t,n,r,o,i,a,s,u,c)=>(l._OrtCreateSessionOptions=ht._)(e,t,n,r,o,i,a,s,u,c),l._OrtAppendExecutionProvider=(e,t)=>(l._OrtAppendExecutionProvider=ht.$)(e,t),l._OrtAddFreeDimensionOverride=(e,t,n)=>(l._OrtAddFreeDimensionOverride=ht.aa)(e,t,n),l._OrtAddSessionConfigEntry=(e,t,n)=>(l._OrtAddSessionConfigEntry=ht.ba)(e,t,n),l._OrtReleaseSessionOptions=e=>(l._OrtReleaseSessionOptions=ht.ca)(e),l._OrtCreateSession=(e,t,n)=>(l._OrtCreateSession=ht.da)(e,t,n),l._OrtReleaseSession=e=>(l._OrtReleaseSession=ht.ea)(e),l._OrtGetInputOutputCount=(e,t,n)=>(l._OrtGetInputOutputCount=ht.fa)(e,t,n),l._OrtGetInputName=(e,t)=>(l._OrtGetInputName=ht.ga)(e,t),l._OrtGetOutputName=(e,t)=>(l._OrtGetOutputName=ht.ha)(e,t),l._OrtFree=e=>(l._OrtFree=ht.ia)(e),l._OrtCreateTensor=(e,t,n,r,o,i)=>(l._OrtCreateTensor=ht.ja)(e,t,n,r,o,i),l._OrtGetTensorData=(e,t,n,r,o)=>(l._OrtGetTensorData=ht.ka)(e,t,n,r,o),l._OrtReleaseTensor=e=>(l._OrtReleaseTensor=ht.la)(e),l._OrtCreateRunOptions=(e,t,n,r)=>(l._OrtCreateRunOptions=ht.ma)(e,t,n,r),l._OrtAddRunConfigEntry=(e,t,n)=>(l._OrtAddRunConfigEntry=ht.na)(e,t,n),l._OrtReleaseRunOptions=e=>(l._OrtReleaseRunOptions=ht.oa)(e),l._OrtCreateBinding=e=>(l._OrtCreateBinding=ht.pa)(e),l._OrtBindInput=(e,t,n)=>(l._OrtBindInput=ht.qa)(e,t,n),l._OrtBindOutput=(e,t,n,r)=>(l._OrtBindOutput=ht.ra)(e,t,n,r),l._OrtClearBoundOutputs=e=>(l._OrtClearBoundOutputs=ht.sa)(e),l._OrtReleaseBinding=e=>(l._OrtReleaseBinding=ht.ta)(e),l._OrtRunWithBinding=(e,t,n,r,o)=>(l._OrtRunWithBinding=ht.ua)(e,t,n,r,o),l._OrtRun=(e,t,n,r,o,i,a,s)=>(l._OrtRun=ht.va)(e,t,n,r,o,i,a,s),l._OrtEndProfiling=e=>(l._OrtEndProfiling=ht.wa)(e),l._OrtConfigure=(e,t)=>(l._OrtConfigure=ht.xa)(e,t),l._OrtAuth=(e,t)=>(l._OrtAuth=ht.ya)(e,t);var gt=()=>(gt=ht.za)(),mt=l._pthread_self=()=>(mt=l._pthread_self=ht.Aa)(),yt=l._malloc=e=>(yt=l._malloc=ht.Ba)(e);l._free=e=>(l._free=ht.Ca)(e),l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=ht.Da)();var bt=l.__emscripten_thread_init=(e,t,n,r,o,i)=>(bt=l.__emscripten_thread_init=ht.Fa)(e,t,n,r,o,i);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=ht.Ga)();var _t,vt=(e,t,n,r)=>(vt=ht.Ha)(e,t,n,r),wt=e=>(wt=ht.Ia)(e),It=l.__emscripten_thread_exit=e=>(It=l.__emscripten_thread_exit=ht.Ja)(e),xt=()=>(xt=ht.Ka)(),At=e=>(At=ht.La)(e),Tt=(e,t)=>(Tt=ht.Ma)(e,t),Ct=()=>(Ct=ht.Na)(),Et=e=>(Et=ht.Oa)(e),St=e=>(St=ht.Pa)(e);function Ot(){if(!(0<j))if(_)s(l),_||he($),startWorker(l);else{if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)M.unshift(l.preRun.shift());he(M),0<j||_t||(_t=!0,l.calledRun=!0,N||(_||he($),s(l),_||he(V)));}}return l.___start_em_js=887001,l.___stop_em_js=887613,l.wasmMemory=S,l.stackAlloc=St,l.stackSave=Ct,l.stackRestore=Et,l.keepRuntimeAlive=()=>0<re,l.addFunction=ft,l.UTF8ToString=ae,l.stringToUTF8=Ce,l.lengthBytesUTF8=Ae,l.ExitStatus=ee,l.PThread=de,W=function e(){_t||Ot(),_t||(W=e);},Ot(),e.ready;});"object"==typeof e&&"object"==typeof t?t.exports=r:"function"==typeof define&&define.amd&&define([],()=>r);}),Wp=ye((e,t)=>{t.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n';}),Hp,Tg,ha,ma,Bo,Vp,xg,wg,vg,jp,Oe,Kr=L(()=>{Hp=Bp(),Tg=zp(),ma=!1,Bo=!1,Vp=!1,xg=e=>{if(1===e)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+e+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+e+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));}catch{return!1;}},wg=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]));}catch{return!1;}},vg=(e,t)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",jp=async e=>{if(ma)return Promise.resolve();if(Bo)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Vp)throw new Error("previous call to 'initializeWebAssembly()' failed.");Bo=!0;let t=e.initTimeout,n=e.numThreads,r=e.simd,o=xg(n),i=r&&wg(),a=e.wasmPaths,s="string"==typeof a?a:void 0,u=vg(i,o),l="object"==typeof a?a[u]:void 0,c=!1,f=[];if(t>0&&f.push(new Promise(e=>{setTimeout(()=>{c=!0,e();},t);})),f.push(new Promise((e,t)=>{let r=o?Tg:Hp,i={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Wp()],{type:"text/javascript"})):e.endsWith(".wasm")?l||(s??t)+u:t+e};if(o)if(i.numThreads=n,typeof Blob>"u")i.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let e=`var ortWasmThreaded=${r.toString()};`;i.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"});}r(i).then(t=>{Bo=!1,ma=!0,ha=t,e();},e=>{Bo=!1,Vp=!0,t(e);});})),await Promise.race(f),c)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`);},Oe=()=>{if(ma&&ha)return ha;throw new Error("WebAssembly is not initialized yet.");};}),Ce,vn,Ae,ko=L(()=>{Kr(),Ce=(e,t)=>{let n=Oe(),r=n.lengthBytesUTF8(e)+1,o=n._malloc(r);return n.stringToUTF8(e,o,r),t.push(o),o;},vn=(e,t,n,r)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e);}Object.entries(e).forEach(_ref=>{let[e,o]=_ref;let i=t?t+e:e;if("object"==typeof o)vn(o,i+".",n,r);else if("string"==typeof o||"number"==typeof o)r(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can't handle extra config type: "+typeof o);r(i,o?"1":"0");}});},Ae=e=>{let t=Oe(),n=t.stackSave();try{let n=t.stackAlloc(8);t._OrtGetLastError(n,n+4);let r=t.HEAP32[n/4],o=t.HEAPU32[n/4+1],i=o?t.UTF8ToString(o):"";throw new Error(`${e} ERROR_CODE: ${r}, ERROR_MESSAGE: ${i}`);}finally{t.stackRestore(n);}};}),qp,Yp=L(()=>{Kr(),ko(),qp=e=>{let t=Oe(),n=0,r=[],o=e||{};try{if(void 0===e?.logSeverityLevel)o.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===e?.logVerbosityLevel)o.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===e?.terminate&&(o.terminate=!1);let i=0;return void 0!==e?.tag&&(i=Ce(e.tag,r)),n=t._OrtCreateRunOptions(o.logSeverityLevel,o.logVerbosityLevel,!!o.terminate,i),0===n&&Ae("Can't create run options."),void 0!==e?.extra&&vn(e.extra,"",new WeakSet(),(e,o)=>{let i=Ce(e,r),a=Ce(o,r);0!==t._OrtAddRunConfigEntry(n,i,a)&&Ae(`Can't set a run config entry: ${e} - ${o}.`);}),[n,r];}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),r.forEach(e=>t._free(e)),e;}};}),_g,Og,Ig,Sg,Xp,Kp=L(()=>{Kr(),ko(),_g=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`);}},Og=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`);}},Ig=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some(e=>"webgpu"===("string"==typeof e?e:e.name))&&(e.enableMemPattern=!1);},Sg=(e,t,n)=>{for(let r of t){let t="string"==typeof r?r:r.name;switch(t){case"webnn":if(t="WEBNN","string"!=typeof r){let t=r;if(t?.deviceType){let r=Ce("deviceType",n),o=Ce(t.deviceType,n);0!==Oe()._OrtAddSessionConfigEntry(e,r,o)&&Ae(`Can't set a session config entry: 'deviceType' - ${t.deviceType}.`);}if(t?.numThreads){let r=t.numThreads;("number"!=typeof r||!Number.isInteger(r)||r<0)&&(r=0);let o=Ce("numThreads",n),i=Ce(r.toString(),n);0!==Oe()._OrtAddSessionConfigEntry(e,o,i)&&Ae(`Can't set a session config entry: 'numThreads' - ${t.numThreads}.`);}if(t?.powerPreference){let r=Ce("powerPreference",n),o=Ce(t.powerPreference,n);0!==Oe()._OrtAddSessionConfigEntry(e,r,o)&&Ae(`Can't set a session config entry: 'powerPreference' - ${t.powerPreference}.`);}}break;case"webgpu":if(t="JS","string"!=typeof r){let t=r;if(t?.preferredLayout){if("NCHW"!==t.preferredLayout&&"NHWC"!==t.preferredLayout)throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${t.preferredLayout}`);let r=Ce("preferredLayout",n),o=Ce(t.preferredLayout,n);0!==Oe()._OrtAddSessionConfigEntry(e,r,o)&&Ae(`Can't set a session config entry: 'preferredLayout' - ${t.preferredLayout}.`);}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`);}let o=Ce(t,n);0!==Oe()._OrtAppendExecutionProvider(e,o)&&Ae(`Can't append execution provider: ${t}.`);}},Xp=e=>{let t=Oe(),n=0,r=[],o=e||{};Ig(o);try{let e=_g(o.graphOptimizationLevel??"all"),i=Og(o.executionMode??"sequential"),a="string"==typeof o.logId?Ce(o.logId,r):0,s=o.logSeverityLevel??2;if(!Number.isInteger(s)||s<0||s>4)throw new Error(`log serverity level is not valid: ${s}`);let u=o.logVerbosityLevel??0;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log verbosity level is not valid: ${u}`);let l="string"==typeof o.optimizedModelFilePath?Ce(o.optimizedModelFilePath,r):0;if(n=t._OrtCreateSessionOptions(e,!!o.enableCpuMemArena,!!o.enableMemPattern,i,!!o.enableProfiling,0,a,s,u,l),0===n&&Ae("Can't create session options."),o.executionProviders&&Sg(n,o.executionProviders,r),o.freeDimensionOverrides)for(let[e,i]of Object.entries(o.freeDimensionOverrides)){if("string"!=typeof e)throw new Error(`free dimension override name must be a string: ${e}`);if("number"!=typeof i||!Number.isInteger(i)||i<0)throw new Error(`free dimension override value must be a non-negative integer: ${i}`);let o=Ce(e,r);0!==t._OrtAddFreeDimensionOverride(n,o,i)&&Ae(`Can't set a free dimension override: ${e} - ${i}.`);}return void 0!==o.extra&&vn(o.extra,"",new WeakSet(),(e,o)=>{let i=Ce(e,r),a=Ce(o,r);0!==t._OrtAddSessionConfigEntry(n,i,a)&&Ae(`Can't set a session config entry: ${e} - ${o}.`);}),[n,r];}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),r.forEach(e=>t._free(e)),e;}};}),ba,Jp,ga,Zp,Qp,No,ed,ya=L(()=>{ba=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`);}},Jp=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`);}},ga=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],Zp=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`);}},Qp=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`);}},No=e=>"float32"===e||"int32"===e||"int64"===e||"bool"===e||"float16"===e||"uint32"===e,ed=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${e}`);}};}),_n,Ta=L(()=>{_n=async e=>{if("string"!=typeof e)return e instanceof Blob?new Uint8Array(await e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e);if(!(typeof process<"u"&&process.versions&&process.versions.node)){let t=await fetch(e);if(!t.ok)throw new Error(`failed to load external data file: ${e}`);let n=t.headers.get("Content-Length"),r=n?parseInt(n,10):0;if(r<1073741824)return new Uint8Array(await t.arrayBuffer());{if(!t.body)throw new Error(`failed to load external data file: ${e}, no response body.`);let n,o=t.body.getReader();try{n=new ArrayBuffer(r);}catch(e){if(!(e instanceof RangeError))throw e;{let e=Math.ceil(r/65536);n=new WebAssembly.Memory({initial:e,maximum:e}).buffer;}}let i=0;for(;;){let{done:e,value:t}=await o.read();if(e)break;let r=t.byteLength;new Uint8Array(n,i,r).set(t),i+=r;}return new Uint8Array(n,0,r);}}try{return new Uint8Array(await(void 0)(e));}catch(t){if("ERR_FS_FILE_TOO_LARGE"===t.code){let t=(void 0)(e),n=[];for await(let e of t)n.push(e);return new Uint8Array(Buffer.concat(n));}throw t;}};}),Ag,rd,nd,On,Eg,xa,od,id,Pg,td,ad,sd,ud,ld,wa,fd=L(()=>{Yp(),Kp(),ya(),Kr(),ko(),Ta(),Ag=(e,t)=>{0!==Oe()._OrtInit(e,t)&&Ae("Can't initialize onnxruntime.");},rd=async e=>{Ag(e.wasm.numThreads,Qp(e.logLevel));},nd=async(e,t)=>{},On=new Map(),Eg=e=>{let t=Oe(),n=t.stackSave();try{let n=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,n,n+4)&&Ae("Can't get session input/output count."),[t.HEAP32[n/4],t.HEAP32[n/4+1]];}finally{t.stackRestore(n);}},xa=e=>{let t=Oe(),n=t._malloc(e.byteLength);if(0===n)throw new Error(`Can't create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,n),[n,e.byteLength];},od=async(e,t)=>{let n,r,o=Oe();Array.isArray(e)?[n,r]=e:e.buffer===o.HEAPU8.buffer?[n,r]=[e.byteOffset,e.byteLength]:[n,r]=xa(e);let i=0,a=0,s=[],u=[],l=[];try{if([a,s]=Xp(t),t?.externalData&&o.mountExternalData){let e=[];for(let n of t.externalData){let t="string"==typeof n?n:n.path;e.push(_n("string"==typeof n?n:n.data).then(e=>{o.mountExternalData(t,e);}));}await Promise.all(e);}i=o._OrtCreateSession(n,r,a),0===i&&Ae("Can't create a session.");let[e,c]=Eg(i),f=[],p=[];for(let t=0;t<e;t++){let e=o._OrtGetInputName(i,t);0===e&&Ae("Can't get an input name."),u.push(e),f.push(o.UTF8ToString(e));}for(let e=0;e<c;e++){let t=o._OrtGetOutputName(i,e);0===t&&Ae("Can't get an output name."),l.push(t);let n=o.UTF8ToString(t);p.push(n);}let d=null;return On.set(i,[i,u,l,d]),[i,f,p];}catch(e){throw u.forEach(e=>o._OrtFree(e)),l.forEach(e=>o._OrtFree(e)),0!==i&&o._OrtReleaseSession(i),e;}finally{o._free(n),0!==a&&o._OrtReleaseSessionOptions(a),s.forEach(e=>o._free(e)),o.unmountExternalData?.();}},id=e=>{let t=Oe(),n=On.get(e);if(!n)throw new Error(`cannot release session. invalid session id: ${e}`);let[r,o,i,a]=n;a&&t._OrtReleaseBinding(a.handle),t.jsepUnregisterBuffers?.(e),o.forEach(e=>t._OrtFree(e)),i.forEach(e=>t._OrtFree(e)),t._OrtReleaseSession(r),On.delete(e);},Pg=(e,t,n)=>{if(null!==e&&e[0]===t){let t=e[2];if(t.length===n)return t;}return new(Zp(t))(n);},td=(e,t,n,r,o)=>{if(!e)return void t.push(0);let i,a,s=Oe(),u=e[0],l=e[1],c=e[3];if("string"===u&&"gpu-buffer"===c)throw new Error("String tensor is not supported on GPU.");if("gpu-buffer"===c){let t=e[2].gpuBuffer,n=ga(ba(u));a=l.reduce((e,t)=>e*t,1)*n,i=s.jsepRegisterBuffer(r,o,t,a);}else{let t=e[2];if(Array.isArray(t)){a=4*t.length,i=s._malloc(a),n.push(i);let e=i/4;for(let r=0;r<t.length;r++){if("string"!=typeof t[r])throw new TypeError(`tensor data at index ${r} is not a string`);s.HEAPU32[e++]=Ce(t[r],n);}}else a=t.byteLength,i=s._malloc(a),n.push(i),s.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,a),i);}let f=s.stackSave(),p=s.stackAlloc(4*l.length);try{let e=p/4;l.forEach(t=>s.HEAP32[e++]=t);let n=s._OrtCreateTensor(ba(u),i,a,p,l.length,ed(c));0===n&&Ae(`Can't create tensor for input/output. session=${r}, index=${o}.`),t.push(n);}finally{s.stackRestore(f);}},ad=e=>{let t=new TextEncoder().encode(e),n=Oe(),r=n._malloc(t.byteLength);n.HEAPU8.set(t,r);let o=n._OrtConfigure(r,t.byteLength);if(0===o)throw new Error("Can't get an configure key");let i=n.UTF8ToString(o);return n._OrtFree(o),i;},sd=e=>{let t=new TextEncoder().encode(e),n=Oe(),r=n._malloc(t.byteLength);n.HEAPU8.set(t,r);let o=n._OrtAuth(r,t.byteLength);if(0===o)throw new Error("Can't get an auth result");let i=n.UTF8ToString(o);return n._OrtFree(o),i;},ud=async(e,t,n,r,o,i)=>{let a=Oe(),s=On.get(e);if(!s)throw new Error(`cannot run inference. invalid session id: ${e}`);let[u,l,c,f]=s,p=t.length,d=r.length,h=0,g=[],m=[],y=[],b=[],_=a.stackSave(),v=a.stackAlloc(4*p),w=a.stackAlloc(4*p),I=a.stackAlloc(4*d),x=a.stackAlloc(4*d);try{[h,g]=qp(i);for(let r=0;r<p;r++)td(n[r],m,b,e,t[r]);for(let t=0;t<d;t++){let n=o[t];td("gpu-buffer"===(n?.[3]??"")?n:null,y,b,e,p+r[t]);}let s,_=v/4,A=w/4,T=I/4,C=x/4;for(let e=0;e<p;e++)a.HEAPU32[_++]=m[e],a.HEAPU32[A++]=l[t[e]];for(let e=0;e<d;e++)a.HEAPU32[T++]=y[e],a.HEAPU32[C++]=c[r[e]];s=await a._OrtRun(u,w,v,p,x,d,I,h),0!==s&&Ae("failed to call OrtRun().");let E=[];for(let e=0;e<d;e++){let t=a.HEAPU32[I/4+e];if(t===y[e]){E.push(o[e]);continue;}let n,i=a.stackSave(),s=a.stackAlloc(16),u=!1,l=0;try{0!==a._OrtGetTensorData(t,s,s+4,s+8,s+12)&&Ae(`Can't access output tensor data on index ${e}.`);let i=s/4,c=a.HEAPU32[i++];l=a.HEAPU32[i++];let p=a.HEAPU32[i++],d=a.HEAPU32[i++],h=[];for(let e=0;e<d;e++)h.push(a.HEAPU32[p/4+e]);a._OrtFree(p);let g=h.reduce((e,t)=>e*t,1);n=Jp(c);let m=f?.outputPreferredLocations[r[e]];if("string"===n){if("gpu-buffer"===m)throw new Error("String tensor is not supported on GPU.");let e=[],t=l/4;for(let n=0;n<g;n++){let r=a.HEAPU32[t++],o=n===g-1?void 0:a.HEAPU32[t]-r;e.push(a.UTF8ToString(r,o));}E.push([n,h,e,"cpu"]);}else if("gpu-buffer"===m&&g>0){let e=a.jsepGetBuffer(l),r=ga(c);if(void 0===r||!No(n))throw new Error(`Unsupported data type: ${n}`);u=!0,E.push([n,h,{gpuBuffer:e,download:a.jsepCreateDownloader(e,g*r,n),dispose:()=>{a._OrtReleaseTensor(t);}},"gpu-buffer"]);}else{let t=Pg(o[e],n,g);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(a.HEAPU8.subarray(l,l+t.byteLength)),E.push([n,h,t,"cpu"]);}}finally{a.stackRestore(i),"string"===n&&l&&a._free(l),u||a._OrtReleaseTensor(t);}}return f&&a._OrtClearBoundOutputs(f.handle),E;}finally{a.stackRestore(_),m.forEach(e=>a._OrtReleaseTensor(e)),y.forEach(e=>a._OrtReleaseTensor(e)),b.forEach(e=>a._free(e)),0!==h&&a._OrtReleaseRunOptions(h),g.forEach(e=>a._free(e));}},ld=e=>{let t=Oe(),n=On.get(e);if(!n)throw new Error("invalid session id");let r=n[0],o=t._OrtEndProfiling(r);0===o&&Ae("Can't get an profile file name."),t._OrtFree(o);},wa=e=>{let t=[];for(let n of e){let e=n[2];!Array.isArray(e)&&"buffer"in e&&t.push(e.buffer);}return t;};}),cd=ye((e,t)=>{t.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Dt=Object.defineProperty;var on=Object.getOwnPropertyDescriptor;var sn=Object.getOwnPropertyNames;var un=Object.prototype.hasOwnProperty;var Ot=(i,d)=>()=>(i&&(d=i(i=0)),d);var it=(i,d)=>()=>(d||i((d={exports:{}}).exports,d),d.exports),vt=(i,d)=>{for(var o in d)Dt(i,o,{get:d[o],enumerable:!0})},fn=(i,d,o,m)=>{if(d&&typeof d=="object"||typeof d=="function")for(let l of sn(d))!un.call(i,l)&&l!==o&&Dt(i,l,{get:()=>d[l],enumerable:!(m=on(d,l))||m.enumerable});return i};var ze=i=>fn(Dt({},"__esModule",{value:!0}),i);var Ft={};vt(Ft,{createReadStream:()=>Or,readFile:()=>ln,readFileSync:()=>cn});var ln,cn,Or,Ut=Ot(()=>{ln=void 0,cn=void 0,Or=void 0});var Rt={};vt(Rt,{join:()=>dn});var dn,Lt=Ot(()=>{dn=void 0});var Pt={};vt(Pt,{crypto:()=>pn});var pn,It=Ot(()=>{pn=void 0});var Er=it((_r,Bt)=>{"use strict";var vr=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(d={}){var o=d,m,l;o.ready=new Promise((r,a)=>{m=r,l=a});var b=Object.assign({},o),y="./this.program",f=typeof window=="object",x=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R="",W,U,P;if(D){var N=(Ut(),ze(Ft)),I=(Lt(),ze(Rt));R=x?I.dirname(R)+"/":__dirname+"/",W=(r,a)=>(r=be(r)?new URL(r):I.normalize(r),N.readFileSync(r,a?void 0:"utf8")),P=r=>(r=W(r,!0),r.buffer||(r=new Uint8Array(r)),r),U=(r,a,s,c=!0)=>{r=be(r)?new URL(r):I.normalize(r),N.readFile(r,c?void 0:"utf8",(O,_)=>{O?s(O):a(c?_.buffer:_)})},!o.thisProgram&&1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(f||x)&&(x?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),i&&(R=i),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",W=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.send(null),a.responseText},x&&(P=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),U=(r,a,s)=>{var c=new XMLHttpRequest;c.open("GET",r,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?a(c.response):s()},c.onerror=s,c.send(null)});var E=console.log.bind(console),F=console.error.bind(console);Object.assign(o,b),b=null,typeof WebAssembly!="object"&&ae("no native wasm support detected");var k,we=!1,ue,te,S,G,fe;function We(){var r=k.buffer;o.HEAP8=ue=new Int8Array(r),o.HEAP16=new Int16Array(r),o.HEAPU8=te=new Uint8Array(r),o.HEAPU16=new Uint16Array(r),o.HEAP32=S=new Int32Array(r),o.HEAPU32=G=new Uint32Array(r),o.HEAPF32=new Float32Array(r),o.HEAPF64=fe=new Float64Array(r)}var He=[],re=[],V=[],de=0,L=null,Z=null;function ae(r){throw r="Aborted("+r+")",F(r),we=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),l(r),r}var he=r=>r.startsWith("data:application/octet-stream;base64,"),be=r=>r.startsWith("file://"),K;if(K="ort-wasm.wasm",!he(K)){var le=K;K=o.locateFile?o.locateFile(le,R):R+le}function Ee(r){if(P)return P(r);throw"both async and sync fetching of the wasm failed"}function Ce(r){if(f||x){if(typeof fetch=="function"&&!be(r))return fetch(r,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at \'"+r+"\'";return a.arrayBuffer()}).catch(()=>Ee(r));if(U)return new Promise((a,s)=>{U(r,c=>a(new Uint8Array(c)),s)})}return Promise.resolve().then(()=>Ee(r))}function De(r,a,s){return Ce(r).then(c=>WebAssembly.instantiate(c,a)).then(c=>c).then(s,c=>{F(`failed to asynchronously prepare wasm: ${c}`),ae(c)})}function Pe(r,a){var s=K;return typeof WebAssembly.instantiateStreaming!="function"||he(s)||be(s)||D||typeof fetch!="function"?De(s,r,a):fetch(s,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,r).then(a,function(O){return F(`wasm streaming compile failed: ${O}`),F("falling back to ArrayBuffer instantiation"),De(s,r,a)}))}var Me,pe={882112:(r,a,s,c)=>{if(typeof o>"u"||!o.Ga)return 1;if(r=Oe(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=o.Ga.get(r),!r)return 2;if(a>>>=0,s>>>=0,a+s>r.byteLength)return 3;try{return te.set(r.subarray(a,a+s),c>>>0>>>0),0}catch{return 4}}};function Se(r){this.Da=r-24,this.Fa=function(a){G[this.Da+4>>>2>>>0]=a},this.Ea=function(a){G[this.Da+8>>>2>>>0]=a},this.La=function(a,s){this.Ma(),this.Fa(a),this.Ea(s)},this.Ma=function(){G[this.Da+16>>>2>>>0]=0}}var Ae=0,J=0,ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fe=(r,a,s)=>{a>>>=0;var c=a+s;for(s=a;r[s]&&!(s>=c);)++s;if(16<s-a&&r.buffer&&ce)return ce.decode(r.subarray(a,s));for(c="";a<s;){var O=r[a++];if(O&128){var _=r[a++]&63;if((O&224)==192)c+=String.fromCharCode((O&31)<<6|_);else{var A=r[a++]&63;O=(O&240)==224?(O&15)<<12|_<<6|A:(O&7)<<18|_<<12|A<<6|r[a++]&63,65536>O?c+=String.fromCharCode(O):(O-=65536,c+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else c+=String.fromCharCode(O)}return c},Oe=(r,a)=>(r>>>=0)?Fe(te,r,a):"",Te=r=>{for(var a=0,s=0;s<r.length;++s){var c=r.charCodeAt(s);127>=c?a++:2047>=c?a+=2:55296<=c&&57343>=c?(a+=4,++s):a+=3}return a},Ye=(r,a,s,c)=>{if(s>>>=0,!(0<c))return 0;var O=s;c=s+c-1;for(var _=0;_<r.length;++_){var A=r.charCodeAt(_);if(55296<=A&&57343>=A){var $=r.charCodeAt(++_);A=65536+((A&1023)<<10)|$&1023}if(127>=A){if(s>=c)break;a[s++>>>0]=A}else{if(2047>=A){if(s+1>=c)break;a[s++>>>0]=192|A>>6}else{if(65535>=A){if(s+2>=c)break;a[s++>>>0]=224|A>>12}else{if(s+3>=c)break;a[s++>>>0]=240|A>>18,a[s++>>>0]=128|A>>12&63}a[s++>>>0]=128|A>>6&63}a[s++>>>0]=128|A&63}}return a[s>>>0]=0,s-O},Ie=r=>r%4===0&&(r%100!==0||r%400===0),Ke=[0,31,60,91,121,152,182,213,244,274,305,335],lt=[0,31,59,90,120,151,181,212,243,273,304,334],Ue=r=>{var a=Te(r)+1,s=me(a);return s&&Ye(r,te,s,a),s},Ge=[],Be={},Ve=()=>{if(!qe){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},a;for(a in Be)Be[a]===void 0?delete r[a]:r[a]=Be[a];var s=[];for(a in r)s.push(`${a}=${r[a]}`);qe=s}return qe},qe,Ne=[null,[],[]],ct=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return s=>crypto.getRandomValues(s);if(D)try{var r=(It(),ze(Pt));if(r.randomFillSync)return s=>r.randomFillSync(s);var a=r.randomBytes;return s=>(s.set(a(s.byteLength)),s)}catch{}ae("initRandomDevice")},et=r=>(et=ct())(r),ke=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function z(r){var a=Array(Te(r)+1);return Ye(r,a,0,a.length),a}function tt(r,a,s,c){function O(p,H,Y){for(p=typeof p=="number"?p.toString():p||"";p.length<H;)p=Y[0]+p;return p}function _(p,H){return O(p,H,"0")}function A(p,H){function Y(Xe){return 0>Xe?-1:0<Xe?1:0}var ve;return(ve=Y(p.getFullYear()-H.getFullYear()))===0&&(ve=Y(p.getMonth()-H.getMonth()))===0&&(ve=Y(p.getDate()-H.getDate())),ve}function $(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function oe(p){var H=p.ya;for(p=new Date(new Date(p.za+1900,0,1).getTime());0<H;){var Y=p.getMonth(),ve=(Ie(p.getFullYear())?ke:dt)[Y];if(H>ve-p.getDate())H-=ve-p.getDate()+1,p.setDate(1),11>Y?p.setMonth(Y+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+H);break}}return Y=new Date(p.getFullYear()+1,0,4),H=$(new Date(p.getFullYear(),0,4)),Y=$(Y),0>=A(H,p)?0>=A(Y,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}r>>>=0,a>>>=0,s>>>=0,c>>>=0;var se=G[c+40>>>2>>>0];c={Ja:S[c>>>2>>>0],Ia:S[c+4>>>2>>>0],Aa:S[c+8>>>2>>>0],Ca:S[c+12>>>2>>>0],Ba:S[c+16>>>2>>>0],za:S[c+20>>>2>>>0],xa:S[c+24>>>2>>>0],ya:S[c+28>>>2>>>0],Na:S[c+32>>>2>>>0],Ha:S[c+36>>>2>>>0],Ka:se?Oe(se):""},s=Oe(s),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in se)s=s.replace(new RegExp(ie,"g"),se[ie]);var ot="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");se={"%a":p=>ot[p.xa].substring(0,3),"%A":p=>ot[p.xa],"%b":p=>st[p.Ba].substring(0,3),"%B":p=>st[p.Ba],"%C":p=>_((p.za+1900)/100|0,2),"%d":p=>_(p.Ca,2),"%e":p=>O(p.Ca,2," "),"%g":p=>oe(p).toString().substring(2),"%G":p=>oe(p),"%H":p=>_(p.Aa,2),"%I":p=>(p=p.Aa,p==0?p=12:12<p&&(p-=12),_(p,2)),"%j":p=>{for(var H=0,Y=0;Y<=p.Ba-1;H+=(Ie(p.za+1900)?ke:dt)[Y++]);return _(p.Ca+H,3)},"%m":p=>_(p.Ba+1,2),"%M":p=>_(p.Ia,2),"%n":()=>`\n`,"%p":p=>0<=p.Aa&&12>p.Aa?"AM":"PM","%S":p=>_(p.Ja,2),"%t":()=>"\t","%u":p=>p.xa||7,"%U":p=>_(Math.floor((p.ya+7-p.xa)/7),2),"%V":p=>{var H=Math.floor((p.ya+7-(p.xa+6)%7)/7);if(2>=(p.xa+371-p.ya-2)%7&&H++,H)H==53&&(Y=(p.xa+371-p.ya)%7,Y==4||Y==3&&Ie(p.za)||(H=1));else{H=52;var Y=(p.xa+7-p.ya-1)%7;(Y==4||Y==5&&Ie(p.za%400-1))&&H++}return _(H,2)},"%w":p=>p.xa,"%W":p=>_(Math.floor((p.ya+7-(p.xa+6)%7)/7),2),"%y":p=>(p.za+1900).toString().substring(2),"%Y":p=>p.za+1900,"%z":p=>{p=p.Ha;var H=0<=p;return p=Math.abs(p)/60,(H?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.Ka,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ie in se)s.includes(ie)&&(s=s.replace(new RegExp(ie,"g"),se[ie](c)));return s=s.replace(/\\0\\0/g,"%"),ie=z(s),ie.length>a?0:(ue.set(ie,r>>>0),ie.length-1)}var xe=[],ye,Re,pt=[],M=(r,a)=>{if(!Re){Re=new WeakMap;var s=ye.length;if(Re)for(var c=0;c<0+s;c++){var O=c,_=xe[O];_||(O>=xe.length&&(xe.length=O+1),xe[O]=_=ye.get(O)),(O=_)&&Re.set(O,c)}}if(s=Re.get(r)||0)return s;if(pt.length)s=pt.pop();else{try{ye.grow(1)}catch($){throw $ instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":$}s=ye.length-1}try{c=s,ye.set(c,r),xe[c]=ye.get(c)}catch($){if(!($ instanceof TypeError))throw $;if(typeof WebAssembly.Function=="function"){c=WebAssembly.Function,O={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},_={parameters:[],results:a[0]=="v"?[]:[O[a[0]]]};for(var A=1;A<a.length;++A)_.parameters.push(O[a[A]]);a=new c(_,r)}else{for(c=[1],O=a.slice(0,1),a=a.slice(1),_={i:127,p:127,j:126,f:125,d:124,e:111},c.push(96),A=a.length,128>A?c.push(A):c.push(A%128|128,A>>7),A=0;A<a.length;++A)c.push(_[a[A]]);O=="v"?c.push(0):c.push(1,_[O]),a=[0,97,115,109,1,0,0,0,1],O=c.length,128>O?a.push(O):a.push(O%128|128,O>>7),a.push.apply(a,c),a.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),a=new WebAssembly.Module(new Uint8Array(a)),a=new WebAssembly.Instance(a,{e:{f:r}}).exports.f}c=s,ye.set(c,a),xe[c]=ye.get(c)}return Re.set(r,s),s},Je={a:function(r,a,s){throw r>>>=0,new Se(r).La(a>>>0,s>>>0),Ae=r,J++,Ae},e:function(){return 0},L:function(){},A:function(){},C:function(){},u:function(){return 0},J:function(){},E:function(){},I:function(){},k:function(){},B:function(){},y:function(){},K:function(){},z:function(){},l:()=>1,o:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getUTCSeconds(),S[s+4>>>2>>>0]=r.getUTCMinutes(),S[s+8>>>2>>>0]=r.getUTCHours(),S[s+12>>>2>>>0]=r.getUTCDate(),S[s+16>>>2>>>0]=r.getUTCMonth(),S[s+20>>>2>>>0]=r.getUTCFullYear()-1900,S[s+24>>>2>>>0]=r.getUTCDay(),S[s+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getSeconds(),S[s+4>>>2>>>0]=r.getMinutes(),S[s+8>>>2>>>0]=r.getHours(),S[s+12>>>2>>>0]=r.getDate(),S[s+16>>>2>>>0]=r.getMonth(),S[s+20>>>2>>>0]=r.getFullYear()-1900,S[s+24>>>2>>>0]=r.getDay(),S[s+28>>>2>>>0]=(Ie(r.getFullYear())?Ke:lt)[r.getMonth()]+r.getDate()-1|0,S[s+36>>>2>>>0]=-(60*r.getTimezoneOffset()),a=new Date(r.getFullYear(),6,1).getTimezoneOffset();var c=new Date(r.getFullYear(),0,1).getTimezoneOffset();S[s+32>>>2>>>0]=(a!=c&&r.getTimezoneOffset()==Math.min(c,a))|0},q:function(r){r>>>=0;var a=new Date(S[r+20>>>2>>>0]+1900,S[r+16>>>2>>>0],S[r+12>>>2>>>0],S[r+8>>>2>>>0],S[r+4>>>2>>>0],S[r>>>2>>>0],0),s=S[r+32>>>2>>>0],c=a.getTimezoneOffset(),O=new Date(a.getFullYear(),6,1).getTimezoneOffset(),_=new Date(a.getFullYear(),0,1).getTimezoneOffset(),A=Math.min(_,O);return 0>s?S[r+32>>>2>>>0]=+(O!=_&&A==c):0<s!=(A==c)&&(O=Math.max(_,O),a.setTime(a.getTime()+6e4*((0<s?A:O)-c))),S[r+24>>>2>>>0]=a.getDay(),S[r+28>>>2>>>0]=(Ie(a.getFullYear())?Ke:lt)[a.getMonth()]+a.getDate()-1|0,S[r>>>2>>>0]=a.getSeconds(),S[r+4>>>2>>>0]=a.getMinutes(),S[r+8>>>2>>>0]=a.getHours(),S[r+12>>>2>>>0]=a.getDate(),S[r+16>>>2>>>0]=a.getMonth(),S[r+20>>>2>>>0]=a.getYear(),r=a.getTime(),isNaN(r)?(S[Le()>>>2>>>0]=61,r=-1):r/=1e3,rt((Me=r,1<=+Math.abs(Me)?0<Me?+Math.floor(Me/4294967296)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)),r>>>0},m:function(){return-52},n:function(){},w:function(r,a,s){function c(oe){return(oe=oe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?oe[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),_=new Date(O,0,1),A=new Date(O,6,1);O=_.getTimezoneOffset();var $=A.getTimezoneOffset();G[r>>>0>>>2>>>0]=60*Math.max(O,$),S[a>>>0>>>2>>>0]=+(O!=$),r=c(_),a=c(A),r=Ue(r),a=Ue(a),$<O?(G[s>>>2>>>0]=r,G[s+4>>>2>>>0]=a):(G[s>>>2>>>0]=a,G[s+4>>>2>>>0]=r)},d:()=>{ae("")},D:function(r,a,s){r>>>=0,a>>>=0,s>>>=0,Ge.length=0;for(var c;c=te[a++>>>0];){var O=c!=105;O&=c!=112,s+=O&&s%8?4:0,Ge.push(c==112?G[s>>>2>>>0]:c==105?S[s>>>2>>>0]:fe[s>>>3>>>0]),s+=O?8:4}return pe[r].apply(null,Ge)},g:()=>Date.now(),x:function(){return 4294901760},b:()=>performance.now(),H:function(r,a,s){return a>>>=0,te.copyWithin(r>>>0>>>0,a>>>0,a+(s>>>0)>>>0)},v:function(r){r>>>=0;var a=te.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var c=a*(1+.2/s);c=Math.min(c,r+100663296);var O=Math;c=Math.max(r,c);e:{O=(O.min.call(O,4294901760,c+(65536-c%65536)%65536)-k.buffer.byteLength+65535)/65536;try{k.grow(O),We();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},F:function(r,a){r>>>=0,a>>>=0;var s=0;return Ve().forEach((c,O)=>{var _=a+s;for(O=G[r+4*O>>>2>>>0]=_,_=0;_<c.length;++_)ue[O++>>>0>>>0]=c.charCodeAt(_);ue[O>>>0>>>0]=0,s+=c.length+1}),0},G:function(r,a){r>>>=0,a>>>=0;var s=Ve();G[r>>>2>>>0]=s.length;var c=0;return s.forEach(O=>c+=O.length+1),G[a>>>2>>>0]=c,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(r,a,s,c){a>>>=0,s>>>=0,c>>>=0;for(var O=0,_=0;_<s;_++){var A=G[a>>>2>>>0],$=G[a+4>>>2>>>0];a+=8;for(var oe=0;oe<$;oe++){var se=te[A+oe>>>0],ie=Ne[r];se===0||se===10?((r===1?E:F)(Fe(ie,0)),ie.length=0):ie.push(se)}O+=$}return G[c>>>2>>>0]=O,0},s:function(r,a){return r>>>=0,et(te.subarray(r>>>0,r+(a>>>0)>>>0)),0},t:tt,c:function(r,a,s,c){return tt(r>>>0,a>>>0,s>>>0,c>>>0)},h:function(r,a,s,c){let O=ye.length;r=new Uint8Array(te.slice(r+a,r+s));try{var _=new WebAssembly.Module(r),A=new WebAssembly.Instance(_,{env:{memory:k}}),$;for($ in A.exports)M(A.exports[$]);return O<ye.length?O:c}catch(oe){return console.log(oe),c}}},C=function(){function r(s){return C=s.exports,C=ht(),k=C.M,We(),ye=C.sa,re.unshift(C.N),de--,de==0&&(L!==null&&(clearInterval(L),L=null),Z&&(s=Z,Z=null,s())),C}var a={a:Je};if(de++,o.instantiateWasm)try{return o.instantiateWasm(a,r)}catch(s){F(`Module.instantiateWasm callback failed with error: ${s}`),l(s)}return Pe(a,function(s){r(s.instance)}).catch(l),{}}();o._OrtInit=(r,a)=>(o._OrtInit=C.O)(r,a),o._OrtGetLastError=(r,a)=>(o._OrtGetLastError=C.P)(r,a),o._OrtCreateSessionOptions=(r,a,s,c,O,_,A,$,oe,se)=>(o._OrtCreateSessionOptions=C.Q)(r,a,s,c,O,_,A,$,oe,se),o._OrtAppendExecutionProvider=(r,a)=>(o._OrtAppendExecutionProvider=C.R)(r,a),o._OrtAddFreeDimensionOverride=(r,a,s)=>(o._OrtAddFreeDimensionOverride=C.S)(r,a,s),o._OrtAddSessionConfigEntry=(r,a,s)=>(o._OrtAddSessionConfigEntry=C.T)(r,a,s),o._OrtReleaseSessionOptions=r=>(o._OrtReleaseSessionOptions=C.U)(r),o._OrtCreateSession=(r,a,s)=>(o._OrtCreateSession=C.V)(r,a,s),o._OrtReleaseSession=r=>(o._OrtReleaseSession=C.W)(r),o._OrtGetInputOutputCount=(r,a,s)=>(o._OrtGetInputOutputCount=C.X)(r,a,s),o._OrtGetInputName=(r,a)=>(o._OrtGetInputName=C.Y)(r,a),o._OrtGetOutputName=(r,a)=>(o._OrtGetOutputName=C.Z)(r,a),o._OrtFree=r=>(o._OrtFree=C._)(r),o._OrtCreateTensor=(r,a,s,c,O,_)=>(o._OrtCreateTensor=C.$)(r,a,s,c,O,_),o._OrtGetTensorData=(r,a,s,c,O)=>(o._OrtGetTensorData=C.aa)(r,a,s,c,O),o._OrtReleaseTensor=r=>(o._OrtReleaseTensor=C.ba)(r),o._OrtCreateRunOptions=(r,a,s,c)=>(o._OrtCreateRunOptions=C.ca)(r,a,s,c),o._OrtAddRunConfigEntry=(r,a,s)=>(o._OrtAddRunConfigEntry=C.da)(r,a,s),o._OrtReleaseRunOptions=r=>(o._OrtReleaseRunOptions=C.ea)(r),o._OrtCreateBinding=r=>(o._OrtCreateBinding=C.fa)(r),o._OrtBindInput=(r,a,s)=>(o._OrtBindInput=C.ga)(r,a,s),o._OrtBindOutput=(r,a,s,c)=>(o._OrtBindOutput=C.ha)(r,a,s,c),o._OrtClearBoundOutputs=r=>(o._OrtClearBoundOutputs=C.ia)(r),o._OrtReleaseBinding=r=>(o._OrtReleaseBinding=C.ja)(r),o._OrtRunWithBinding=(r,a,s,c,O)=>(o._OrtRunWithBinding=C.ka)(r,a,s,c,O),o._OrtRun=(r,a,s,c,O,_,A,$)=>(o._OrtRun=C.la)(r,a,s,c,O,_,A,$),o._OrtEndProfiling=r=>(o._OrtEndProfiling=C.ma)(r),o._OrtConfigure=(r,a)=>(o._OrtConfigure=C.na)(r,a),o._OrtAuth=(r,a)=>(o._OrtAuth=C.oa)(r,a);var Le=()=>(Le=C.pa)(),me=o._malloc=r=>(me=o._malloc=C.qa)(r);o._free=r=>(o._free=C.ra)(r);var rt=r=>(rt=C.ta)(r),mt=()=>(mt=C.ua)(),nt=r=>(nt=C.va)(r),gt=r=>(gt=C.wa)(r);o.___start_em_js=882613,o.___stop_em_js=883225;function ht(){var r=C;r=Object.assign({},r);var a=c=>()=>c()>>>0,s=c=>O=>c(O)>>>0;return r.pa=a(r.pa),r.qa=s(r.qa),r.ua=a(r.ua),r.wa=s(r.wa),r}o.stackAlloc=gt,o.stackSave=mt,o.stackRestore=nt,o.addFunction=M,o.UTF8ToString=Oe,o.stringToUTF8=(r,a,s)=>Ye(r,te,a,s),o.lengthBytesUTF8=Te;var $e;Z=function r(){$e||at(),$e||(Z=r)};function at(){if(!(0<de)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;){var r=o.preRun.shift();He.unshift(r)}for(;0<He.length;)He.shift()(o);if(!(0<de||$e||($e=!0,o.calledRun=!0,we))){for(;0<re.length;)re.shift()(o);for(m(o);0<V.length;)V.shift()(o)}}}return at(),d.ready}})();typeof _r=="object"&&typeof Bt=="object"?Bt.exports=vr:typeof define=="function"&&define.amd&&define([],()=>vr)});var Sr=it(()=>{});var Ar=it(()=>{});var Tr={};vt(Tr,{cpus:()=>mn});var mn,Mr=Ot(()=>{mn=void 0});var Dr=it((Cr,Wt)=>{"use strict";var xr=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(d={}){function o(){return V.buffer!=ae.buffer&&Ee(),ae}function m(){return V.buffer!=ae.buffer&&Ee(),he}function l(){return V.buffer!=ae.buffer&&Ee(),be}function b(){return V.buffer!=ae.buffer&&Ee(),K}function y(){return V.buffer!=ae.buffer&&Ee(),le}var f=d,x,D;f.ready=new Promise((e,t)=>{x=e,D=t});var R=Object.assign({},f),W="./this.program",U=(e,t)=>{throw t},P=typeof window=="object",N=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",E=f.ENVIRONMENT_IS_PTHREAD||!1,F="";function k(e){return f.locateFile?f.locateFile(e,F):F+e}var we,ue,te;if(I){var S=(Ut(),ze(Ft)),G=(Lt(),ze(Rt));F=N?G.dirname(F)+"/":__dirname+"/",we=(t,n)=>(t=Oe(t)?new URL(t):G.normalize(t),S.readFileSync(t,n?void 0:"utf8")),te=t=>(t=we(t,!0),t.buffer||(t=new Uint8Array(t)),t),ue=(t,n,u,h=!0)=>{t=Oe(t)?new URL(t):G.normalize(t),S.readFile(t,h?void 0:"utf8",(w,v)=>{w?u(w):n(h?v.buffer:v)})},!f.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),U=(t,n)=>{throw process.exitCode=t,n},f.inspect=()=>"[Emscripten Module object]";let e;try{e=Sr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(P||N)&&(N?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),typeof i<"u"&&i&&(F=i),F.indexOf("blob:")!==0?F=F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):F="",I||(we=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},N&&(te=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ue=(e,t,n)=>{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?t(u.response):n()},u.onerror=n,u.send(null)}));I&&typeof performance>"u"&&(global.performance=Ar().performance);var fe=console.log.bind(console),We=console.error.bind(console);I&&(fe=(...e)=>S.writeSync(1,e.join(" ")+`\n`),We=(...e)=>S.writeSync(2,e.join(" ")+`\n`));var He=fe,re=We;Object.assign(f,R),R=null,typeof WebAssembly!="object"&&ce("no native wasm support detected");var V,de,L=!1,Z,ae,he,be,K,le;function Ee(){var e=V.buffer;f.HEAP8=ae=new Int8Array(e),f.HEAP16=new Int16Array(e),f.HEAPU8=he=new Uint8Array(e),f.HEAPU16=new Uint16Array(e),f.HEAP32=be=new Int32Array(e),f.HEAPU32=K=new Uint32Array(e),f.HEAPF32=new Float32Array(e),f.HEAPF64=le=new Float64Array(e)}var Ce=16777216;if(E)V=f.wasmMemory;else if(f.wasmMemory)V=f.wasmMemory;else if(V=new WebAssembly.Memory({initial:Ce/65536,maximum:65536,shared:!0}),!(V.buffer instanceof SharedArrayBuffer))throw re("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&re("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Ee(),Ce=V.buffer.byteLength;var De=[],Pe=[],Me=[],pe=0,Se=null,Ae=null;function J(){if(pe--,pe==0&&(Se!==null&&(clearInterval(Se),Se=null),Ae)){var e=Ae;Ae=null,e()}}function ce(e){throw e="Aborted("+e+")",re(e),L=!0,Z=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),D(e),e}var Fe=e=>e.startsWith("data:application/octet-stream;base64,"),Oe=e=>e.startsWith("file://"),Te;Te="ort-wasm-threaded.wasm",Fe(Te)||(Te=k(Te));function Ye(e){if(te)return te(e);throw"both async and sync fetching of the wasm failed"}function Ie(e){if(P||N){if(typeof fetch=="function"&&!Oe(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Ye(e));if(ue)return new Promise((t,n)=>{ue(e,u=>t(new Uint8Array(u)),n)})}return Promise.resolve().then(()=>Ye(e))}function Ke(e,t,n){return Ie(e).then(u=>WebAssembly.instantiate(u,t)).then(u=>u).then(n,u=>{re(`failed to asynchronously prepare wasm: ${u}`),ce(u)})}function lt(e,t){var n=Te;return typeof WebAssembly.instantiateStreaming!="function"||Fe(n)||Oe(n)||I||typeof fetch!="function"?Ke(n,e,t):fetch(n,{credentials:"same-origin"}).then(u=>WebAssembly.instantiateStreaming(u,e).then(t,function(h){return re(`wasm streaming compile failed: ${h}`),re("falling back to ArrayBuffer instantiation"),Ke(n,e,t)}))}var Ue,Ge={886500:(e,t,n,u)=>{if(typeof f>"u"||!f.hb)return 1;if(e=ke(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=f.hb.get(e),!e)return 2;if(t>>>=0,n>>>=0,u>>>=0,t+n>e.byteLength)return 3;try{return m().set(e.subarray(t,t+n),u>>>0),0}catch{return 4}}};function Be(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ve=e=>{e.terminate(),e.onmessage=()=>{}},qe=e=>{M.Ta.length==0&&(Re(),M.bb(M.Ta[0]));var t=M.Ta.pop();if(!t)return 6;M.Ua.push(t),M.Qa[e.Sa]=t,t.Sa=e.Sa;var n={cmd:"run",start_routine:e.ob,arg:e.lb,pthread_ptr:e.Sa};return I&&t.unref(),t.postMessage(n,e.ub),0},Ne=0,ct=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,et=(e,t,n)=>{t>>>=0;var u=t+n;for(n=t;e[n]&&!(n>=u);)++n;if(16<n-t&&e.buffer&&ct)return ct.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(u="";t<n;){var h=e[t++];if(h&128){var w=e[t++]&63;if((h&224)==192)u+=String.fromCharCode((h&31)<<6|w);else{var v=e[t++]&63;h=(h&240)==224?(h&15)<<12|w<<6|v:(h&7)<<18|w<<12|v<<6|e[t++]&63,65536>h?u+=String.fromCharCode(h):(h-=65536,u+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else u+=String.fromCharCode(h)}return u},ke=(e,t)=>(e>>>=0)?et(m(),e,t):"",dt=e=>{var t=xt();return e=e(),wt(t),e};function z(e,t){var n=arguments.length-2,u=arguments;return dt(()=>{for(var h=Ct(8*n),w=h>>>3,v=0;v<n;v++){var B=u[2+v];y()[w+v>>>0]=B}return dr(e,n,h,t)})}function tt(e){if(E)return z(0,1,e);Z=e,0<Ne||(M.pb(),f.onExit?.(e),L=!0),U(e,new Be(e))}var xe=e=>{if(Z=e,E)throw C(e),"unwind";tt(e)};function ye(){for(var e=f.numThreads;e--;)Re();De.unshift(()=>{pe++,pt(()=>J())})}function Re(){var e=k("ort-wasm-threaded.worker.js");e=new Worker(e),M.Ta.push(e)}function pt(e){E?e():Promise.all(M.Ta.map(M.bb)).then(e)}var M={Ta:[],Ua:[],gb:[],Qa:{},$a(){E?(M.receiveObjectTransfer=M.nb,M.threadInitTLS=M.fb,M.setExitStatus=M.eb):ye()},eb:e=>Z=e,xb:["$terminateWorker"],pb:()=>{for(var e of M.Ua)Ve(e);for(e of M.Ta)Ve(e);M.Ta=[],M.Ua=[],M.Qa=[]},cb:e=>{var t=e.Sa;delete M.Qa[t],M.Ta.push(e),M.Ua.splice(M.Ua.indexOf(e),1),e.Sa=0,Tt(t)},nb(){},fb(){M.gb.forEach(e=>e())},bb:e=>new Promise(t=>{e.onmessage=w=>{w=w.data;var v=w.cmd;if(w.targetThread&&w.targetThread!=yt()){var B=M.Qa[w.targetThread];B?B.postMessage(w,w.transferList):re(`Internal error! Worker sent a message "${v}" to target pthread ${w.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ve():v==="spawnThread"?qe(w):v==="cleanupThread"?M.cb(M.Qa[w.thread]):v==="killThread"?(w=w.thread,v=M.Qa[w],delete M.Qa[w],Ve(v),Tt(w),M.Ua.splice(M.Ua.indexOf(v),1),v.Sa=0):v==="cancelThread"?M.Qa[w.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,I&&!e.Sa&&e.unref(),t(e)):v==="alert"?alert(`Thread ${w.threadId}: ${w.text}`):w.target==="setimmediate"?e.postMessage(w):v==="callHandler"?f[w.handler](...w.args):v&&re(`worker sent an unknown command ${v}`)},e.onerror=w=>{throw re(`worker sent an error! ${w.filename}:${w.lineno}: ${w.message}`),w},I&&(e.on("message",w=>e.onmessage({data:w})),e.on("error",w=>e.onerror(w)));var n=[],u=["onExit"],h;for(h of u)f.hasOwnProperty(h)&&n.push(h);e.postMessage({cmd:"load",handlers:n,urlOrBlob:f.mainScriptUrlOrBlob||i,wasmMemory:V,wasmModule:de})})};f.PThread=M;var Je=e=>{for(;0<e.length;)e.shift()(f)};f.establishStackSpace=()=>{var e=yt(),t=b()[e+52>>>2>>>0];e=b()[e+56>>>2>>>0],gr(t,t-e),wt(t)};function C(e){if(E)return z(1,0,e);xe(e)}var Le=[],me,rt=e=>{var t=Le[e];return t||(e>=Le.length&&(Le.length=e+1),Le[e]=t=me.get(e)),t};f.invokeEntryPoint=(e,t)=>{e=rt(e)(t),0<Ne?M.eb(e):Mt(e)};function mt(e){this.Za=e-24,this.kb=function(t){b()[this.Za+4>>>2>>>0]=t},this.jb=function(t){b()[this.Za+8>>>2>>>0]=t},this.$a=function(t,n){this.ib(),this.kb(t),this.jb(n)},this.ib=function(){b()[this.Za+16>>>2>>>0]=0}}var nt=0,gt=0;function ht(e,t,n,u){return E?z(2,1,e,t,n,u):$e(e,t,n,u)}function $e(e,t,n,u){if(e>>>=0,t>>>=0,n>>>=0,u>>>=0,typeof SharedArrayBuffer>"u")return re("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];return E&&h.length===0?ht(e,t,n,u):(e={ob:n,Sa:e,lb:u,ub:h},E?(e.wb="spawnThread",postMessage(e,h),0):qe(e))}function at(e,t,n){return E?z(3,1,e,t,n):0}function r(e,t){if(E)return z(4,1,e,t)}var a=e=>{for(var t=0,n=0;n<e.length;++n){var u=e.charCodeAt(n);127>=u?t++:2047>=u?t+=2:55296<=u&&57343>=u?(t+=4,++n):t+=3}return t},s=(e,t,n,u)=>{if(n>>>=0,!(0<u))return 0;var h=n;u=n+u-1;for(var w=0;w<e.length;++w){var v=e.charCodeAt(w);if(55296<=v&&57343>=v){var B=e.charCodeAt(++w);v=65536+((v&1023)<<10)|B&1023}if(127>=v){if(n>=u)break;t[n++>>>0]=v}else{if(2047>=v){if(n+1>=u)break;t[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=u)break;t[n++>>>0]=224|v>>12}else{if(n+3>=u)break;t[n++>>>0]=240|v>>18,t[n++>>>0]=128|v>>12&63}t[n++>>>0]=128|v>>6&63}t[n++>>>0]=128|v&63}}return t[n>>>0]=0,n-h},c=(e,t,n)=>s(e,m(),t,n);function O(e,t){if(E)return z(5,1,e,t)}function _(e,t,n){if(E)return z(6,1,e,t,n)}function A(e,t,n){return E?z(7,1,e,t,n):0}function $(e,t){if(E)return z(8,1,e,t)}function oe(e,t,n){if(E)return z(9,1,e,t,n)}function se(e,t,n,u){if(E)return z(10,1,e,t,n,u)}function ie(e,t,n,u){if(E)return z(11,1,e,t,n,u)}function ot(e,t,n,u){if(E)return z(12,1,e,t,n,u)}function st(e){if(E)return z(13,1,e)}function p(e,t){if(E)return z(14,1,e,t)}function H(e,t,n){if(E)return z(15,1,e,t,n)}function Y(e){e>>>=0,typeof Atomics.vb=="function"&&(Atomics.vb(l(),e>>>2,e).value.then(ve),e+=128,Atomics.store(l(),e>>>2,1))}f.__emscripten_thread_mailbox_await=Y;var ve=()=>{var e=yt();if(e&&(Y(e),e=pr,!L))try{if(e(),!(0<Ne))try{E?Mt(Z):xe(Z)}catch(t){t instanceof Be||t=="unwind"||U(1,t)}}catch(t){t instanceof Be||t=="unwind"||U(1,t)}};f.checkMailbox=ve;var Xe=[],Qe=e=>e%4===0&&(e%100!==0||e%400===0),Yt=[0,31,60,91,121,152,182,213,244,274,305,335],Gt=[0,31,59,90,120,151,181,212,243,273,304,334];function Vt(e,t,n,u,h,w,v,B){return E?z(16,1,e,t,n,u,h,w,v,B):-52}function qt(e,t,n,u,h,w,v){if(E)return z(17,1,e,t,n,u,h,w,v)}var Jt=e=>{var t=a(e)+1,n=lr(t);return n&&c(e,n,t),n},Et=[],St={},Xt=()=>{if(!At){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},t;for(t in St)St[t]===void 0?delete e[t]:e[t]=St[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);At=n}return At},At;function Qt(e,t){if(E)return z(18,1,e,t);e>>>=0,t>>>=0;var n=0;return Xt().forEach((u,h)=>{var w=t+n;for(h=b()[e+4*h>>>2>>>0]=w,w=0;w<u.length;++w)o()[h++>>>0>>>0]=u.charCodeAt(w);o()[h>>>0>>>0]=0,n+=u.length+1}),0}function Zt(e,t){if(E)return z(19,1,e,t);e>>>=0,t>>>=0;var n=Xt();b()[e>>>2>>>0]=n.length;var u=0;return n.forEach(h=>u+=h.length+1),b()[t>>>2>>>0]=u,0}function Kt(e){return E?z(20,1,e):52}function er(e,t,n,u){return E?z(21,1,e,t,n,u):52}function tr(e,t,n,u,h){return E?z(22,1,e,t,n,u,h):70}var Zr=[null,[],[]];function rr(e,t,n,u){if(E)return z(23,1,e,t,n,u);t>>>=0,n>>>=0,u>>>=0;for(var h=0,w=0;w<n;w++){var v=b()[t>>>2>>>0],B=b()[t+4>>>2>>>0];t+=8;for(var _e=0;_e<B;_e++){var ne=m()[v+_e>>>0],ge=Zr[e];ne===0||ne===10?((e===1?He:re)(et(ge,0)),ge.length=0):ge.push(ne)}h+=B}return b()[u>>>2>>>0]=h,0}var Kr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return n=>(n.set(crypto.getRandomValues(new Uint8Array(n.byteLength))),n);if(I)try{var e=(It(),ze(Pt));if(e.randomFillSync)return n=>e.randomFillSync(n);var t=e.randomBytes;return n=>(n.set(t(n.byteLength)),n)}catch{}ce("initRandomDevice")},nr=e=>(nr=Kr())(e),ar=[31,29,31,30,31,30,31,31,30,31,30,31],or=[31,28,31,30,31,30,31,31,30,31,30,31];function en(e){var t=Array(a(e)+1);return s(e,t,0,t.length),t}var tn=(e,t)=>{o().set(e,t>>>0)};function sr(e,t,n,u){function h(g,j,X){for(g=typeof g=="number"?g.toString():g||"";g.length<j;)g=X[0]+g;return g}function w(g,j){return h(g,j,"0")}function v(g,j){function X(br){return 0>br?-1:0<br?1:0}var je;return(je=X(g.getFullYear()-j.getFullYear()))===0&&(je=X(g.getMonth()-j.getMonth()))===0&&(je=X(g.getDate()-j.getDate())),je}function B(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function _e(g){var j=g.Va;for(g=new Date(new Date(g.Wa+1900,0,1).getTime());0<j;){var X=g.getMonth(),je=(Qe(g.getFullYear())?ar:or)[X];if(j>je-g.getDate())j-=je-g.getDate()+1,g.setDate(1),11>X?g.setMonth(X+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+j);break}}return X=new Date(g.getFullYear()+1,0,4),j=B(new Date(g.getFullYear(),0,4)),X=B(X),0>=v(j,g)?0>=v(X,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,u>>>=0;var ne=b()[u+40>>>2>>>0];u={sb:l()[u>>>2>>>0],rb:l()[u+4>>>2>>>0],Xa:l()[u+8>>>2>>>0],ab:l()[u+12>>>2>>>0],Ya:l()[u+16>>>2>>>0],Wa:l()[u+20>>>2>>>0],Ra:l()[u+24>>>2>>>0],Va:l()[u+28>>>2>>>0],yb:l()[u+32>>>2>>>0],qb:l()[u+36>>>2>>>0],tb:ne?ke(ne):""},n=ke(n),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in ne)n=n.replace(new RegExp(ge,"g"),ne[ge]);var yr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),wr="January February March April May June July August September October November December".split(" ");ne={"%a":g=>yr[g.Ra].substring(0,3),"%A":g=>yr[g.Ra],"%b":g=>wr[g.Ya].substring(0,3),"%B":g=>wr[g.Ya],"%C":g=>w((g.Wa+1900)/100|0,2),"%d":g=>w(g.ab,2),"%e":g=>h(g.ab,2," "),"%g":g=>_e(g).toString().substring(2),"%G":g=>_e(g),"%H":g=>w(g.Xa,2),"%I":g=>(g=g.Xa,g==0?g=12:12<g&&(g-=12),w(g,2)),"%j":g=>{for(var j=0,X=0;X<=g.Ya-1;j+=(Qe(g.Wa+1900)?ar:or)[X++]);return w(g.ab+j,3)},"%m":g=>w(g.Ya+1,2),"%M":g=>w(g.rb,2),"%n":()=>`\n`,"%p":g=>0<=g.Xa&&12>g.Xa?"AM":"PM","%S":g=>w(g.sb,2),"%t":()=>"\t","%u":g=>g.Ra||7,"%U":g=>w(Math.floor((g.Va+7-g.Ra)/7),2),"%V":g=>{var j=Math.floor((g.Va+7-(g.Ra+6)%7)/7);if(2>=(g.Ra+371-g.Va-2)%7&&j++,j)j==53&&(X=(g.Ra+371-g.Va)%7,X==4||X==3&&Qe(g.Wa)||(j=1));else{j=52;var X=(g.Ra+7-g.Va-1)%7;(X==4||X==5&&Qe(g.Wa%400-1))&&j++}return w(j,2)},"%w":g=>g.Ra,"%W":g=>w(Math.floor((g.Va+7-(g.Ra+6)%7)/7),2),"%y":g=>(g.Wa+1900).toString().substring(2),"%Y":g=>g.Wa+1900,"%z":g=>{g=g.qb;var j=0<=g;return g=Math.abs(g)/60,(j?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.tb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(ge in ne)n.includes(ge)&&(n=n.replace(new RegExp(ge,"g"),ne[ge](u)));return n=n.replace(/\\0\\0/g,"%"),ge=en(n),ge.length>t?0:(tn(ge,e),ge.length-1)}var Ze,ir=[],ur=(e,t)=>{if(!Ze){Ze=new WeakMap;var n=me.length;if(Ze)for(var u=0;u<0+n;u++){var h=rt(u);h&&Ze.set(h,u)}}if(n=Ze.get(e)||0)return n;if(ir.length)n=ir.pop();else{try{me.grow(1)}catch(B){throw B instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":B}n=me.length-1}try{u=n,me.set(u,e),Le[u]=me.get(u)}catch(B){if(!(B instanceof TypeError))throw B;if(typeof WebAssembly.Function=="function"){u=WebAssembly.Function,h={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var w={parameters:[],results:t[0]=="v"?[]:[h[t[0]]]},v=1;v<t.length;++v)w.parameters.push(h[t[v]]);t=new u(w,e)}else{for(u=[1],h=t.slice(0,1),t=t.slice(1),w={i:127,p:127,j:126,f:125,d:124,e:111},u.push(96),v=t.length,128>v?u.push(v):u.push(v%128|128,v>>7),v=0;v<t.length;++v)u.push(w[t[v]]);h=="v"?u.push(0):u.push(1,w[h]),t=[0,97,115,109,1,0,0,0,1],h=u.length,128>h?t.push(h):t.push(h%128|128,h>>7),t.push.apply(t,u),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}u=n,me.set(u,t),Le[u]=me.get(u)}return Ze.set(e,n),n};M.$a();var rn=[tt,C,ht,at,r,O,_,A,$,oe,se,ie,ot,st,p,H,Vt,qt,Qt,Zt,Kt,er,tr,rr],nn={b:function(e,t,n){throw e>>>=0,new mt(e).$a(t>>>0,n>>>0),nt=e,gt++,nt},O:function(e){cr(e>>>0,!N,1,!P,131072,!1),M.fb()},m:function(e){e>>>=0,E?postMessage({cmd:"cleanupThread",thread:e}):M.cb(M.Qa[e])},J:$e,h:at,U:r,F:O,H:_,y:A,S:$,L:oe,R:se,o:ie,G:ot,D:st,T:p,E:H,p:()=>1,B:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ve()):E?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.Qa[e])&&e.postMessage({cmd:"checkMailbox"})},K:function(e,t,n,u){t>>>=0,Xe.length=n,u=u>>>0>>>3;for(var h=0;h<n;h++)Xe[h]=y()[u+h>>>0];return e=0>e?Ge[-e-1]:rn[e],M.mb=t,t=e.apply(null,Xe),M.mb=0,t},M:Y,W:function(e){I&&M.Qa[e>>>0].ref()},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getUTCSeconds(),l()[n+4>>>2>>>0]=e.getUTCMinutes(),l()[n+8>>>2>>>0]=e.getUTCHours(),l()[n+12>>>2>>>0]=e.getUTCDate(),l()[n+16>>>2>>>0]=e.getUTCMonth(),l()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>>2>>>0]=e},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getSeconds(),l()[n+4>>>2>>>0]=e.getMinutes(),l()[n+8>>>2>>>0]=e.getHours(),l()[n+12>>>2>>>0]=e.getDate(),l()[n+16>>>2>>>0]=e.getMonth(),l()[n+20>>>2>>>0]=e.getFullYear()-1900,l()[n+24>>>2>>>0]=e.getDay(),t=(Qe(e.getFullYear())?Yt:Gt)[e.getMonth()]+e.getDate()-1|0,l()[n+28>>>2>>>0]=t,l()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var u=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=u&&e.getTimezoneOffset()==Math.min(u,t))|0,l()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),n=l()[e+32>>>2>>>0],u=t.getTimezoneOffset(),h=new Date(t.getFullYear(),6,1).getTimezoneOffset(),w=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(w,h);return 0>n?l()[e+32>>>2>>>0]=+(h!=w&&v==u):0<n!=(v==u)&&(h=Math.max(w,h),t.setTime(t.getTime()+6e4*((0<n?v:h)-u))),l()[e+24>>>2>>>0]=t.getDay(),n=(Qe(t.getFullYear())?Yt:Gt)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=n,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(l()[fr()>>>2>>>0]=61,e=-1):e/=1e3,mr((Ue=e,1<=+Math.abs(Ue)?0<Ue?+Math.floor(Ue/4294967296)>>>0:~~+Math.ceil((Ue-+(~~Ue>>>0))/4294967296)>>>0:0)),e>>>0},q:Vt,r:qt,A:function(e,t,n){function u(ne){return(ne=ne.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ne[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var h=new Date().getFullYear(),w=new Date(h,0,1),v=new Date(h,6,1);h=w.getTimezoneOffset();var B=v.getTimezoneOffset(),_e=Math.max(h,B);b()[e>>>2>>>0]=60*_e,l()[t>>>2>>>0]=+(h!=B),e=u(w),t=u(v),e=Jt(e),t=Jt(t),B<h?(b()[n>>>2>>>0]=e,b()[n+4>>>2>>>0]=t):(b()[n>>>2>>>0]=t,b()[n+4>>>2>>>0]=e)},c:()=>{ce("")},N:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,Et.length=0;for(var u;u=m()[t++>>>0];){var h=u!=105;h&=u!=112,n+=h&&n%8?4:0,Et.push(u==112?b()[n>>>2>>>0]:u==105?l()[n>>>2>>>0]:y()[n>>>3>>>0]),n+=h?8:4}return Ge[e].apply(null,Et)},n:()=>{},i:()=>Date.now(),V:()=>{throw Ne+=1,"unwind"},C:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>I?(Mr(),ze(Tr)).cpus().length:navigator.hardwareConcurrency,z:function(e){e>>>=0;var t=m().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var u=t*(1+.2/n);u=Math.min(u,e+100663296);var h=Math;u=Math.max(e,u);e:{h=(h.min.call(h,4294901760,u+(65536-u%65536)%65536)-V.buffer.byteLength+65535)/65536;try{V.grow(h),Ee();var w=1;break e}catch{}w=void 0}if(w)return!0}return!1},P:Qt,Q:Zt,I:xe,g:Kt,l:er,v:tr,k:rr,w:function(e,t){return e>>>=0,t>>>=0,nr(m().subarray(e>>>0,e+t>>>0)),0},a:V||f.wasmMemory,x:sr,d:function(e,t,n,u){return sr(e>>>0,t>>>0,n>>>0,u>>>0)},j:function(e,t,n,u){let h=me.length;e=new Uint8Array(m().slice(e+t,e+n));try{var w=new WebAssembly.Module(e),v=new WebAssembly.Instance(w,{env:{memory:V}}),B;for(B in v.exports)ur(v.exports[B]);return h<me.length?h:u}catch(_e){return console.log(_e),u}}},T=function(){function e(n,u){return T=n.exports,T=an(),M.gb.push(T.Da),me=T.Ea,Pe.unshift(T.X),de=u,J(),T}var t={a:nn};if(pe++,f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(n){re(`Module.instantiateWasm callback failed with error: ${n}`),D(n)}return lt(t,function(n){e(n.instance,n.module)}).catch(D),{}}();f._OrtInit=(e,t)=>(f._OrtInit=T.Y)(e,t),f._OrtGetLastError=(e,t)=>(f._OrtGetLastError=T.Z)(e,t),f._OrtCreateSessionOptions=(e,t,n,u,h,w,v,B,_e,ne)=>(f._OrtCreateSessionOptions=T._)(e,t,n,u,h,w,v,B,_e,ne),f._OrtAppendExecutionProvider=(e,t)=>(f._OrtAppendExecutionProvider=T.$)(e,t),f._OrtAddFreeDimensionOverride=(e,t,n)=>(f._OrtAddFreeDimensionOverride=T.aa)(e,t,n),f._OrtAddSessionConfigEntry=(e,t,n)=>(f._OrtAddSessionConfigEntry=T.ba)(e,t,n),f._OrtReleaseSessionOptions=e=>(f._OrtReleaseSessionOptions=T.ca)(e),f._OrtCreateSession=(e,t,n)=>(f._OrtCreateSession=T.da)(e,t,n),f._OrtReleaseSession=e=>(f._OrtReleaseSession=T.ea)(e),f._OrtGetInputOutputCount=(e,t,n)=>(f._OrtGetInputOutputCount=T.fa)(e,t,n),f._OrtGetInputName=(e,t)=>(f._OrtGetInputName=T.ga)(e,t),f._OrtGetOutputName=(e,t)=>(f._OrtGetOutputName=T.ha)(e,t),f._OrtFree=e=>(f._OrtFree=T.ia)(e),f._OrtCreateTensor=(e,t,n,u,h,w)=>(f._OrtCreateTensor=T.ja)(e,t,n,u,h,w),f._OrtGetTensorData=(e,t,n,u,h)=>(f._OrtGetTensorData=T.ka)(e,t,n,u,h),f._OrtReleaseTensor=e=>(f._OrtReleaseTensor=T.la)(e),f._OrtCreateRunOptions=(e,t,n,u)=>(f._OrtCreateRunOptions=T.ma)(e,t,n,u),f._OrtAddRunConfigEntry=(e,t,n)=>(f._OrtAddRunConfigEntry=T.na)(e,t,n),f._OrtReleaseRunOptions=e=>(f._OrtReleaseRunOptions=T.oa)(e),f._OrtCreateBinding=e=>(f._OrtCreateBinding=T.pa)(e),f._OrtBindInput=(e,t,n)=>(f._OrtBindInput=T.qa)(e,t,n),f._OrtBindOutput=(e,t,n,u)=>(f._OrtBindOutput=T.ra)(e,t,n,u),f._OrtClearBoundOutputs=e=>(f._OrtClearBoundOutputs=T.sa)(e),f._OrtReleaseBinding=e=>(f._OrtReleaseBinding=T.ta)(e),f._OrtRunWithBinding=(e,t,n,u,h)=>(f._OrtRunWithBinding=T.ua)(e,t,n,u,h),f._OrtRun=(e,t,n,u,h,w,v,B)=>(f._OrtRun=T.va)(e,t,n,u,h,w,v,B),f._OrtEndProfiling=e=>(f._OrtEndProfiling=T.wa)(e),f._OrtConfigure=(e,t)=>(f._OrtConfigure=T.xa)(e,t),f._OrtAuth=(e,t)=>(f._OrtAuth=T.ya)(e,t);var fr=()=>(fr=T.za)(),yt=f._pthread_self=()=>(yt=f._pthread_self=T.Aa)(),lr=f._malloc=e=>(lr=f._malloc=T.Ba)(e);f._free=e=>(f._free=T.Ca)(e),f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=T.Da)();var cr=f.__emscripten_thread_init=(e,t,n,u,h,w)=>(cr=f.__emscripten_thread_init=T.Fa)(e,t,n,u,h,w);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=T.Ga)();var dr=(e,t,n,u)=>(dr=T.Ha)(e,t,n,u),Tt=e=>(Tt=T.Ia)(e),Mt=f.__emscripten_thread_exit=e=>(Mt=f.__emscripten_thread_exit=T.Ja)(e),pr=()=>(pr=T.Ka)(),mr=e=>(mr=T.La)(e),gr=(e,t)=>(gr=T.Ma)(e,t),xt=()=>(xt=T.Na)(),wt=e=>(wt=T.Oa)(e),Ct=e=>(Ct=T.Pa)(e);f.___start_em_js=887001,f.___stop_em_js=887613;function an(){var e=T;e=Object.assign({},e);var t=u=>()=>u()>>>0,n=u=>h=>u(h)>>>0;return e.za=t(e.za),e.Aa=t(e.Aa),e.Ba=n(e.Ba),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Na=t(e.Na),e.Pa=n(e.Pa),e}f.wasmMemory=V,f.stackAlloc=Ct,f.stackSave=xt,f.stackRestore=wt,f.keepRuntimeAlive=()=>0<Ne,f.addFunction=ur,f.UTF8ToString=ke,f.stringToUTF8=c,f.lengthBytesUTF8=a,f.ExitStatus=Be,f.PThread=M;var bt;Ae=function e(){bt||hr(),bt||(Ae=e)};function hr(){if(!(0<pe))if(E)x(f),E||Je(Pe),startWorker(f);else{if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)De.unshift(f.preRun.shift());Je(De),0<pe||bt||(bt=!0,f.calledRun=!0,L||(E||Je(Pe),x(f),E||Je(Me)))}}return hr(),d.ready}})();typeof Cr=="object"&&typeof Wt=="object"?Wt.exports=xr:typeof define=="function"&&define.amd&&define([],()=>xr)});var Fr=it((Un,gn)=>{gn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Rr;Rr=Er();var hn=Dr(),Ht,Nt=!1,_t=!1,Ur=!1,yn=i=>{if(i===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+i+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+i+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},wn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},bn=(i,d)=>i?d?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Lr=async i=>{if(Nt)return Promise.resolve();if(_t)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Ur)throw new Error("previous call to \'initializeWebAssembly()\' failed.");_t=!0;let d=i.initTimeout,o=i.numThreads,m=i.simd,l=yn(o),b=m&&wn(),y=i.wasmPaths,f=typeof y=="string"?y:void 0,x=bn(b,l),D=typeof y=="object"?y[x]:void 0,R=!1,W=[];if(d>0&&W.push(new Promise(U=>{setTimeout(()=>{R=!0,U()},d)})),W.push(new Promise((U,P)=>{let N=l?hn:Rr,I={locateFile:(E,F)=>l&&E.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Fr()],{type:"text/javascript"})):E.endsWith(".wasm")?D||(f??F)+x:F+E};if(l)if(I.numThreads=o,typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let E=`var ortWasmThreaded=${N.toString()};`;I.mainScriptUrlOrBlob=new Blob([E],{type:"text/javascript"})}N(I).then(E=>{_t=!1,Nt=!0,Ht=E,U()},E=>{_t=!1,Ur=!0,P(E)})})),await Promise.race(W),R)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},q=()=>{if(Nt&&Ht)return Ht;throw new Error("WebAssembly is not initialized yet.")};var ee=(i,d)=>{let o=q(),m=o.lengthBytesUTF8(i)+1,l=o._malloc(m);return o.stringToUTF8(i,l,m),d.push(l),l},ut=(i,d,o,m)=>{if(typeof i=="object"&&i!==null){if(o.has(i))throw new Error("Circular reference in options");o.add(i)}Object.entries(i).forEach(([l,b])=>{let y=d?d+l:l;if(typeof b=="object")ut(b,y+".",o,m);else if(typeof b=="string"||typeof b=="number")m(y,b.toString());else if(typeof b=="boolean")m(y,b?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof b}`)})},Q=i=>{let d=q(),o=d.stackSave();try{let m=d.stackAlloc(8);d._OrtGetLastError(m,m+4);let l=d.HEAP32[m/4],b=d.HEAPU32[m/4+1],y=b?d.UTF8ToString(b):"";throw new Error(`${i} ERROR_CODE: ${l}, ERROR_MESSAGE: ${y}`)}finally{d.stackRestore(o)}};var Pr=i=>{let d=q(),o=0,m=[],l=i||{};try{if(i?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(l.terminate=!1);let b=0;return i?.tag!==void 0&&(b=ee(i.tag,m)),o=d._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,b),o===0&&Q("Can\'t create run options."),i?.extra!==void 0&&ut(i.extra,"",new WeakSet,(y,f)=>{let x=ee(y,m),D=ee(f,m);d._OrtAddRunConfigEntry(o,x,D)!==0&&Q(`Can\'t set a run config entry: ${y} - ${f}.`)}),[o,m]}catch(b){throw o!==0&&d._OrtReleaseRunOptions(o),m.forEach(y=>d._free(y)),b}};var On=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},vn=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},_n=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let d=i.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(i.enableMemPattern=!1)},En=(i,d,o)=>{for(let m of d){let l=typeof m=="string"?m:m.name;switch(l){case"webnn":if(l="WEBNN",typeof m!="string"){let y=m;if(y?.deviceType){let f=ee("deviceType",o),x=ee(y.deviceType,o);q()._OrtAddSessionConfigEntry(i,f,x)!==0&&Q(`Can\'t set a session config entry: \'deviceType\' - ${y.deviceType}.`)}if(y?.numThreads){let f=y.numThreads;(typeof f!="number"||!Number.isInteger(f)||f<0)&&(f=0);let x=ee("numThreads",o),D=ee(f.toString(),o);q()._OrtAddSessionConfigEntry(i,x,D)!==0&&Q(`Can\'t set a session config entry: \'numThreads\' - ${y.numThreads}.`)}if(y?.powerPreference){let f=ee("powerPreference",o),x=ee(y.powerPreference,o);q()._OrtAddSessionConfigEntry(i,f,x)!==0&&Q(`Can\'t set a session config entry: \'powerPreference\' - ${y.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof m!="string"){let y=m;if(y?.preferredLayout){if(y.preferredLayout!=="NCHW"&&y.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${y.preferredLayout}`);let f=ee("preferredLayout",o),x=ee(y.preferredLayout,o);q()._OrtAddSessionConfigEntry(i,f,x)!==0&&Q(`Can\'t set a session config entry: \'preferredLayout\' - ${y.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let b=ee(l,o);q()._OrtAppendExecutionProvider(i,b)!==0&&Q(`Can\'t append execution provider: ${l}.`)}},Ir=i=>{let d=q(),o=0,m=[],l=i||{};_n(l);try{let b=On(l.graphOptimizationLevel??"all"),y=vn(l.executionMode??"sequential"),f=typeof l.logId=="string"?ee(l.logId,m):0,x=l.logSeverityLevel??2;if(!Number.isInteger(x)||x<0||x>4)throw new Error(`log serverity level is not valid: ${x}`);let D=l.logVerbosityLevel??0;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log verbosity level is not valid: ${D}`);let R=typeof l.optimizedModelFilePath=="string"?ee(l.optimizedModelFilePath,m):0;if(o=d._OrtCreateSessionOptions(b,!!l.enableCpuMemArena,!!l.enableMemPattern,y,!!l.enableProfiling,0,f,x,D,R),o===0&&Q("Can\'t create session options."),l.executionProviders&&En(o,l.executionProviders,m),l.freeDimensionOverrides)for(let[W,U]of Object.entries(l.freeDimensionOverrides)){if(typeof W!="string")throw new Error(`free dimension override name must be a string: ${W}`);if(typeof U!="number"||!Number.isInteger(U)||U<0)throw new Error(`free dimension override value must be a non-negative integer: ${U}`);let P=ee(W,m);d._OrtAddFreeDimensionOverride(o,P,U)!==0&&Q(`Can\'t set a free dimension override: ${W} - ${U}.`)}return l.extra!==void 0&&ut(l.extra,"",new WeakSet,(W,U)=>{let P=ee(W,m),N=ee(U,m);d._OrtAddSessionConfigEntry(o,P,N)!==0&&Q(`Can\'t set a session config entry: ${W} - ${U}.`)}),[o,m]}catch(b){throw o!==0&&d._OrtReleaseSessionOptions(o),m.forEach(y=>d._free(y)),b}};var kt=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},Br=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},$t=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],Wr=i=>{switch(i){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},Hr=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Nr=i=>i==="float32"||i==="int32"||i==="int64"||i==="bool"||i==="float16"||i==="uint32",kr=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}};var $r=async i=>{if(typeof i=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(i))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let o=(void 0)(i),m=[];for await(let l of o)m.push(l);return new Uint8Array(Buffer.concat(m))}throw d}else{let d=await fetch(i);if(!d.ok)throw new Error(`failed to load external data file: ${i}`);let o=d.headers.get("Content-Length"),m=o?parseInt(o,10):0;if(m<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${i}, no response body.`);let l=d.body.getReader(),b;try{b=new ArrayBuffer(m)}catch(f){if(f instanceof RangeError){let x=Math.ceil(m/65536);b=new WebAssembly.Memory({initial:x,maximum:x}).buffer}else throw f}let y=0;for(;;){let{done:f,value:x}=await l.read();if(f)break;let D=x.byteLength;new Uint8Array(b,y,D).set(x),y+=D}return new Uint8Array(b,0,m)}}else return i instanceof Blob?new Uint8Array(await i.arrayBuffer()):i instanceof Uint8Array?i:new Uint8Array(i)};var Sn=(i,d)=>{q()._OrtInit(i,d)!==0&&Q("Can\'t initialize onnxruntime.")},zr=async i=>{Sn(i.wasm.numThreads,Hr(i.logLevel))},Yr=async(i,d)=>{},ft=new Map,An=i=>{let d=q(),o=d.stackSave();try{let m=d.stackAlloc(8);return d._OrtGetInputOutputCount(i,m,m+4)!==0&&Q("Can\'t get session input/output count."),[d.HEAP32[m/4],d.HEAP32[m/4+1]]}finally{d.stackRestore(o)}},jt=i=>{let d=q(),o=d._malloc(i.byteLength);if(o===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${i.byteLength}.`);return d.HEAPU8.set(i,o),[o,i.byteLength]},Gr=async(i,d)=>{let o,m,l=q();Array.isArray(i)?[o,m]=i:i.buffer===l.HEAPU8.buffer?[o,m]=[i.byteOffset,i.byteLength]:[o,m]=jt(i);let b=0,y=0,f=0,x=[],D=[],R=[];try{if([y,x]=Ir(d),d?.externalData&&l.mountExternalData){let F=[];for(let k of d.externalData){let we=typeof k=="string"?k:k.path;F.push($r(typeof k=="string"?k:k.data).then(ue=>{l.mountExternalData(we,ue)}))}await Promise.all(F)}b=l._OrtCreateSession(o,m,y),b===0&&Q("Can\'t create a session.");let[W,U]=An(b),P=[],N=[],I=[];for(let F=0;F<W;F++){let k=l._OrtGetInputName(b,F);k===0&&Q("Can\'t get an input name."),D.push(k),P.push(l.UTF8ToString(k))}for(let F=0;F<U;F++){let k=l._OrtGetOutputName(b,F);k===0&&Q("Can\'t get an output name."),R.push(k);let we=l.UTF8ToString(k);N.push(we)}let E=null;return ft.set(b,[b,D,R,E]),[b,P,N]}catch(W){throw D.forEach(U=>l._OrtFree(U)),R.forEach(U=>l._OrtFree(U)),f!==0&&l._OrtReleaseBinding(f),b!==0&&l._OrtReleaseSession(b),W}finally{l._free(o),y!==0&&l._OrtReleaseSessionOptions(y),x.forEach(W=>l._free(W)),l.unmountExternalData?.()}},Vr=i=>{let d=q(),o=ft.get(i);if(!o)throw new Error(`cannot release session. invalid session id: ${i}`);let[m,l,b,y]=o;y&&d._OrtReleaseBinding(y.handle),d.jsepUnregisterBuffers?.(i),l.forEach(f=>d._OrtFree(f)),b.forEach(f=>d._OrtFree(f)),d._OrtReleaseSession(m),ft.delete(i)},Tn=(i,d,o)=>{if(i!==null&&i[0]===d){let l=i[2];if(l.length===o)return l}let m=Wr(d);return new m(o)},jr=(i,d,o,m,l)=>{if(!i){d.push(0);return}let b=q(),y=i[0],f=i[1],x=i[3],D,R;if(y==="string"&&x==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(x==="gpu-buffer"){let P=i[2].gpuBuffer,N=$t(kt(y));R=f.reduce((I,E)=>I*E,1)*N,D=b.jsepRegisterBuffer(m,l,P,R)}else{let P=i[2];if(Array.isArray(P)){R=4*P.length,D=b._malloc(R),o.push(D);let N=D/4;for(let I=0;I<P.length;I++){if(typeof P[I]!="string")throw new TypeError(`tensor data at index ${I} is not a string`);b.HEAPU32[N++]=ee(P[I],o)}}else R=P.byteLength,D=b._malloc(R),o.push(D),b.HEAPU8.set(new Uint8Array(P.buffer,P.byteOffset,R),D)}let W=b.stackSave(),U=b.stackAlloc(4*f.length);try{let P=U/4;f.forEach(I=>b.HEAP32[P++]=I);let N=b._OrtCreateTensor(kt(y),D,R,U,f.length,kr(x));N===0&&Q(`Can\'t create tensor for input/output. session=${m}, index=${l}.`),d.push(N)}finally{b.stackRestore(W)}},qr=i=>{let o=new TextEncoder().encode(i),m=q(),l=m._malloc(o.byteLength);m.HEAPU8.set(o,l);let b=m._OrtConfigure(l,o.byteLength);if(b===0)throw new Error("Can\'t get an configure key");let y=m.UTF8ToString(b);return m._OrtFree(b),y},Jr=i=>{let o=new TextEncoder().encode(i),m=q(),l=m._malloc(o.byteLength);m.HEAPU8.set(o,l);let b=m._OrtAuth(l,o.byteLength);if(b===0)throw new Error("Can\'t get an auth result");let y=m.UTF8ToString(b);return m._OrtFree(b),y},Xr=async(i,d,o,m,l,b)=>{let y=q(),f=ft.get(i);if(!f)throw new Error(`cannot run inference. invalid session id: ${i}`);let[x,D,R,W]=f,U=d.length,P=m.length,N=0,I=[],E=[],F=[],k=[],we=y.stackSave(),ue=y.stackAlloc(U*4),te=y.stackAlloc(U*4),S=y.stackAlloc(P*4),G=y.stackAlloc(P*4);try{[N,I]=Pr(b);for(let L=0;L<U;L++)jr(o[L],E,k,i,d[L]);for(let L=0;L<P;L++){let Z=l[L],ae=Z?.[3]??"";jr(ae==="gpu-buffer"?Z:null,F,k,i,U+m[L])}let fe=ue/4,We=te/4,He=S/4,re=G/4;for(let L=0;L<U;L++)y.HEAPU32[fe++]=E[L],y.HEAPU32[We++]=D[d[L]];for(let L=0;L<P;L++)y.HEAPU32[He++]=F[L],y.HEAPU32[re++]=R[m[L]];let V;V=await y._OrtRun(x,te,ue,U,G,P,S,N),V!==0&&Q("failed to call OrtRun().");let de=[];for(let L=0;L<P;L++){let Z=y.HEAPU32[S/4+L];if(Z===F[L]){de.push(l[L]);continue}let ae=y.stackSave(),he=y.stackAlloc(4*4),be=!1,K,le=0;try{y._OrtGetTensorData(Z,he,he+4,he+8,he+12)!==0&&Q(`Can\'t access output tensor data on index ${L}.`);let Ce=he/4,De=y.HEAPU32[Ce++];le=y.HEAPU32[Ce++];let Pe=y.HEAPU32[Ce++],Me=y.HEAPU32[Ce++],pe=[];for(let J=0;J<Me;J++)pe.push(y.HEAPU32[Pe/4+J]);y._OrtFree(Pe);let Se=pe.reduce((J,ce)=>J*ce,1);K=Br(De);let Ae=W?.outputPreferredLocations[m[L]];if(K==="string"){if(Ae==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let J=[],ce=le/4;for(let Fe=0;Fe<Se;Fe++){let Oe=y.HEAPU32[ce++],Te=Fe===Se-1?void 0:y.HEAPU32[ce]-Oe;J.push(y.UTF8ToString(Oe,Te))}de.push([K,pe,J,"cpu"])}else if(Ae==="gpu-buffer"&&Se>0){let J=y.jsepGetBuffer(le),ce=$t(De);if(ce===void 0||!Nr(K))throw new Error(`Unsupported data type: ${K}`);be=!0,de.push([K,pe,{gpuBuffer:J,download:y.jsepCreateDownloader(J,Se*ce,K),dispose:()=>{y._OrtReleaseTensor(Z)}},"gpu-buffer"])}else{let J=Tn(l[L],K,Se);new Uint8Array(J.buffer,J.byteOffset,J.byteLength).set(y.HEAPU8.subarray(le,le+J.byteLength)),de.push([K,pe,J,"cpu"])}}finally{y.stackRestore(ae),K==="string"&&le&&y._free(le),be||y._OrtReleaseTensor(Z)}}return W&&y._OrtClearBoundOutputs(W.handle),de}finally{y.stackRestore(we),E.forEach(fe=>y._OrtReleaseTensor(fe)),F.forEach(fe=>y._OrtReleaseTensor(fe)),k.forEach(fe=>y._free(fe)),N!==0&&y._OrtReleaseRunOptions(N),I.forEach(fe=>y._free(fe))}},Qr=i=>{let d=q(),o=ft.get(i);if(!o)throw new Error("invalid session id");let m=o[0],l=d._OrtEndProfiling(m);l===0&&Q("Can\'t get an profile file name."),d._OrtFree(l)},zt=i=>{let d=[];for(let o of i){let m=o[2];!Array.isArray(m)&&"buffer"in m&&d.push(m.buffer)}return d};self.onmessage=i=>{let{type:d,in:o}=i.data;try{switch(d){case"init-wasm":Lr(o.wasm).then(()=>{zr(o).then(()=>{postMessage({type:d})},m=>{postMessage({type:d,err:m})})},m=>{postMessage({type:d,err:m})});break;case"init-ep":{let{epName:m,env:l}=o;Yr(l,m).then(()=>{postMessage({type:d})},b=>{postMessage({type:d,err:b})});break}case"copy-from":{let{buffer:m}=o,l=jt(m);postMessage({type:d,out:l});break}case"create":{let{model:m,options:l}=o;Gr(m,l).then(b=>{postMessage({type:d,out:b})},b=>{postMessage({type:d,err:b})});break}case"release":Vr(o),postMessage({type:d});break;case"run":{let{sessionId:m,inputIndices:l,inputs:b,outputIndices:y,options:f}=o,x=i.data.prealloc??[];for(;x.length<y.length;)x.push(null);Xr(m,l,b,y,x,f).then(D=>{D.some(R=>R[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:D,inputsBack:b},zt(D).concat(zt(b)))},D=>{postMessage({type:d,err:D})});break}case"configure":try{let m=qr(i.data.in);postMessage({type:"configure",out:m})}catch(m){postMessage({type:"configure",err:m})}break;case"auth":try{let m=Jr(i.data.in);postMessage({type:"auth",out:m})}catch(m){postMessage({type:"auth",err:m})}break;case"end-profiling":Qr(o),postMessage({type:d});break;default:}}catch(m){postMessage({type:d,err:m})}};})();\n';}),Xt,it,In,Mo,Go,va,Uo,ir,ar,Fg,Ro,Cg,pd,dd,hd,md,bd,gd,yd,Td,xd,_a=L(()=>{It(),fd(),Kr(),Xt=()=>!!ee.wasm.proxy&&typeof document<"u",In=!1,Mo=!1,Go=!1,Uo=new Map(),ir=(e,t)=>{let n=Uo.get(e);n?n.push(t):Uo.set(e,[t]);},ar=()=>{if(In||!Mo||Go||!it)throw new Error("worker not ready");},Fg=e=>{switch(e.data.type){case"init-wasm":In=!1,e.data.err?(Go=!0,va[1](e.data.err)):(Mo=!0,va[0]());break;case"init-ep":case"copy-from":case"create":case"configure":case"auth":case"release":case"end-profiling":{let t=Uo.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out);break;}case"run":{let t=Uo.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out.concat(e.data.inputsBack));break;}}},Ro=typeof document<"u"?document?.currentScript?.src:void 0,Cg=e=>{let t=[];for(var n=0;n<e.length;++n){let r=e[n];null!==r&&t.push(r);}return t;},pd=async()=>{if(!Mo){if(In)throw new Error("multiple calls to 'initWasm()' detected.");if(Go)throw new Error("previous call to 'initWasm()' failed.");if(In=!0,Xt())return void 0===ee.wasm.wasmPaths&&Ro&&0!==Ro.indexOf("blob:")&&(ee.wasm.wasmPaths=Ro.substr(0,+Ro.lastIndexOf("/")+1)),new Promise((e,t)=>{it?.terminate();let n=URL.createObjectURL(new Blob([cd()],{type:"text/javascript"}));(it=new Worker(n,{name:"ort-wasm-proxy-worker"})).onerror=e=>t(e),it.onmessage=Fg,URL.revokeObjectURL(n),va=[e,t];let r={type:"init-wasm",in:ee};it.postMessage(r);});try{await jp(ee.wasm),await rd(ee),Mo=!0;}catch(e){throw Go=!0,e;}finally{In=!1;}}},dd=async e=>{if(Xt())return ar(),new Promise((t,n)=>{ir("init-ep",[t,n]);let r={type:"init-ep",in:{epName:e,env:ee}};it.postMessage(r);});await nd(ee,e);},hd=async e=>Xt()?(ar(),new Promise((t,n)=>{ir("copy-from",[t,n]);let r={type:"copy-from",in:{buffer:e}};it.postMessage(r,[e.buffer]);})):xa(e),md=async(e,t)=>{if(Xt()){if(t?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ar(),new Promise((n,r)=>{ir("create",[n,r]);let o={type:"create",in:{model:e,options:t}},i=[];e instanceof Uint8Array&&i.push(e.buffer),it.postMessage(o,i);});}return od(e,t);},bd=async e=>{if(Xt())return ar(),new Promise((t,n)=>{ir("release",[t,n]);let r={type:"release",in:e};it.postMessage(r);});id(e);},gd=async e=>Xt()?(ar(),new Promise((t,n)=>{ir("configure",[t,n]);let r={type:"configure",in:e};it.postMessage(r);})):ad(e),yd=async e=>Xt()?(ar(),new Promise((t,n)=>{ir("auth",[t,n]);let r={type:"auth",in:e};it.postMessage(r);})):sd(e),Td=async(e,t,n,r,o,i)=>{if(Xt()){if(n.some(e=>"cpu"!==e[3]))throw new Error("input tensor on GPU is not supported for proxy.");return ar(),new Promise((a,s)=>{ir("run",[a,s]);let u=n,l={type:"run",in:{sessionId:e,inputIndices:t,inputs:u,outputIndices:r,options:i},prealloc:o};it.postMessage(l,wa(u).concat(wa(Cg(o))));});}return ud(e,t,n,r,o,i).then(e=>e.concat(n));},xd=async e=>{if(Xt())return ar(),new Promise((t,n)=>{ir("end-profiling",[t,n]);let r={type:"end-profiling",in:e};it.postMessage(r);});ld(e);};}),wd,vd,zo,_d=L(()=>{It(),_a(),ya(),Ta(),wd=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${e.location} for ${t()}`);}},vd=e=>{switch(e[3]){case"cpu":return new Ne(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!No(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:n,download:r,dispose:o}=e[2];return Ne.fromGpuBuffer(n,{dataType:t,dims:e[1],download:r,dispose:o});}default:throw new Error(`invalid data location: ${e[3]}`);}},zo=class{async fetchModelAndCopyToWasmMemory(e){return hd(await _n(e));}async loadModel(e,t){let n;mr(),n="string"==typeof e?typeof process<"u"&&process.versions&&process.versions.node?await _n(e):await this.fetchModelAndCopyToWasmMemory(e):e,[this.sessionId,this.inputNames,this.outputNames]=await md(n,t),br();}async dispose(){return bd(this.sessionId);}async configure(e){return gd(e);}async auth(e){return yd(e);}async run(e,t,n){mr();let r=[],o=[];Object.entries(e).forEach(e=>{let t=e[0],n=e[1],i=this.inputNames.indexOf(t);if(-1===i)throw new Error(`invalid input '${t}'`);r.push(n),o.push(i);});let i=[],a=[],s=e=>null!==e&&"gpu-buffer"===e.location?e:null;Object.entries(t).forEach(e=>{let t=e[0],n=e[1],r=this.outputNames.indexOf(t);if(-1===r)throw new Error(`invalid output '${t}'`);i.push(n),a.push(r);});let u=r.map((e,t)=>wd(e,()=>`input "${this.inputNames[o[t]]}"`)),l=i.map((e,t)=>e?wd(e,()=>`output "${this.outputNames[a[t]]}"`):null),c=await Td(this.sessionId,o,u,a,l,n),f={},p=[];for(let e=0;e<c.length;e++)e>=a.length?p.push(vd(c[e])):f[this.outputNames[a[e]]]=s(i[e])??vd(c[e]);return p.length>0&&(f.inputBack=p[0]),br(),f;}startProfiling(){}endProfiling(){xd(this.sessionId);}};}),$g,Wo,Od=L(()=>{It(),_a(),_d(),$g=()=>{if(("number"!=typeof ee.wasm.initTimeout||ee.wasm.initTimeout<0)&&(ee.wasm.initTimeout=0),"boolean"!=typeof ee.wasm.simd&&(ee.wasm.simd=!0),"boolean"!=typeof ee.wasm.proxy&&(ee.wasm.proxy=!1),"boolean"!=typeof ee.wasm.trace&&(ee.wasm.trace=!1),"number"!=typeof ee.wasm.numThreads||!Number.isInteger(ee.wasm.numThreads)||ee.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(ee.wasm.numThreads=1);let e=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;ee.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2));}},Wo=class{async init(e){$g(),await pd(),await dd(e);}async createInferenceSessionHandler(e,t){let n=new zo();return await n.loadModel(e,t),Promise.resolve(n);}};}),Id={};cr(Id,{wasmBackend:()=>Bg});var Bg,Sd=L(()=>{Od(),Bg=new Wo();});It(),It(),It();var Ss="1.17.0",nI=ei;{let e=(Lp(),Ht(Dp)).onnxjsBackend;dr("webgl",e,-10);}{let e=(Sd(),Ht(Id)).wasmBackend;dr("cpu",e,10),dr("wasm",e,10),dr("webnn",e,9);}Object.defineProperty(ee.versions,"web",{value:Ss,enumerable:!0});}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports;}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t;},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]});},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")();}catch(e){if("object"==typeof window)return window;}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__={};(()=>{var e,t;__webpack_require__.d(__webpack_exports__,{i:()=>$t}),function(e){e.PROCESSOR_READY="processor_ready",e.WORKLET_PORT="worklet_port",e.DENOISE_POWER="denoise_power",e.ERROR="error",e.INIT="init",e.CLEAN="clean",e.DBG_DELAY_PROCESSING="delay_processing";}(e||(e={})),function(e){e.START_PROCESSING="start_processing",e.STOP_PROCESSING="stop_processing",e.PROCESSING_CHUNK="processing_chunk",e.WORKER_PORT="worker_port",e.PERFORMANCE_STOP="performance_stop",e.SPEEDUP_VOICE="speedup_voice",e.MODEL_SAMPLE_RATE="model_sample_rate",e.ERROR="error",e.INFO="info",e.DBG_PUSH_SILENCE="push_silence";}(t||(t={}));var n=__webpack_require__(2532);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},r(e);}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r);}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==r(t)?t:t+"";}function a(e,t,n){return t=c(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}(e);}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n));}function s(e){var t="function"==typeof Map?new Map():void 0;return s=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]");}catch(t){return"function"==typeof e;}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n);}function n(){return function(e,t,n){if(u())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r))();return n&&l(o,n.prototype),o;}(e,arguments,c(this).constructor);}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e);},s(e);}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(e){}return(u=function(){return!!e;})();}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e;},l(e,t);}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e);},c(e);}var f=function(e){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,r),(n=a(this,r,[e,"effectssdk-worklet-processor",t])).port.onmessage=n.handleMessage_.bind(n),n.channelCount=1,n.channelCountMode="explicit",n;}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t);}(r,e),i=r,(s=[{key:"updateModelSampleRate",value:function(e){this.port.postMessage({type:t.MODEL_SAMPLE_RATE,sampleRate:e});}},{key:"setWorkerPort",value:function(e){this.port.postMessage({type:t.WORKER_PORT,workerPort:e},[e]);}},{key:"setProcessingChunk",value:function(e){this.port.postMessage({type:t.PROCESSING_CHUNK,chunk:e});}},{key:"handleMessage_",value:function(e){if(e.data.type)switch(e.data.type){case t.INFO:n.P1.notify({type:n.NI.INFO,message:e.data.message,emitter:n.kF.WORKLET});break;case t.PERFORMANCE_STOP:n.P1.notify({type:n.NI.ERROR,message:"Audio denoising was disabled due to high latency, which may be caused by heavy system load or older hardware that cannot handle real-time processing.",code:n.jK.PERFORMANCE_STOP,emitter:n.kF.WORKLET,data:{latency:e.data.latency,sampleRate:e.data.sampleRate}});break;case t.SPEEDUP_VOICE:n.P1.notify({type:n.NI.INFO,message:"Speed up the voice for "+e.data.time+"ms to stabilize latency.",code:n.jK.REDUCE_LATENCY,emitter:n.kF.WORKLET,data:{time:e.data.time}});break;default:console.log("Not supported message type: ".concat(e.data.type));}}},{key:"startProcessing",value:function(){this.port.postMessage({type:t.START_PROCESSING});}},{key:"stopProcessing",value:function(){this.port.postMessage({type:t.STOP_PROCESSING});}},{key:"pushSilence",value:function(e){this.port.postMessage({type:t.DBG_PUSH_SILENCE,durationMs:e});}}])&&o(i.prototype,s),u&&o(i,u),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,s,u;}(s(AudioWorkletNode)),p=__webpack_require__(8417);const d="2.4.2";function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},h(e);}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r);}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;}function y(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==h(t)?t:t+"";}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}var _=m(function e(){b(this,e);});_.APP_ENV="web",_.API_URL="https://effectssdk.ai/sdk/session/",_.BASE_URL="https://effectssdk.ai/sdk/",_.SDK_URL=_.BASE_URL+"audio/",_.PRESET="balanced",_.SAMPLE_RATE=32e3,_.PROCESSING_CHUNK_MS=64,_.CUSTOMER_ID="";var v=function(){function e(){b(this,e);}return m(e,null,[{key:"getConfig",value:function(){return{version:this.VERSION,appEnv:this.APP_ENV,apiUrl:this.API_URL,sdkUrl:this.SDK_URL,preset:this.PRESET,sampleRate:this.SAMPLE_RATE,customerID:this.CUSTOMER_ID,currentSrc:this.CURRENT_SRC,wasmPaths:this.WASM_PATHS,presets:this.PRESETS,cacheModels:this.CACHE_MODELS,processingChunk:this.PROCESSING_CHUNK_MS};}},{key:"setConfig",value:function(e){this.VERSION=e.version,this.APP_ENV=e.appEnv,this.API_URL=e.apiUrl,this.PRESET=e.preset,this.SAMPLE_RATE=e.sampleRate,this.CUSTOMER_ID=e.customerID,this.SDK_URL=e.sdkUrl,this.CURRENT_SRC=e.currentSrc,this.WASM_PATHS=e.wasmPaths,this.PRESETS=e.presets,this.CACHE_MODELS=e.cacheModels,this.PROCESSING_CHUNK_MS=e.processingChunk;}},{key:"getModelUrl",value:function(t){return e.SDK_URL+t;}},{key:"getPresetUrl",value:function(t){return e.SDK_URL+t;}},{key:"getCurrentPath",value:function(){var t;e.CURRENT_SRC="undefined"!=typeof document?null===(t=null===document||void 0===document?void 0:document.currentScript)||void 0===t?void 0:t.src:void 0,void 0!==e.CURRENT_SRC&&(e.CURRENT_SRC=e.CURRENT_SRC.slice(0,e.CURRENT_SRC.lastIndexOf("/")+1));}},{key:"setWasmPath",value:function(){e.WASM_PATHS={"ort-wasm.wasm":e.CURRENT_SRC+"ort-wasm.wasm","ort-wasm-simd.wasm":e.CURRENT_SRC+"ort-wasm-simd.wasm","ort-wasm-threaded.wasm":e.CURRENT_SRC+"ort-wasm-threaded.wasm","ort-wasm-simd-threaded.wasm":e.CURRENT_SRC+"ort-wasm-simd-threaded.wasm"};}},{key:"setVersion",value:function(){e.VERSION=d;}}]);}();v.VERSION="0.0.0",v.APP_ENV=_.APP_ENV,v.API_URL=_.API_URL,v.PRESET=_.PRESET,v.SAMPLE_RATE=_.SAMPLE_RATE,v.CUSTOMER_ID=_.CUSTOMER_ID,v.SDK_URL=_.SDK_URL,v.PROXY=!0,v.CACHE_MODELS=!0,v.CURRENT_SRC=void 0,v.PROCESSING_CHUNK_MS=_.PROCESSING_CHUNK_MS,v.WASM_PATHS={},v.PRESETS={quality:"models/audio-model-2.5.0.tsvb",balanced:"models/audio-model-3.3.1.wasm",speed:"models/audio-model-1.0.1.tsvb"};var w=__webpack_require__(9669),I=__webpack_require__.n(w);function x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r];}return e;}var A=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=x({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i;}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=t.read(a,s),e===s)break;}catch(e){}}return e?r[e]:r;}},remove:function(e,t){r(e,"",x({},t,{expires:-1}));},withAttributes:function(t){return e(this.converter,x({},this.attributes,t));},withConverter:function(t){return e(x({},this.converter,t),this.attributes);}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}});}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent);}},{path:"/"});const T=A,C={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let E;const S=new Uint8Array(16);function O(){if(!E&&(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!E))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(S);}const P=[];for(let e=0;e<256;++e)P.push((e+256).toString(16).slice(1));function k(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return P[e[t+0]]+P[e[t+1]]+P[e[t+2]]+P[e[t+3]]+"-"+P[e[t+4]]+P[e[t+5]]+"-"+P[e[t+6]]+P[e[t+7]]+"-"+P[e[t+8]]+P[e[t+9]]+"-"+P[e[t+10]]+P[e[t+11]]+P[e[t+12]]+P[e[t+13]]+P[e[t+14]]+P[e[t+15]];}const R=function(e,t,n){if(C.randomUUID&&!t&&!e)return C.randomUUID();const r=(e=e||{}).random||(e.rng||O)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t;}return k(r);};function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},B(e);}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r);}}function F(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==B(t)?t:t+"";}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e);}return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e()),e.instance;}}],(n=[{key:"getUID",value:function(){var e=T.get("TSVB_UID");return e||(e=R(),T.set("TSVB_UID",e)),e;}}])&&D(t.prototype,n),r&&D(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r;}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},L(e);}function U(){U=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{l({},"");}catch(e){l=function(e,t,n){return e[t]=n;};}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a;}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}t.wrap=c;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function _(){}var v={};l(v,a,function(){return this;});var w=Object.getPrototypeOf,I=w&&w(w(k([])));I&&I!==n&&r.call(I,a)&&(v=I);var x=_.prototype=y.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e);});});}function T(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==L(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(c).then(function(e){l.value=e,a(l);},function(e){return n("throw",e,a,s);});}s(u.arg);}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o);});}return i=i?i.then(o,o):o();}});}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0};}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:d,l.arg===m)continue;return{value:l.arg,done:r.done};}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg);}};}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0);}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n;};return i.next=i;}}throw new TypeError(L(t)+" is not iterable");}return b.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},A(T.prototype),l(T.prototype,s,function(){return this;}),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},A(x),l(x,u,"Generator"),l(x,a,function(){return this;}),l(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o;}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc);}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n);}return o;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m;}},t;}function M(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value;}catch(e){return void n(e);}s.done?t(u):Promise.resolve(u).then(r,o);}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r);}}function V(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==L(t)?t:t+"";}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e);}return t=e,n=[{key:"auth",value:(o=U().mark(function e(t,n){var r;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I().post(v.API_URL+v.CUSTOMER_ID,{user_id:N.getInstance().getUID(),payload:t,auth_key:n},{headers:{"Tsvb-Version":v.VERSION}});case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0.response.data.message);case 9:return e.abrupt("return",r.data.key);case 10:case"end":return e.stop();}},e,null,[[0,6]]);}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){M(i,n,r,a,s,"next",e);}function s(e){M(i,n,r,a,s,"throw",e);}a(void 0);});},function(e,t){return i.apply(this,arguments);})}],r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e()),e.instance;}}],n&&$(t.prototype,n),r&&$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,o,i;}();function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},G(e);}function W(){W=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{l({},"");}catch(e){l=function(e,t,n){return e[t]=n;};}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a;}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}t.wrap=c;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function _(){}var v={};l(v,a,function(){return this;});var w=Object.getPrototypeOf,I=w&&w(w(k([])));I&&I!==n&&r.call(I,a)&&(v=I);var x=_.prototype=y.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e);});});}function T(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==G(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(c).then(function(e){l.value=e,a(l);},function(e){return n("throw",e,a,s);});}s(u.arg);}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o);});}return i=i?i.then(o,o):o();}});}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0};}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:d,l.arg===m)continue;return{value:l.arg,done:r.done};}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg);}};}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0);}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n;};return i.next=i;}}throw new TypeError(G(t)+" is not iterable");}return b.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},A(T.prototype),l(T.prototype,s,function(){return this;}),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},A(x),l(x,u,"Generator"),l(x,a,function(){return this;}),l(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o;}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc);}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n);}return o;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m;}},t;}function H(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value;}catch(e){return void n(e);}s.done?t(u):Promise.resolve(u).then(r,o);}function z(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,s,"next",e);}function s(e){H(i,r,o,a,s,"throw",e);}a(void 0);});};}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r);}}function X(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==G(t)?t:t+"";}var K=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e),this._name="atsvb";},t=[{key:"get",value:function(){var e=z(W().mark(function e(t,r){var o,i;return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cache){e.next=4;break;}return e.next=3,caches.open(this._name);case 3:this._cache=e.sent;case 4:return e.next=6,this._cache.match(t);case 6:if(void 0===(o=e.sent)){e.next=9;break;}return e.abrupt("return",o);case 9:return e.next=11,fetch(t);case 11:if((o=e.sent).ok){e.next=15;break;}return n.P1.notify({message:"".concat(t," don't found"),emitter:n.kF.MODEL_LOADER}),e.abrupt("return",o);case 15:if(!r){e.next=20;break;}return i=o.clone(),e.next=19,this._cache.put(t,o);case 19:return e.abrupt("return",i);case 20:return e.abrupt("return",o);case 21:case"end":return e.stop();}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"delete",value:(o=z(W().mark(function e(){return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.delete(this._name);case 2:case"end":return e.stop();}},e,this);})),function(){return o.apply(this,arguments);})}],t&&Z(e.prototype,t),r&&Z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o;}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},q(e);}function Y(){Y=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{l({},"");}catch(e){l=function(e,t,n){return e[t]=n;};}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a;}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}t.wrap=c;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function _(){}var v={};l(v,a,function(){return this;});var w=Object.getPrototypeOf,I=w&&w(w(k([])));I&&I!==n&&r.call(I,a)&&(v=I);var x=_.prototype=y.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e);});});}function T(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==q(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(c).then(function(e){l.value=e,a(l);},function(e){return n("throw",e,a,s);});}s(u.arg);}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o);});}return i=i?i.then(o,o):o();}});}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0};}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:d,l.arg===m)continue;return{value:l.arg,done:r.done};}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg);}};}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0);}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n;};return i.next=i;}}throw new TypeError(q(t)+" is not iterable");}return b.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},A(T.prototype),l(T.prototype,s,function(){return this;}),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},A(x),l(x,u,"Generator"),l(x,a,function(){return this;}),l(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o;}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc);}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n);}return o;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m;}},t;}function J(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value;}catch(e){return void n(e);}s.done?t(u):Promise.resolve(u).then(r,o);}function Q(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){J(i,r,o,a,s,"next",e);}function s(e){J(i,r,o,a,s,"throw",e);}a(void 0);});};}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,re(r.key),r);}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;}function re(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==q(t)?t:t+"";}var oe={onnx:function(){return ne(function e(){ee(this,e),this.ready=!1,this._loader=new K();},[{key:"getType",value:function(){return"onnx";}},{key:"setBackend",value:function(e){}},{key:"initByPath",value:(n=Q(Y().mark(function e(t,n){var r,o,i,a;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={executionProviders:["wasm"],enableProfiling:!1,enableCpuMemArena:!0,enableMemPattern:!0,executionMode:"sequential",graphOptimizationLevel:"all"},p.OB.wasm.numThreads=1,p.OB.wasm.proxy=!1,Object.keys(v.WASM_PATHS).length&&(p.OB.wasm.wasmPaths=v.WASM_PATHS),e.next=6,this._loader.get(n,v.CACHE_MODELS);case 6:return o=e.sent,e.t0=p.Bc,e.next=10,o.arrayBuffer();case 10:return e.t1=e.sent,e.t2=r,e.next=14,e.t0.create.call(e.t0,e.t1,e.t2);case 14:return this.session=e.sent,e.next=17,this.session.configure(t);case 17:return i=e.sent,e.next=20,j.getInstance().auth(i,"authkey");case 20:return a=e.sent,e.t3=JSON,e.next=24,this.session.auth(a);case 24:if(e.t4=e.sent,"active"==e.t3.parse.call(e.t3,e.t4).status){e.next=28;break;}throw new Error("Authentication failed");case 28:this.ready=!0;case 29:case"end":return e.stop();}},e,this);})),function(e,t){return n.apply(this,arguments);})},{key:"init",value:(t=Q(Y().mark(function e(t){var n,r=arguments;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"speed",e.abrupt("return",this.initByPath(t,v.getPresetUrl(v.PRESETS[n])));case 2:case"end":return e.stop();}},e,this);})),function(e){return t.apply(this,arguments);})},{key:"isReady",value:function(){return this.ready;}},{key:"run",value:(e=Q(Y().mark(function e(t,n){var r;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.session.run(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop();}},e,this);})),function(t,n){return e.apply(this,arguments);})}]);var e,t,n;}()},ie=function(){return ne(function e(){ee(this,e);},null,[{key:"getInference",value:function(e){return new oe[e]();}}]);}();function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},ae(e);}function se(e){return function(e){if(Array.isArray(e))return le(e);}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e);}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function ue(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0;}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r;}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fe(r.key),r);}}function fe(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==ae(t)?t:t+"";}var pe,de=(pe="file:///Users/tmv/work/vbsdk/audio/src/DenoiseFilter/wasm_bindings.js",function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new Promise(function(n,r){e=n,t=r;}),a=Object.assign({},o),s="";s=self.location.href,pe&&(s=pe),s=s.startsWith("blob:")?"":s.substr(0,s.replace(/[?#].*/,"").lastIndexOf("/")+1),r=function(e){var t=new XMLHttpRequest();return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response);},n=function(e){return fetch(e,{credentials:"same-origin"}).then(function(e){return e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url));});};var u,l,c=console.log.bind(console),f=console.error.bind(console);Object.assign(o,a),a=null;var p,d,h,g,m,y=!1;function b(){var e=l.buffer;o.HEAP8=p=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAPU8=d=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAP32=h=new Int32Array(e),o.HEAPU32=g=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=m=new Float64Array(e);}var _=[],v=[],w=[],I=0,x=null,A=null;function T(e){f(e="Aborted("+e+")"),y=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw t(n),n;}var C,E,S=function(e){return e.startsWith("data:application/octet-stream;base64,");};function O(){if(o.locateFile){var e="am.wasm";return S(e)?e:(t=e,o.locateFile?o.locateFile(t,s):s+t);}var t;}function P(e){if(r)return r(e);throw"both async and sync fetching of the wasm failed";}function k(e,t,r){return function(e){return n(e).then(function(e){return new Uint8Array(e);},function(){return P(e);});}(e).then(function(e){return WebAssembly.instantiate(e,t);}).then(r,function(e){f("failed to asynchronously prepare wasm: ".concat(e)),T(e);});}var R,B,D,F={8843208:function(e,t,n,r){if(void 0===o||!o.MountedFiles)return 1;var i=Z(e>>>0);i.startsWith("./")&&(i=i.substring(2));var a=o.MountedFiles.get(i);if(!a)return 2;var s=t>>>0,u=n>>>0,l=r>>>0;if(s+u>a.byteLength)return 3;try{return d.set(a.subarray(s,s+u),l),0;}catch(e){return 4;}}},N=function(e){e.forEach(function(e){return e(o);});},L=function(e){return _e(e);},U=function(){return ve();},M=[],$=0,V=0,j=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e),this.excPtr=t,this.ptr=t-24;},(t=[{key:"set_type",value:function(e){g[this.ptr+4>>2]=e;}},{key:"get_type",value:function(){return g[this.ptr+4>>2];}},{key:"set_destructor",value:function(e){g[this.ptr+8>>2]=e;}},{key:"get_destructor",value:function(){return g[this.ptr+8>>2];}},{key:"set_caught",value:function(e){e=e?1:0,p[this.ptr+12]=e;}},{key:"get_caught",value:function(){return 0!=p[this.ptr+12];}},{key:"set_rethrown",value:function(e){e=e?1:0,p[this.ptr+13]=e;}},{key:"get_rethrown",value:function(){return 0!=p[this.ptr+13];}},{key:"init",value:function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t);}},{key:"set_adjusted_ptr",value:function(e){g[this.ptr+16>>2]=e;}},{key:"get_adjusted_ptr",value:function(){return g[this.ptr+16>>2];}}])&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n;}(),G=function(e){return be(e);},W=function(e){var t=V;if(!t)return G(0),0;var n=new j(t);n.set_adjusted_ptr(t);var r=n.get_type();if(!r)return G(0),t;var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ue(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]};},e:function(e){throw e;},f:o};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var i,a=!0,s=!1;return{s:function(){n=n.call(e);},n:function(){var e=n.next();return a=e.done,e;},e:function(e){s=!0,i=e;},f:function(){try{a||null==n.return||n.return();}finally{if(s)throw i;}}};}(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(0===a||a===r)break;var s=n.ptr+16;if(xe(a,r,s))return G(a),t;}}catch(e){i.e(e);}finally{i.f();}return G(r),t;},H="undefined"!=typeof TextDecoder?new TextDecoder():void 0,z=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN),r=t;e[r]&&!(r>=n);)++r;if(r-t>16&&e.buffer&&H)return H.decode(e.subarray(t,r));for(var o="";t<r;){var i=e[t++];if(128&i){var a=63&e[t++];if(192!=(224&i)){var s=63&e[t++];if((i=224==(240&i)?(15&i)<<12|a<<6|s:(7&i)<<18|a<<12|s<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u);}}else o+=String.fromCharCode((31&i)<<6|a);}else o+=String.fromCharCode(i);}return o;},Z=function(e,t){return e?z(d,e,t):"";},X={varargs:void 0,getStr:function(e){return Z(e);}},K=function(e,t,n){return function(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=i)break;t[n++]=s;}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s;}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s;}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s;}}return t[n]=0,n-o;}(e,d,t,n);},q=function(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN;},Y=[0,31,60,91,121,152,182,213,244,274,305,335],J=[0,31,59,90,120,151,181,212,243,273,304,334],Q=function(e){var t;return((t=e.getFullYear())%4!=0||t%100==0&&t%400!=0?J:Y)[e.getMonth()]+e.getDate()-1;},ee=[],te=function(e,t,n){var r=function(e,t){var n;for(ee.length=0;n=d[e++];){var r=105!=n;t+=(r&=112!=n)&&t%8?4:0,ee.push(112==n?g[t>>2]:105==n?h[t>>2]:m[t>>3]),t+=r?8:4;}return ee;}(t,n);return F[e].apply(F,se(r));},ne=function(e){var t=(e-l.buffer.byteLength+65535)/65536|0;try{return l.grow(t),b(),1;}catch(e){}},re={},oe=function(){if(!oe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":ae(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(var t in re)void 0===re[t]?delete e[t]:e[t]=re[t];var n=[];for(var t in e)n.push("".concat(t,"=").concat(e[t]));oe.strings=n;}return oe.strings;},ie=[null,[],[]],le=function(e){return(le=function(){if("object"==("undefined"==typeof crypto?"undefined":ae(crypto))&&"function"==typeof crypto.getRandomValues)return function(e){return crypto.getRandomValues(e);};T("initRandomDevice");}())(e);},fe=[],de=function(e){var t=fe[e];return t||(e>=fe.length&&(fe.length=e+1),fe[e]=t=R.get(e)),t;},he={r:function(e){var t=new j(e);return t.get_caught()||(t.set_caught(!0),$--),t.set_rethrown(!1),M.push(t),Ie(e),Ae(e);},t:function(){ye(0,0);var e=M.pop();we(e.excPtr),V=0;},a:function(){return W([]);},j:function(e){return W([e]);},H:function(){var e=M.pop();e||T("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(M.push(e),e.set_rethrown(!0),e.set_caught(!1),$++),V=t;},d:function(e,t,n){throw new j(e).init(t,n),$++,V=e;},B:function(){return $;},e:function(e){throw V||(V=e),V;},v:function(e,t,n){return X.varargs=n,0;},ma:function(e,t){},ia:function(e,t){},da:function(e,t,n){},Z:function(e,t,n){return X.varargs=n,0;},ja:function(e,t){},fa:function(e,t,n){},ka:function(e,t,n,r){},J:function(e,t,n,r){X.varargs=r;},ca:function(e,t,n,r){},aa:function(e){},la:function(e,t){},ba:function(e,t,n){},pa:function(){T("");},na:function(){return 1;},oa:function(e,t,n){return d.copyWithin(e,t,t+n);},T:function(e,t,n){var r=q(e,t),o=new Date(1e3*r);h[n>>2]=o.getUTCSeconds(),h[n+4>>2]=o.getUTCMinutes(),h[n+8>>2]=o.getUTCHours(),h[n+12>>2]=o.getUTCDate(),h[n+16>>2]=o.getUTCMonth(),h[n+20>>2]=o.getUTCFullYear()-1900,h[n+24>>2]=o.getUTCDay();var i=Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0),a=(o.getTime()-i)/864e5|0;h[n+28>>2]=a;},U:function(e,t,n){var r=q(e,t),o=new Date(1e3*r);h[n>>2]=o.getSeconds(),h[n+4>>2]=o.getMinutes(),h[n+8>>2]=o.getHours(),h[n+12>>2]=o.getDate(),h[n+16>>2]=o.getMonth(),h[n+20>>2]=o.getFullYear()-1900,h[n+24>>2]=o.getDay();var i=0|Q(o);h[n+28>>2]=i,h[n+36>>2]=-60*o.getTimezoneOffset();var a=new Date(o.getFullYear(),0,1),s=new Date(o.getFullYear(),6,1).getTimezoneOffset(),u=a.getTimezoneOffset(),l=0|(s!=u&&o.getTimezoneOffset()==Math.min(u,s));h[n+32>>2]=l;},V:function(e){var t=function(){var t=new Date(h[e+20>>2]+1900,h[e+16>>2],h[e+12>>2],h[e+8>>2],h[e+4>>2],h[e>>2],0),n=h[e+32>>2],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=Math.min(a,i);if(n<0)h[e+32>>2]=Number(i!=a&&s==r);else if(n>0!=(s==r)){var u=Math.max(a,i),l=n>0?s:u;t.setTime(t.getTime()+6e4*(l-r));}h[e+24>>2]=t.getDay();var c=0|Q(t);h[e+28>>2]=c,h[e>>2]=t.getSeconds(),h[e+4>>2]=t.getMinutes(),h[e+8>>2]=t.getHours(),h[e+12>>2]=t.getDate(),h[e+16>>2]=t.getMonth(),h[e+20>>2]=t.getYear();var f=t.getTime();return isNaN(f)?-1:f/1e3;}();return G((E=t,+Math.abs(E)>=1?E>0?+Math.floor(E/4294967296)>>>0:~~+Math.ceil((E-+(~~E>>>0))/4294967296)>>>0:0)),t>>>0;},R:function(e,t,n,r,o,i,a,s){return q(o,i),-52;},S:function(e,t,n,r,o,i,a){q(i,a);},ea:function(e,t,n,r){var o=new Date().getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1),s=i.getTimezoneOffset(),u=a.getTimezoneOffset(),l=Math.max(s,u);g[e>>2]=60*l,h[t>>2]=Number(s!=u);var c=function(e){var t=e>=0?"-":"+",n=Math.abs(e),r=String(Math.floor(n/60)).padStart(2,"0"),o=String(n%60).padStart(2,"0");return"UTC".concat(t).concat(r).concat(o);},f=c(s),p=c(u);u<s?(K(f,n,17),K(p,r,17)):(K(f,r,17),K(p,n,17));},qa:function(e,t,n){return te(e,t,n);},K:function(){return Date.now();},$:function(){return 2147483648;},s:function(){return performance.now();},_:function(e){var t,n,r=d.length,o=2147483648;if((e>>>=0)>o)return!1;for(var i=1;i<=4;i*=2){var a=r*(1+.2/i);a=Math.min(a,e+100663296);var s=Math.min(o,(t=Math.max(e,a),n=65536,Math.ceil(t/n)*n));if(ne(s))return!0;}return!1;},ga:function(e,t){var n=0;return oe().forEach(function(r,o){var i=t+n;g[e+4*o>>2]=i,function(e,t){for(var n=0;n<e.length;++n)p[t++]=e.charCodeAt(n);p[t]=0;}(r,i),n+=r.length+1;}),0;},ha:function(e,t){var n=oe();g[e>>2]=n.length;var r=0;return n.forEach(function(e){return r+=e.length+1;}),g[t>>2]=r,0;},C:function(e){return 52;},I:function(e,t,n,r){return 52;},W:function(e,t,n,r,o){return q(t,n),70;},E:function(e,t,n,r){for(var o,i,a,s=0,u=0;u<n;u++){var l=g[t>>2],p=g[t+4>>2];t+=8;for(var h=0;h<p;h++)o=e,i=d[l+h],a=void 0,a=ie[o],0===i||10===i?((1===o?c:f)(z(a)),a.length=0):a.push(i);s+=p;}return g[r>>2]=s,0;},L:function(e,t){return le(d.subarray(e,e+t)),0;},F:function(e,t,n,r){var o=U();try{return de(e)(t,n,r);}catch(e){if(L(o),e!==e+0)throw e;ye(1,0);}},G:function(e,t,n,r){var o=U();try{return de(e)(t,n,r);}catch(e){if(L(o),e!==e+0)throw e;ye(1,0);}},p:function(e){var t=U();try{return de(e)();}catch(e){if(L(t),e!==e+0)throw e;ye(1,0);}},g:function(e,t){var n=U();try{return de(e)(t);}catch(e){if(L(n),e!==e+0)throw e;ye(1,0);}},ra:function(e,t,n,r){var o=U();try{return de(e)(t,n,r);}catch(e){if(L(o),e!==e+0)throw e;ye(1,0);}},sa:function(e,t,n,r){var o=U();try{return de(e)(t,n,r);}catch(e){if(L(o),e!==e+0)throw e;ye(1,0);}},h:function(e,t,n){var r=U();try{return de(e)(t,n);}catch(e){if(L(r),e!==e+0)throw e;ye(1,0);}},k:function(e,t,n,r){var o=U();try{return de(e)(t,n,r);}catch(e){if(L(o),e!==e+0)throw e;ye(1,0);}},n:function(e,t,n,r,o){var i=U();try{return de(e)(t,n,r,o);}catch(e){if(L(i),e!==e+0)throw e;ye(1,0);}},q:function(e,t,n,r,o,i){var a=U();try{return de(e)(t,n,r,o,i);}catch(e){if(L(a),e!==e+0)throw e;ye(1,0);}},o:function(e,t,n,r,o,i,a){var s=U();try{return de(e)(t,n,r,o,i,a);}catch(e){if(L(s),e!==e+0)throw e;ye(1,0);}},D:function(e,t,n,r,o,i,a,s){var u=U();try{return de(e)(t,n,r,o,i,a,s);}catch(e){if(L(u),e!==e+0)throw e;ye(1,0);}},A:function(e,t,n,r,o,i,a,s,u,l,c,f){var p=U();try{return de(e)(t,n,r,o,i,a,s,u,l,c,f);}catch(e){if(L(p),e!==e+0)throw e;ye(1,0);}},O:function(e,t,n,r,o,i,a){var s=U();try{return Oe(e,t,n,r,o,i,a);}catch(e){if(L(s),e!==e+0)throw e;ye(1,0);}},Y:function(e,t,n,r,o){var i=U();try{return Te(e,t,n,r,o);}catch(e){if(L(i),e!==e+0)throw e;ye(1,0);}},Q:function(e){var t=U();try{return Ee(e);}catch(e){if(L(t),e!==e+0)throw e;ye(1,0);}},P:function(e,t){var n=U();try{return Se(e,t);}catch(e){if(L(n),e!==e+0)throw e;ye(1,0);}},N:function(e,t,n,r,o){var i=U();try{return Pe(e,t,n,r,o);}catch(e){if(L(i),e!==e+0)throw e;ye(1,0);}},m:function(e){var t=U();try{de(e)();}catch(e){if(L(t),e!==e+0)throw e;ye(1,0);}},b:function(e,t){var n=U();try{de(e)(t);}catch(e){if(L(n),e!==e+0)throw e;ye(1,0);}},c:function(e,t,n){var r=U();try{de(e)(t,n);}catch(e){if(L(r),e!==e+0)throw e;ye(1,0);}},ta:function(e,t,n,r){var o=U();try{de(e)(t,n,r);}catch(e){if(L(o),e!==e+0)throw e;ye(1,0);}},f:function(e,t,n,r){var o=U();try{de(e)(t,n,r);}catch(e){if(L(o),e!==e+0)throw e;ye(1,0);}},l:function(e,t,n,r,o){var i=U();try{de(e)(t,n,r,o);}catch(e){if(L(i),e!==e+0)throw e;ye(1,0);}},ua:function(e,t,n,r,o,i){var a=U();try{de(e)(t,n,r,o,i);}catch(e){if(L(a),e!==e+0)throw e;ye(1,0);}},i:function(e,t,n,r,o,i){var a=U();try{de(e)(t,n,r,o,i);}catch(e){if(L(a),e!==e+0)throw e;ye(1,0);}},y:function(e,t,n,r,o,i,a){var s=U();try{de(e)(t,n,r,o,i,a);}catch(e){if(L(s),e!==e+0)throw e;ye(1,0);}},u:function(e,t,n,r,o,i,a,s){var u=U();try{de(e)(t,n,r,o,i,a,s);}catch(e){if(L(u),e!==e+0)throw e;ye(1,0);}},x:function(e,t,n,r,o,i,a,s,u){var l=U();try{de(e)(t,n,r,o,i,a,s,u);}catch(e){if(L(l),e!==e+0)throw e;ye(1,0);}},w:function(e,t,n,r,o,i,a,s,u,l,c){var f=U();try{de(e)(t,n,r,o,i,a,s,u,l,c);}catch(e){if(L(f),e!==e+0)throw e;ye(1,0);}},M:function(e,t,n,r,o,i,a,s,u,l,c,f,p){var d=U();try{de(e)(t,n,r,o,i,a,s,u,l,c,f,p);}catch(e){if(L(d),e!==e+0)throw e;ye(1,0);}},z:function(e,t,n,r,o,i,a,s,u,l,c,f,p,d,h,g){var m=U();try{de(e)(t,n,r,o,i,a,s,u,l,c,f,p,d,h,g);}catch(e){if(L(m),e!==e+0)throw e;ye(1,0);}},X:function(e,t,n,r,o,i,a,s,u,l){var c=U();try{Ce(e,t,n,r,o,i,a,s,u,l);}catch(e){if(L(c),e!==e+0)throw e;ye(1,0);}}},ge=function(){var e,n,r,o,i,a={a:he};function s(e,t){var n;return ge=e.exports,l=ge.va,b(),R=ge.ya,n=ge.wa,v.unshift(n),function(e){if(0==--I&&(null!==x&&(clearInterval(x),x=null),A)){var t=A;A=null,t();}}(),ge;}return I++,null!==(e=C)&&void 0!==e||(C=O()),(n=u,r=C,o=a,i=function(e){s(e.instance);},n||"function"!=typeof WebAssembly.instantiateStreaming||S(r)||"function"!=typeof fetch?k(r,o,i):fetch(r,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,o).then(i,function(e){return f("wasm streaming compile failed: ".concat(e)),f("falling back to ArrayBuffer instantiation"),k(r,o,i);});})).catch(t),{};}(),me=(o._free=function(e){return(o._free=ge.xa)(e);},o._malloc=function(e){return(me=o._malloc=ge.za)(e);}),ye=(o._state_create=function(e){return(o._state_create=ge.Aa)(e);},o._state_destroy=function(e){return(o._state_destroy=ge.Ba)(e);},o._state_configure=function(e){return(o._state_configure=ge.Ca)(e);},o._state_auth=function(e,t){return(o._state_auth=ge.Da)(e,t);},o._state_get_frame_length=function(e){return(o._state_get_frame_length=ge.Ea)(e);},o._state_set_atten_lim=function(e,t){return(o._state_set_atten_lim=ge.Fa)(e,t);},o._state_set_pf_beta=function(e,t){return(o._state_set_pf_beta=ge.Ga)(e,t);},o._state_process_lsnr=function(e,t,n){return(o._state_process_lsnr=ge.Ha)(e,t,n);},o._state_process_frame=function(e,t,n,r,i){return(o._state_process_frame=ge.Ia)(e,t,n,r,i);},o._state_get_last_error=function(e){return(o._state_get_last_error=ge.Ja)(e);},o._state_clear_last_error=function(e){return(o._state_clear_last_error=ge.Ka)(e);},o._state_get_last_lsnr=function(e){return(o._state_get_last_lsnr=ge.La)(e);},function(e,t){return(ye=ge.Ma)(e,t);}),be=function(e){return(be=ge.Na)(e);},_e=function(e){return(_e=ge.Oa)(e);},ve=function(){return(ve=ge.Pa)();},we=function(e){return(we=ge.Qa)(e);},Ie=function(e){return(Ie=ge.Ra)(e);},xe=function(e,t,n){return(xe=ge.Sa)(e,t,n);},Ae=function(e){return(Ae=ge.Ta)(e);},Te=o.dynCall_ijii=function(e,t,n,r,i){return(Te=o.dynCall_ijii=ge.Ua)(e,t,n,r,i);},Ce=o.dynCall_vijjjj=function(e,t,n,r,i,a,s,u,l,c){return(Ce=o.dynCall_vijjjj=ge.Va)(e,t,n,r,i,a,s,u,l,c);},Ee=o.dynCall_j=function(e){return(Ee=o.dynCall_j=ge.Wa)(e);},Se=o.dynCall_ji=function(e,t){return(Se=o.dynCall_ji=ge.Xa)(e,t);},Oe=o.dynCall_iiiiij=function(e,t,n,r,i,a,s){return(Oe=o.dynCall_iiiiij=ge.Ya)(e,t,n,r,i,a,s);},Pe=o.dynCall_jiiii=function(e,t,n,r,i){return(Pe=o.dynCall_jiiii=ge.Za)(e,t,n,r,i);};function ke(){I>0||!D&&(D=1,N(_),I>0)||B||(B=1,o.calledRun=1,y||(N(v),e(o),N(w)));}return o.UTF8ToString=Z,o.stringToNewUTF8=function(e){var t=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3;}return t;}(e)+1,n=me(t);return n&&K(e,n,t),n;},A=function e(){B||ke(),B||(A=e);},ke(),i;});const he=de;function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},ge(e);}function me(){me=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{l({},"");}catch(e){l=function(e,t,n){return e[t]=n;};}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a;}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}t.wrap=c;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function _(){}var v={};l(v,a,function(){return this;});var w=Object.getPrototypeOf,I=w&&w(w(k([])));I&&I!==n&&r.call(I,a)&&(v=I);var x=_.prototype=y.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e);});});}function T(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==ge(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(c).then(function(e){l.value=e,a(l);},function(e){return n("throw",e,a,s);});}s(u.arg);}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o);});}return i=i?i.then(o,o):o();}});}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0};}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:d,l.arg===m)continue;return{value:l.arg,done:r.done};}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg);}};}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0);}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n;};return i.next=i;}}throw new TypeError(ge(t)+" is not iterable");}return b.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},A(T.prototype),l(T.prototype,s,function(){return this;}),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},A(x),l(x,u,"Generator"),l(x,a,function(){return this;}),l(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o;}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc);}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n);}return o;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m;}},t;}function ye(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value;}catch(e){return void n(e);}s.done?t(u):Promise.resolve(u).then(r,o);}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_e(r.key),r);}}function _e(e){var t=function(e,t){if("object"!=ge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==ge(t)?t:t+"";}function ve(e,t,n){we(e,t),t.set(e,n);}function we(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");}function Ie(e,t){return e.get(Ae(e,t));}function xe(e,t,n){return e.set(Ae(e,t),n),n;}function Ae(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object");}var Te=new WeakMap(),Ce=new WeakMap(),Ee=new WeakMap(),Se=new WeakMap(),Oe=new WeakMap(),Pe=new WeakMap(),ke=new WeakSet(),Re=function(){return e=function e(t,n){var r,o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e),we(r=this,o=ke),o.add(r),ve(this,Te,void 0),ve(this,Ce,void 0),ve(this,Ee,void 0),ve(this,Se,void 0),ve(this,Oe,void 0),ve(this,Pe,void 0),!t)throw new Error("Expected wasm module");if(!n)throw new Error("Expected customer id (string)");xe(Te,this,t),xe(Ee,this,0),xe(Se,this,0),xe(Pe,this,!1),xe(Oe,this,!1);var i=Ie(Te,this).stringToNewUTF8(n);xe(Ce,this,Ie(Te,this)._state_create(i)),Ie(Te,this)._free(i);},t=[{key:"configure",value:function(){Ae(ke,this,De).call(this);var e=Ie(Te,this)._state_configure(Ie(Ce,this));0==e&&Ae(ke,this,Be).call(this);var t=Ie(Te,this).UTF8ToString(e);return Ie(Te,this)._free(e),t;}},{key:"auth",value:function(e){Ae(ke,this,De).call(this);var t=Ie(Te,this).stringToNewUTF8(e),n=Ie(Te,this)._state_auth(Ie(Ce,this),t);Ie(Te,this)._free(t),0==n&&Ae(ke,this,Be).call(this);var r=Ie(Te,this).UTF8ToString(n);Ie(Te,this)._free(n);var o=JSON.parse(r);return xe(Oe,this,"active"==o.status),Ie(Oe,this)&&Ae(ke,this,Ne).call(this),r;}},{key:"frameLength",value:function(){return Ae(ke,this,Fe).call(this),Ie(Te,this)._state_get_frame_length(Ie(Ce,this));}},{key:"bytesPerFrame",value:function(){return this.frameLength()*Float32Array.BYTES_PER_ELEMENT;}},{key:"setAttenLim",value:function(e){Ae(ke,this,De).call(this),Ie(Te,this)._state_set_atten_lim(Ie(Ce,this),e);}},{key:"setPostFilterBeta",value:function(e){Ae(ke,this,De).call(this),Ie(Te,this)._state_set_pf_beta(Ie(Ce,this),e);}},{key:"processFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ae(ke,this,Fe).call(this),!(e instanceof Float32Array))throw new Error("Unexpected input type. (Expected: Float32Array)");var n=this.bytesPerFrame();if(e.byteLength!=n)throw new Error("Incorrect input size, expected: "+n);var r=Float32Array.BYTES_PER_ELEMENT,o=Ae(ke,this,Le).call(this,Ie(Ee,this),r),i=Ae(ke,this,Le).call(this,Ie(Se,this),r);Ie(Te,this).HEAPF32.set(e,o/r);var a=this.frameLength();0!=Ie(Te,this)._state_process_frame(Ie(Ce,this),o,a,i,a)&&Ae(ke,this,Be).call(this);var s=i/r,u=Ie(Te,this)._state_get_last_lsnr(Ie(Ce,this));if(null!==t){var l=Ie(Te,this).HEAPF32.subarray(s,s+a);return t.set(l),{output:t,lsnr:u};}return{output:Ie(Te,this).HEAPF32.slice(s,s+a),lsnr:u};}},{key:"processLSNR",value:function(e){if(!(e instanceof Float32Array))throw new Error("Unexpected input type. (Expected: Float32Array)");var t=this.bytesPerFrame();if(e.byteLength!=t)throw new Error("Incorrect input size, expected: "+t);var n=Float32Array.BYTES_PER_ELEMENT,r=Ae(ke,this,Le).call(this,Ie(Ee,this),n);Ie(Te,this).HEAPF32.set(e,r/n);var o=this.frameLength();return 0!=Ie(Te,this)._state_process_lsnr(Ie(Ce,this),r,o)&&Ae(ke,this,Be).call(this),Ie(Te,this)._state_get_last_lsnr(Ie(Ce,this));}},{key:"dispose",value:function(){Ie(Te,this)._state_destroy(Ie(Ce,this)),this._free(Ie(Ee,this)),xe(Ee,this,0),this._free(Ie(Se,this)),xe(Se,this,0),xe(Pe,this,!0),xe(Oe,this,!1),xe(Ce,this,0),xe(Te,this,null);}},{key:"free",value:function(){this.dispose();}}],t&&be(e.prototype,t),n&&be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n;}();function Be(){var e=Ie(Te,this)._state_get_last_error(Ie(Ce,this)),t=Ie(Te,this).UTF8ToString(e);throw Ie(Te,this)._state_clear_last_error(Ie(Ce,this)),new Error(t);}function De(){if(Ie(Pe,this))throw new Error("This instance already disposed");}function Fe(){if(Ae(ke,this,De).call(this),!Ie(Oe,this))throw new Error("This instance can not be used until initialized");}function Ne(){var e=Float32Array.BYTES_PER_ELEMENT,t=this.bytesPerFrame()+(e-1);xe(Ee,this,Ae(ke,this,Ue).call(this,t)),xe(Se,this,Ae(ke,this,Ue).call(this,t));}function Le(e,t){return e+(t-e%t)%t;}function Ue(e){var t=Ie(Te,this)._malloc(e);if(0===t)throw new Error("Failure to allocate "+e+" bytes");return t;}function Me(){var e;return e=me().mark(function e(t,n){var r;return me().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he({locateFile:function(e,n){return t;}});case 2:return r=e.sent,e.abrupt("return",new Re(r,n));case 4:case"end":return e.stop();}},e);}),Me=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ye(i,r,o,a,s,"next",e);}function s(e){ye(i,r,o,a,s,"throw",e);}a(void 0);});},Me.apply(this,arguments);}const $e=function(e,t){return Me.apply(this,arguments);},Ve=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},je(e);}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,We(r.key),r);}}function We(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==je(t)?t:t+"";}var He=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e),this.winSize=t,this.storage=new Float32Array(t);},(t=[{key:"push",value:function(e){this.storage.copyWithin(0,e.length),this.storage.set(e,this.winSize-e.length);}},{key:"view",get:function(){return this.storage;}},{key:"fill",value:function(e){this.storage.fill(e);}}])&&Ge(e.prototype,t),n&&Ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n;}();function ze(){return ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ke(e)););return e;}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value;}},ze.apply(null,arguments);}function Ze(e,t,n){return t=Ke(t),function(e,t){if(t&&("object"==Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}(e);}(e,Xe()?Reflect.construct(t,n||[],Ke(e).constructor):t.apply(e,n));}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(e){}return(Xe=function(){return!!e;})();}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e);},Ke(e);}function qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t);}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e;},Ye(e,t);}function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},Je(e);}function Qe(){Qe=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{l({},"");}catch(e){l=function(e,t,n){return e[t]=n;};}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a;}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}t.wrap=c;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function _(){}var v={};l(v,a,function(){return this;});var w=Object.getPrototypeOf,I=w&&w(w(k([])));I&&I!==n&&r.call(I,a)&&(v=I);var x=_.prototype=y.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e);});});}function T(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Je(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(c).then(function(e){l.value=e,a(l);},function(e){return n("throw",e,a,s);});}s(u.arg);}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o);});}return i=i?i.then(o,o):o();}});}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0};}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:d,l.arg===m)continue;return{value:l.arg,done:r.done};}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg);}};}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0);}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n;};return i.next=i;}}throw new TypeError(Je(t)+" is not iterable");}return b.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},A(T.prototype),l(T.prototype,s,function(){return this;}),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},A(x),l(x,u,"Generator"),l(x,a,function(){return this;}),l(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o;}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc);}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n);}return o;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m;}},t;}function et(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value;}catch(e){return void n(e);}s.done?t(u):Promise.resolve(u).then(r,o);}function tt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){et(i,r,o,a,s,"next",e);}function s(e){et(i,r,o,a,s,"throw",e);}a(void 0);});};}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,it(r.key),r);}}function ot(e,t,n){return t&&rt(e.prototype,t),n&&rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;}function it(e){var t=function(e,t){if("object"!=Je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==Je(t)?t:t+"";}var at=function(){return ot(function e(){nt(this,e),this._isReady=!1,this._power=100;},[{key:"init",value:(e=tt(Qe().mark(function e(t){return Qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.P1.notify({type:n.NI.INFO,message:"Init model: ".concat(this.getType()),emitter:n.kF.MODEL});case 2:case"end":return e.stop();}},e,this);})),function(t){return e.apply(this,arguments);})},{key:"getSupportedSampleRates",value:function(){return this._supporteFrameRate;}},{key:"isSampleRateSupported",value:function(e){return this._supporteFrameRate.includes(e);}},{key:"clear",value:function(){}},{key:"setPower",value:function(e){this._power=Math.trunc(100*Math.min(Math.max(0,e),1));}},{key:"getChunkSize",value:function(){return this._chunkSize;}},{key:"isReady",value:function(){return this._isReady;}}]);var e;}(),st={speed:function(e){function t(){var e;return nt(this,t),(e=Ze(this,t)).BLOCK_LENGTH=512,e.BLOCK_SHIFT=128,e._chunkSize=128,e._supporteFrameRate=[16e3],e.processingBuffer=new He(e.BLOCK_LENGTH),e;}return qe(t,e),ot(t,[{key:"init",value:(r=tt(Qe().mark(function e(t){return Qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,this.outState1=new p.es("float32",new Float32Array(this.BLOCK_LENGTH),[4,1,128]),this.outState2=new p.es("float32",new Float32Array(this.BLOCK_LENGTH),[4,1,128]),this.yTest=new p.es("float32",new Float32Array(this.BLOCK_LENGTH),[1,this.BLOCK_LENGTH,1]),this.y2Test=new p.es("float32",new Float32Array(this.BLOCK_LENGTH),[1,this.BLOCK_LENGTH,1]),this.outputBuffer=new Float32Array(this.BLOCK_LENGTH),this.clear(),this._inference=ie.getInference("onnx"),e.next=11,this._inference.init(t,this.getType());case 11:this._isReady=!0,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop();}},e,this,[[1,14]]);})),function(e){return r.apply(this,arguments);})},{key:"getType",value:function(){return"speed";}},{key:"run",value:(n=tt(Qe().mark(function e(t,n){var r,o,i,a,s;return Qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isReady()){e.next=2;break;}return e.abrupt("return",t);case 2:return this.processingBuffer.push(t),r=new p.es("float32",this.processingBuffer.view,[1,this.BLOCK_LENGTH,1]),o={out_state1_test:this.outState1,out_state2_test:this.outState2,y_test:this.yTest,y2_test:this.y2Test},e.next=7,this._inference.run({x:r,input1:this.outState1,input2:this.outState2},o);case 7:for(i=e.sent,this.outState1=i.out_state1_test,this.outState2=i.out_state2_test,this.yTest=i.y_test,this.y2Test=i.y2_test,a=this.BLOCK_LENGTH-this.BLOCK_SHIFT,s=0;s<a;++s)this.outputBuffer[s]=this.outputBuffer[s+this.BLOCK_SHIFT]+this.yTest.data[s];if(this.outputBuffer.set(this.yTest.data.subarray(a),a),!n){e.next=18;break;}return n.set(this.outputBuffer.subarray(0,this.BLOCK_SHIFT)),e.abrupt("return",n);case 18:return e.abrupt("return",this.outputBuffer.slice(0,this.BLOCK_SHIFT));case 19:case"end":return e.stop();}},e,this);})),function(e,t){return n.apply(this,arguments);})},{key:"clear",value:function(){this.processingBuffer.fill(0),[this.outState1,this.outState2,this.yTest,this.y2Test].every(function(e){return e.data.fill(0);}),this.outputBuffer.fill(0);}}]);var n,r;}(at),balanced:function(e){function t(){var e;return nt(this,t),(e=Ze(this,t))._loader=new K(),e._chunkSize=480,e._power=100,e._supporteFrameRate=[32e3,44100,48e3],e;}return qe(t,e),ot(t,[{key:"init",value:(r=tt(Qe().mark(function e(t){var n,r,o,i;return Qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Ve();case 4:if(e.sent){e.next=7;break;}throw Error("Balanced preset requires wasm simd support");case 7:return e.next=9,this._loader.get(v.getModelUrl(v.PRESETS[this.getType()]),v.CACHE_MODELS);case 9:return n=e.sent,e.t0=URL,e.next=13,n.blob();case 13:return e.t1=e.sent,r=e.t0.createObjectURL.call(e.t0,e.t1),e.next=17,$e(r,v.CUSTOMER_ID);case 17:return this._filter=e.sent,URL.revokeObjectURL(r),this._filter.setAttenLim(this._power),o=this._filter.configure(),e.next=23,j.getInstance().auth(o,"authkey");case 23:if(i=e.sent,"active"==JSON.parse(this._filter.auth(i)).status){e.next=27;break;}throw new Error("Authentication failed");case 27:this._isReady=!0,e.next=33;break;case 30:throw e.prev=30,e.t2=e.catch(1),e.t2;case 33:case"end":return e.stop();}},e,this,[[1,30]]);})),function(e){return r.apply(this,arguments);})},{key:"getType",value:function(){return"balanced";}},{key:"setPower",value:function(e){var n,r,o,i,a;(n=t,r="setPower",o=this,a=ze(Ke(1&(i=3)?n.prototype:n),r,o),2&i&&"function"==typeof a?function(e){return a.apply(o,e);}:a)([e]),this._filter&&this._filter.setAttenLim(this._power);}},{key:"run",value:(n=tt(Qe().mark(function e(t,n){var r,o;return Qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isReady()){e.next=2;break;}return e.abrupt("return",t);case 2:return r=this._filter.processFrame(t,n),o=r.output,r.lsnr,e.abrupt("return",o);case 4:case"end":return e.stop();}},e,this);})),function(e,t){return n.apply(this,arguments);})},{key:"clear",value:function(){}}]);var n,r;}(at),quality:function(e){function t(){var e;return nt(this,t),(e=Ze(this,t))._chunkSize=2048,e._supporteFrameRate=[16e3],e;}return qe(t,e),ot(t,[{key:"getType",value:function(){return"quality";}},{key:"init",value:(r=tt(Qe().mark(function e(t){return Qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,this.initInputOutputBuffers(),this._inference=ie.getInference("onnx"),e.next=6,this._inference.init(t,this.getType());case 6:this._isReady=!0,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop();}},e,this,[[1,9]]);})),function(e){return r.apply(this,arguments);})},{key:"run",value:(n=tt(Qe().mark(function e(t,n){return Qe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isReady()){e.next=2;break;}return e.abrupt("return",t);case 2:return this.inputBuffer.input=new p.es("float32",t,[1,this._chunkSize]),this.preallocBuffers.output=n?new p.es("float32",n,[1,this._chunkSize]):new p.es("float32",this.outputArray,[1,this._chunkSize]),e.next=6,this._inference.run(this.inputBuffer,this.preallocBuffers);case 6:if(!n){e.next=8;break;}return e.abrupt("return",n);case 8:return e.abrupt("return",this.outputArray.slice(0));case 9:case"end":return e.stop();}},e,this);})),function(e,t){return n.apply(this,arguments);})},{key:"clear",value:function(){for(var e in this.inputBuffer)e.startsWith("inp_state")&&this.inputBuffer[e].data.fill(0);this.outputArray.fill(0);}},{key:"initInputOutputBuffers",value:function(){function e(e){return new p.es("float32",new Float32Array(e.reduce(function(e,t){return e*t;})).fill(0),e);}for(var t in this.inputBuffer={input:new p.es("float32",[0],[1]),inp_state_000:e([1,128]),inp_state_001:e([1,2,129,2]),inp_state_002:e([1,18,129,2]),inp_state_003:e([1,34,129,2]),inp_state_004:e([1,129,32,32]),inp_state_005:e([1,129,32,32]),inp_state_006:e([1,32,64,2]),inp_state_007:e([1,48,64,2]),inp_state_008:e([1,64,64,2]),inp_state_009:e([1,64,64,22]),inp_state_010:e([1,64,64,22]),inp_state_011:e([1,64,32,2]),inp_state_012:e([1,96,32,2]),inp_state_013:e([1,128,32,2]),inp_state_014:e([1,32,128,16]),inp_state_015:e([1,32,128,16]),inp_state_016:e([1,128,16,2]),inp_state_017:e([1,192,16,2]),inp_state_018:e([1,256,16,2]),inp_state_019:e([1,16,256,11]),inp_state_020:e([1,16,256,11]),inp_state_021:e([1,256,8,2]),inp_state_022:e([1,384,8,2]),inp_state_023:e([1,512,8,2]),inp_state_024:e([1,8,256,8]),inp_state_025:e([1,8,256,8]),inp_state_026:e([1,512,16,2]),inp_state_027:e([1,256,16,2]),inp_state_028:e([1,384,16,2]),inp_state_029:e([1,512,16,2]),inp_state_030:e([1,16,128,11]),inp_state_031:e([1,16,128,11]),inp_state_032:e([1,256,32,2]),inp_state_033:e([1,128,32,2]),inp_state_034:e([1,192,32,2]),inp_state_035:e([1,256,32,2]),inp_state_036:e([1,32,64,16]),inp_state_037:e([1,32,64,16]),inp_state_038:e([1,128,64,2]),inp_state_039:e([1,64,64,2]),inp_state_040:e([1,96,64,2]),inp_state_041:e([1,128,64,2]),inp_state_042:e([1,64,32,22]),inp_state_043:e([1,64,32,22]),inp_state_044:e([1,64,129,2]),inp_state_045:e([1,32,129,2]),inp_state_046:e([1,48,129,2]),inp_state_047:e([1,64,129,2]),inp_state_048:e([1,2,129,4]),inp_state_049:e([1,2,129,1])},this.preallocBuffers={},this.inputBuffer)t.startsWith("inp_state")&&(this.preallocBuffers[t.replace("inp_","out_")]=this.inputBuffer[t]);this.outputArray=new Float32Array(this._chunkSize),this.preallocBuffers.output=new p.es("float32",this.outputArray,[1,this._chunkSize]);}}]);var n,r;}(at)},ut=new Map(),lt=function(){return ot(function e(){nt(this,e);},null,[{key:"setThreadNumber",value:function(e){p.OB.wasm.numThreads=e;}},{key:"getModel",value:function(e){return ut.has(e)||ut.set(e,new st[e]()),ut.get(e);}}]);}();function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},ct(e);}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pt(r.key),r);}}function pt(e){var t=function(e,t){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==ct(t)?t:t+"";}var dt=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e),this.state="pending",this.fate="unresolved",this.promise=new Promise(function(e,n){t._resolve=e,t._reject=n;}),this.promise.then(function(){return t.state="fulfilled";},function(){return t.state="rejected";});},(t=[{key:"resolve",value:function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",this._resolve(e);}},{key:"reject",value:function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",this._reject(e);}},{key:"isResolved",value:function(){return"resolved"===this.fate;}},{key:"isPending",value:function(){return"pending"===this.state;}},{key:"isFulfilled",value:function(){return"fulfilled"===this.state;}},{key:"isRejected",value:function(){return"rejected"===this.state;}}])&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n;}();function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},ht(e);}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mt(r.key),r);}}function mt(e){var t=function(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==ht(t)?t:t+"";}var yt=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e);var n=URL.createObjectURL(new Blob([t.toString()],{type:"application/javascript"}));this.worker=new Worker(n),URL.revokeObjectURL(n);},(t=[{key:"getWorker",value:function(){return this.worker;}}])&&gt(e.prototype,t),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n;}();function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},bt(e);}function _t(e,t,n){return t=xt(t),function(e,t){if(t&&("object"==bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}(e);}(e,vt()?Reflect.construct(t,n||[],xt(e).constructor):t.apply(e,n));}function vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(e){}return(vt=function(){return!!e;})();}function wt(e,t,n,r){var o=It(xt(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e);}:o;}function It(){return It="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=xt(e)););return e;}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value;}},It.apply(null,arguments);}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e);},xt(e);}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e;},At(e,t);}function Tt(){Tt=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{l({},"");}catch(e){l=function(e,t,n){return e[t]=n;};}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a;}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}t.wrap=c;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function _(){}var v={};l(v,a,function(){return this;});var w=Object.getPrototypeOf,I=w&&w(w(k([])));I&&I!==n&&r.call(I,a)&&(v=I);var x=_.prototype=y.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e);});});}function T(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==bt(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(c).then(function(e){l.value=e,a(l);},function(e){return n("throw",e,a,s);});}s(u.arg);}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o);});}return i=i?i.then(o,o):o();}});}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0};}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:d,l.arg===m)continue;return{value:l.arg,done:r.done};}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg);}};}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0);}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n;};return i.next=i;}}throw new TypeError(bt(t)+" is not iterable");}return b.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},A(T.prototype),l(T.prototype,s,function(){return this;}),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},A(x),l(x,u,"Generator"),l(x,a,function(){return this;}),l(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o;}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc);}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n);}return o;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m;}},t;}function Ct(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value;}catch(e){return void n(e);}s.done?t(u):Promise.resolve(u).then(r,o);}function Et(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ct(i,r,o,a,s,"next",e);}function s(e){Ct(i,r,o,a,s,"throw",e);}a(void 0);});};}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r);}}function Pt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;}function kt(e){var t=function(e,t){if("object"!=bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==bt(t)?t:t+"";}var Rt={worklet:function(t){function r(){var e;return St(this,r),(e=_t(this,r,arguments))._audioGraphInited=!1,e._isAudioContextSuspended=!1,e;}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t);}(r,t),Pt(r,[{key:"preload",value:(p=Et(Tt().mark(function e(){return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateWorker());case 1:case"end":return e.stop();}},e,this);})),function(){return p.apply(this,arguments);})},{key:"suspend",value:function(){var e;null===(e=this._context)||void 0===e||e.suspend(),this._isAudioContextSuspended=!0;}},{key:"resume",value:function(){var e;this._isAudioContextSuspended&&(null===(e=this._context)||void 0===e||e.resume(),this._isAudioContextSuspended=!1);}},{key:"init",value:(c=Et(Tt().mark(function e(t){return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(r,"init",this,3)([t]);case 2:return e.next=4,this.initAudioContextGraph();case 4:return e.next=6,this.updateAudioContext();case 6:return e.next=8,this.updateWorker();case 8:return e.next=10,this.updateMessageChannel();case 10:case"end":return e.stop();}},e,this);})),function(e){return c.apply(this,arguments);})},{key:"setPreset",value:(l=Et(Tt().mark(function e(t,n){return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._modelSampleRate==n){e.next=13;break;}return e.next=3,wt(r,"setPreset",this,3)([t,n]);case 3:return e.next=5,this.initAudioContextGraph();case 5:return e.next=7,this.updateAudioContext();case 7:return e.next=9,this.updateWorker();case 9:return e.next=11,this.updateMessageChannel();case 11:e.next=18;break;case 13:if(this._modelMeta.getType()==t){e.next=18;break;}return e.next=16,wt(r,"setPreset",this,3)([t,n]);case 16:return e.next=18,this.updateWorker();case 18:case"end":return e.stop();}},e,this);})),function(e,t){return l.apply(this,arguments);})},{key:"setAudioContext",value:(u=Et(Tt().mark(function e(t){return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._context){e.next=2;break;}throw new Error("Context is already initialized");case 2:this._context=t;case 3:case"end":return e.stop();}},e,this);})),function(e){return u.apply(this,arguments);})},{key:"updateMessageChannel",value:(s=Et(Tt().mark(function t(){var n,r;return Tt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._messagePort=new MessageChannel(),null===(n=this._worker)||void 0===n||n.postMessage({type:e.WORKLET_PORT,workletPort:this._messagePort.port2},[this._messagePort.port2]),null===(r=this._worklet)||void 0===r||r.setWorkerPort(this._messagePort.port1);case 3:case"end":return t.stop();}},t,this);})),function(){return s.apply(this,arguments);})},{key:"initAudioContextGraph",value:(a=Et(Tt().mark(function e(){var t;return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._audioGraphInited){e.next=2;break;}return e.abrupt("return");case 2:return this._context||(this._context=new AudioContext()),t=new URL(__webpack_require__(9607),__webpack_require__.b).href,e.next=6,this._context.audioWorklet.addModule(t);case 6:this._worklet=new f(this._context,{processorOptions:{processingChunk:v.PROCESSING_CHUNK_MS}}),this._audioGraphInited=!0;case 8:case"end":return e.stop();}},e,this);})),function(){return a.apply(this,arguments);})},{key:"updateAudioContext",value:(i=Et(Tt().mark(function e(){var t,n=this;return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._context||!this._worklet){e.next=8;break;}return this._worklet.updateModelSampleRate(this._modelSampleRate),this.getStream().getAudioTracks().length||(this._worklet.disconnect(),this._destinationStream=this._context.createMediaStreamDestination(),this._destinationStream.stream.getAudioTracks().forEach(function(e){var t;return null===(t=n._outputStream)||void 0===t?void 0:t.addTrack(e);}),this._worklet.connect(this._destinationStream)),null===(t=this._sourceStream)||void 0===t||t.disconnect(),this._sourceStream=this._context.createMediaStreamSource(this._originalStream),this._sourceStream.connect(this._worklet),e.abrupt("return");case 8:case"end":return e.stop();}},e,this);})),function(){return i.apply(this,arguments);})},{key:"updateWorker",value:function(){if(this._modelMeta||(this._modelMeta=lt.getModel(v.PRESET)),this._worker)return this.initWorkerProcesssor(this._modelMeta.getType(),v.getConfig());var e=new yt('/******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./node_modules/axios/index.js":\n/*!*************************************!*\\\n  !*** ./node_modules/axios/index.js ***!\n  \\*************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\nmodule.exports = __webpack_require__(/*! ./lib/axios */ "./node_modules/axios/lib/axios.js");\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/adapters/xhr.js":\n/*!************************************************!*\\\n  !*** ./node_modules/axios/lib/adapters/xhr.js ***!\n  \\************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\nvar settle = __webpack_require__(/*! ./../core/settle */ "./node_modules/axios/lib/core/settle.js");\nvar cookies = __webpack_require__(/*! ./../helpers/cookies */ "./node_modules/axios/lib/helpers/cookies.js");\nvar buildURL = __webpack_require__(/*! ./../helpers/buildURL */ "./node_modules/axios/lib/helpers/buildURL.js");\nvar buildFullPath = __webpack_require__(/*! ../core/buildFullPath */ "./node_modules/axios/lib/core/buildFullPath.js");\nvar parseHeaders = __webpack_require__(/*! ./../helpers/parseHeaders */ "./node_modules/axios/lib/helpers/parseHeaders.js");\nvar isURLSameOrigin = __webpack_require__(/*! ./../helpers/isURLSameOrigin */ "./node_modules/axios/lib/helpers/isURLSameOrigin.js");\nvar createError = __webpack_require__(/*! ../core/createError */ "./node_modules/axios/lib/core/createError.js");\nvar transitionalDefaults = __webpack_require__(/*! ../defaults/transitional */ "./node_modules/axios/lib/defaults/transitional.js");\nvar Cancel = __webpack_require__(/*! ../cancel/Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener(\'abort\', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders[\'Content-Type\']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || \'\';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : \'\';\n      requestHeaders.Authorization = \'Basic \' + btoa(username + \':\' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = \'getAllResponseHeaders\' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === \'text\' ||  responseType === \'json\' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if (\'onloadend\' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn\'t get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it\'s a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf(\'file:\') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next \'tick\'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError(\'Request aborted\', config, \'ECONNABORTED\', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it\'s a network error\n      reject(createError(\'Network Error\', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? \'timeout of \' + config.timeout + \'ms exceeded\' : \'timeout exceeded\';\n      var transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? \'ETIMEDOUT\' : \'ECONNABORTED\',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we\'re in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if (\'setRequestHeader\' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === \'undefined\' && key.toLowerCase() === \'content-type\') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== \'json\') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === \'function\') {\n      request.addEventListener(\'progress\', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === \'function\' && request.upload) {\n      request.upload.addEventListener(\'progress\', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel(\'canceled\') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener(\'abort\', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/axios.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/axios/lib/axios.js ***!\n  \\*****************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./utils */ "./node_modules/axios/lib/utils.js");\nvar bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");\nvar Axios = __webpack_require__(/*! ./core/Axios */ "./node_modules/axios/lib/core/Axios.js");\nvar mergeConfig = __webpack_require__(/*! ./core/mergeConfig */ "./node_modules/axios/lib/core/mergeConfig.js");\nvar defaults = __webpack_require__(/*! ./defaults */ "./node_modules/axios/lib/defaults/index.js");\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = __webpack_require__(/*! ./cancel/Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");\naxios.CancelToken = __webpack_require__(/*! ./cancel/CancelToken */ "./node_modules/axios/lib/cancel/CancelToken.js");\naxios.isCancel = __webpack_require__(/*! ./cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");\naxios.VERSION = (__webpack_require__(/*! ./env/data */ "./node_modules/axios/lib/env/data.js").version);\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = __webpack_require__(/*! ./helpers/spread */ "./node_modules/axios/lib/helpers/spread.js");\n\n// Expose isAxiosError\naxios.isAxiosError = __webpack_require__(/*! ./helpers/isAxiosError */ "./node_modules/axios/lib/helpers/isAxiosError.js");\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports["default"] = axios;\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/cancel/Cancel.js":\n/*!*************************************************!*\\\n  !*** ./node_modules/axios/lib/cancel/Cancel.js ***!\n  \\*************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return \'Cancel\' + (this.message ? \': \' + this.message : \'\');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/cancel/CancelToken.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/axios/lib/cancel/CancelToken.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar Cancel = __webpack_require__(/*! ./Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== \'function\') {\n    throw new TypeError(\'executor must be a function.\');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/cancel/isCancel.js":\n/*!***************************************************!*\\\n  !*** ./node_modules/axios/lib/cancel/isCancel.js ***!\n  \\***************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/Axios.js":\n/*!**********************************************!*\\\n  !*** ./node_modules/axios/lib/core/Axios.js ***!\n  \\**********************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\nvar buildURL = __webpack_require__(/*! ../helpers/buildURL */ "./node_modules/axios/lib/helpers/buildURL.js");\nvar InterceptorManager = __webpack_require__(/*! ./InterceptorManager */ "./node_modules/axios/lib/core/InterceptorManager.js");\nvar dispatchRequest = __webpack_require__(/*! ./dispatchRequest */ "./node_modules/axios/lib/core/dispatchRequest.js");\nvar mergeConfig = __webpack_require__(/*! ./mergeConfig */ "./node_modules/axios/lib/core/mergeConfig.js");\nvar validator = __webpack_require__(/*! ../helpers/validator */ "./node_modules/axios/lib/helpers/validator.js");\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios(\'example/url\'[, config]) a la fetch API\n  if (typeof configOrUrl === \'string\') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = \'get\';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === \'function\' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, \'\');\n};\n\n// Provide aliases for supported request methods\nutils.forEach([\'delete\', \'get\', \'head\', \'options\'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach([\'post\', \'put\', \'patch\'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/InterceptorManager.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/axios/lib/core/InterceptorManager.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/buildFullPath.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/axios/lib/core/buildFullPath.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar isAbsoluteURL = __webpack_require__(/*! ../helpers/isAbsoluteURL */ "./node_modules/axios/lib/helpers/isAbsoluteURL.js");\nvar combineURLs = __webpack_require__(/*! ../helpers/combineURLs */ "./node_modules/axios/lib/helpers/combineURLs.js");\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/createError.js":\n/*!****************************************************!*\\\n  !*** ./node_modules/axios/lib/core/createError.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar enhanceError = __webpack_require__(/*! ./enhanceError */ "./node_modules/axios/lib/core/enhanceError.js");\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, \'ECONNABORTED\').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/dispatchRequest.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/axios/lib/core/dispatchRequest.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\nvar transformData = __webpack_require__(/*! ./transformData */ "./node_modules/axios/lib/core/transformData.js");\nvar isCancel = __webpack_require__(/*! ../cancel/isCancel */ "./node_modules/axios/lib/cancel/isCancel.js");\nvar defaults = __webpack_require__(/*! ../defaults */ "./node_modules/axios/lib/defaults/index.js");\nvar Cancel = __webpack_require__(/*! ../cancel/Cancel */ "./node_modules/axios/lib/cancel/Cancel.js");\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel(\'canceled\');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    [\'delete\', \'get\', \'head\', \'post\', \'put\', \'patch\', \'common\'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/enhanceError.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/axios/lib/core/enhanceError.js ***!\n  \\*****************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, \'ECONNABORTED\').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/mergeConfig.js":\n/*!****************************************************!*\\\n  !*** ./node_modules/axios/lib/core/mergeConfig.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    \'url\': valueFromConfig2,\n    \'method\': valueFromConfig2,\n    \'data\': valueFromConfig2,\n    \'baseURL\': defaultToConfig2,\n    \'transformRequest\': defaultToConfig2,\n    \'transformResponse\': defaultToConfig2,\n    \'paramsSerializer\': defaultToConfig2,\n    \'timeout\': defaultToConfig2,\n    \'timeoutMessage\': defaultToConfig2,\n    \'withCredentials\': defaultToConfig2,\n    \'adapter\': defaultToConfig2,\n    \'responseType\': defaultToConfig2,\n    \'xsrfCookieName\': defaultToConfig2,\n    \'xsrfHeaderName\': defaultToConfig2,\n    \'onUploadProgress\': defaultToConfig2,\n    \'onDownloadProgress\': defaultToConfig2,\n    \'decompress\': defaultToConfig2,\n    \'maxContentLength\': defaultToConfig2,\n    \'maxBodyLength\': defaultToConfig2,\n    \'transport\': defaultToConfig2,\n    \'httpAgent\': defaultToConfig2,\n    \'httpsAgent\': defaultToConfig2,\n    \'cancelToken\': defaultToConfig2,\n    \'socketPath\': defaultToConfig2,\n    \'responseEncoding\': defaultToConfig2,\n    \'validateStatus\': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/settle.js":\n/*!***********************************************!*\\\n  !*** ./node_modules/axios/lib/core/settle.js ***!\n  \\***********************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar createError = __webpack_require__(/*! ./createError */ "./node_modules/axios/lib/core/createError.js");\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      \'Request failed with status code \' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/core/transformData.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/axios/lib/core/transformData.js ***!\n  \\******************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\nvar defaults = __webpack_require__(/*! ../defaults */ "./node_modules/axios/lib/defaults/index.js");\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/defaults/index.js":\n/*!**************************************************!*\\\n  !*** ./node_modules/axios/lib/defaults/index.js ***!\n  \\**************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ "./node_modules/process/browser.js");\n\n\nvar utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");\nvar normalizeHeaderName = __webpack_require__(/*! ../helpers/normalizeHeaderName */ "./node_modules/axios/lib/helpers/normalizeHeaderName.js");\nvar enhanceError = __webpack_require__(/*! ../core/enhanceError */ "./node_modules/axios/lib/core/enhanceError.js");\nvar transitionalDefaults = __webpack_require__(/*! ./transitional */ "./node_modules/axios/lib/defaults/transitional.js");\n\nvar DEFAULT_CONTENT_TYPE = {\n  \'Content-Type\': \'application/x-www-form-urlencoded\'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers[\'Content-Type\'])) {\n    headers[\'Content-Type\'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== \'undefined\') {\n    // For browsers use XHR adapter\n    adapter = __webpack_require__(/*! ../adapters/xhr */ "./node_modules/axios/lib/adapters/xhr.js");\n  } else if (typeof process !== \'undefined\' && Object.prototype.toString.call(process) === \'[object process]\') {\n    // For node use HTTP adapter\n    adapter = __webpack_require__(/*! ../adapters/http */ "./node_modules/axios/lib/adapters/xhr.js");\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== \'SyntaxError\') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, \'Accept\');\n    normalizeHeaderName(headers, \'Content-Type\');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, \'application/x-www-form-urlencoded;charset=utf-8\');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers[\'Content-Type\'] === \'application/json\')) {\n      setContentTypeIfUnset(headers, \'application/json\');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === \'json\';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === \'SyntaxError\') {\n            throw enhanceError(e, this, \'E_JSON_PARSE\');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: \'XSRF-TOKEN\',\n  xsrfHeaderName: \'X-XSRF-TOKEN\',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      \'Accept\': \'application/json, text/plain, */*\'\n    }\n  }\n};\n\nutils.forEach([\'delete\', \'get\', \'head\'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach([\'post\', \'put\', \'patch\'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/defaults/transitional.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/axios/lib/defaults/transitional.js ***!\n  \\*********************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\nmodule.exports = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/env/data.js":\n/*!********************************************!*\\\n  !*** ./node_modules/axios/lib/env/data.js ***!\n  \\********************************************/\n/***/ ((module) => {\n\nmodule.exports = {\n  "version": "0.26.1"\n};\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/bind.js":\n/*!************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/bind.js ***!\n  \\************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/buildURL.js":\n/*!****************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/buildURL.js ***!\n  \\****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, \':\').\n    replace(/%24/g, \'$\').\n    replace(/%2C/gi, \',\').\n    replace(/%20/g, \'+\').\n    replace(/%5B/gi, \'[\').\n    replace(/%5D/gi, \']\');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === \'undefined\') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + \'[]\';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + \'=\' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join(\'&\');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf(\'#\');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf(\'?\') === -1 ? \'?\' : \'&\') + serializedParams;\n  }\n\n  return url;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/combineURLs.js":\n/*!*******************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/combineURLs.js ***!\n  \\*******************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, \'\') + \'/\' + relativeURL.replace(/^\\/+/, \'\')\n    : baseURL;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/cookies.js":\n/*!***************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/cookies.js ***!\n  \\***************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + \'=\' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push(\'expires=\' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push(\'path=\' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push(\'domain=\' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push(\'secure\');\n          }\n\n          document.cookie = cookie.join(\'; \');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp(\'(^|;\\\\s*)(\' + name + \')=([^;]*)\'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, \'\', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/isAbsoluteURL.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/isAbsoluteURL.js ***!\n  \\*********************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/isAxiosError.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/isAxiosError.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/isURLSameOrigin.js":\n/*!***********************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/isURLSameOrigin.js ***!\n  \\***********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement(\'a\');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it\'s components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute(\'href\', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute(\'href\', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, \'\') : \'\',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, \'\') : \'\',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, \'\') : \'\',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === \'/\') ?\n            urlParsingNode.pathname :\n            \'/\' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/normalizeHeaderName.js":\n/*!***************************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/normalizeHeaderName.js ***!\n  \\***************************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ../utils */ "./node_modules/axios/lib/utils.js");\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/parseHeaders.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/parseHeaders.js ***!\n  \\********************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar utils = __webpack_require__(/*! ./../utils */ "./node_modules/axios/lib/utils.js");\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  \'age\', \'authorization\', \'content-length\', \'content-type\', \'etag\',\n  \'expires\', \'from\', \'host\', \'if-modified-since\', \'if-unmodified-since\',\n  \'last-modified\', \'location\', \'max-forwards\', \'proxy-authorization\',\n  \'referer\', \'retry-after\', \'user-agent\'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split(\'\\n\'), function parser(line) {\n    i = line.indexOf(\':\');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === \'set-cookie\') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + \', \' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/spread.js":\n/*!**************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/spread.js ***!\n  \\**************************************************/\n/***/ ((module) => {\n\n"use strict";\n\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/helpers/validator.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/axios/lib/helpers/validator.js ***!\n  \\*****************************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar VERSION = (__webpack_require__(/*! ../env/data */ "./node_modules/axios/lib/env/data.js").version);\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n[\'object\', \'boolean\', \'number\', \'function\', \'string\', \'symbol\'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || \'a\' + (i < 1 ? \'n \' : \' \') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return \'[Axios v\' + VERSION + \'] Transitional option \\\'\' + opt + \'\\\'\' + desc + (message ? \'. \' + message : \'\');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, \' has been removed\' + (version ? \' in \' + version : \'\')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          \' has been deprecated since v\' + version + \' and will be removed in the near future\'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object\'s properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== \'object\') {\n    throw new TypeError(\'options must be an object\');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError(\'option \' + opt + \' must be \' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error(\'Unknown option \' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/axios/lib/utils.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/axios/lib/utils.js ***!\n  \\*****************************************/\n/***/ ((module, __unused_webpack_exports, __webpack_require__) => {\n\n"use strict";\n\n\nvar bind = __webpack_require__(/*! ./helpers/bind */ "./node_modules/axios/lib/helpers/bind.js");\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === \'undefined\';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === \'function\' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === \'[object ArrayBuffer]\';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === \'[object FormData]\';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== \'undefined\') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === \'string\';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === \'number\';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === \'object\';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== \'[object Object]\') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === \'[object Date]\';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === \'[object File]\';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === \'[object Blob]\';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === \'[object Function]\';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === \'[object URLSearchParams]\';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, \'\');\n}\n\n/**\n * Determine if we\'re running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> \'ReactNative\'\n * nativescript\n *  navigator.product -> \'NativeScript\' or \'NS\'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== \'undefined\' && (navigator.product === \'ReactNative\' ||\n                                           navigator.product === \'NativeScript\' ||\n                                           navigator.product === \'NS\')) {\n    return false;\n  }\n  return (\n    typeof window !== \'undefined\' &&\n    typeof document !== \'undefined\'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If \'obj\' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don\'t bother if no value provided\n  if (obj === null || typeof obj === \'undefined\') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== \'object\') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === \'function\') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n\n\n/***/ }),\n\n/***/ "./src/api.ts":\n/*!********************!*\\\n  !*** ./src/api.ts ***!\n  \\********************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "API": () => (/* binding */ API)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./src/settings.ts");\n/* harmony import */ var _user_id__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user_id */ "./src/user_id.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\nvar API = /*#__PURE__*/function () {\n  function API() {\n    _classCallCheck(this, API);\n  }\n  return _createClass(API, [{\n    key: "auth",\n    value: function () {\n      var _auth = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload, auth_key) {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios__WEBPACK_IMPORTED_MODULE_0___default().post(_settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.API_URL + _settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.CUSTOMER_ID, {\n                user_id: _user_id__WEBPACK_IMPORTED_MODULE_2__.UserID.getInstance().getUID(),\n                payload: payload,\n                auth_key: auth_key\n              }, {\n                headers: {\n                  "Tsvb-Version": _settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.VERSION\n                }\n              });\n            case 3:\n              res = _context.sent;\n              _context.next = 9;\n              break;\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context["catch"](0);\n              throw new Error(_context.t0.response.data.message);\n            case 9:\n              return _context.abrupt("return", res.data.key);\n            case 10:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 6]]);\n      }));\n      function auth(_x, _x2) {\n        return _auth.apply(this, arguments);\n      }\n      return auth;\n    }()\n  }], [{\n    key: "getInstance",\n    value: function getInstance() {\n      if (!API.instance) {\n        API.instance = new API();\n      }\n      return API.instance;\n    }\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/ml_inference.ts":\n/*!*****************************!*\\\n  !*** ./src/ml_inference.ts ***!\n  \\*****************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "MLInferenceFactory": () => (/* binding */ MLInferenceFactory)\n/* harmony export */ });\n/* harmony import */ var onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! onnxruntime-web */ "./node_modules/onnxruntime-web/dist/esm/ort.min.js");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./src/settings.ts");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api */ "./src/api.ts");\n/* harmony import */ var _utils_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/loader */ "./src/utils/loader.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\nvar ONNXMLInference = /*#__PURE__*/function () {\n  function ONNXMLInference() {\n    _classCallCheck(this, ONNXMLInference);\n    this.ready = false;\n    this._loader = new _utils_loader__WEBPACK_IMPORTED_MODULE_3__.Loader();\n  }\n  return _createClass(ONNXMLInference, [{\n    key: "getType",\n    value: function getType() {\n      return "onnx";\n    }\n  }, {\n    key: "setBackend",\n    value: function setBackend(inference) {}\n  }, {\n    key: "initByPath",\n    value: function () {\n      var _initByPath = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(customer_id, path) {\n        var sessionOptions, model, payload, key, result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              sessionOptions = {\n                executionProviders: ["wasm"],\n                enableProfiling: false,\n                enableCpuMemArena: true,\n                enableMemPattern: true,\n                executionMode: "sequential",\n                graphOptimizationLevel: "all"\n              };\n              onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.env.wasm.numThreads = 1;\n              onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.env.wasm.proxy = false;\n              if (Object.keys(_settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.WASM_PATHS).length) {\n                onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.env.wasm.wasmPaths = _settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.WASM_PATHS;\n              }\n              _context.next = 6;\n              return this._loader.get(path, _settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.CACHE_MODELS);\n            case 6:\n              model = _context.sent;\n              _context.t0 = onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.InferenceSession;\n              _context.next = 10;\n              return model.arrayBuffer();\n            case 10:\n              _context.t1 = _context.sent;\n              _context.t2 = sessionOptions;\n              _context.next = 14;\n              return _context.t0.create.call(_context.t0, _context.t1, _context.t2);\n            case 14:\n              this.session = _context.sent;\n              _context.next = 17;\n              return this.session.configure(customer_id);\n            case 17:\n              payload = _context.sent;\n              _context.next = 20;\n              return _api__WEBPACK_IMPORTED_MODULE_2__.API.getInstance().auth(payload, "authkey");\n            case 20:\n              key = _context.sent;\n              _context.t3 = JSON;\n              _context.next = 24;\n              return this.session.auth(key);\n            case 24:\n              _context.t4 = _context.sent;\n              result = _context.t3.parse.call(_context.t3, _context.t4);\n              if (!(result.status != "active")) {\n                _context.next = 28;\n                break;\n              }\n              throw new Error("Authentication failed");\n            case 28:\n              this.ready = true;\n            case 29:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function initByPath(_x, _x2) {\n        return _initByPath.apply(this, arguments);\n      }\n      return initByPath;\n    }()\n  }, {\n    key: "init",\n    value: function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(customer_id) {\n        var modelType,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              modelType = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : "speed";\n              return _context2.abrupt("return", this.initByPath(customer_id, _settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.getPresetUrl(_settings__WEBPACK_IMPORTED_MODULE_1__.DefaultConfig.PRESETS[modelType])));\n            case 2:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function init(_x3) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: "isReady",\n    value: function isReady() {\n      return this.ready;\n    }\n  }, {\n    key: "run",\n    value: function () {\n      var _run = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(inputData, prealloc) {\n        var result;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.session.run(inputData, prealloc);\n            case 2:\n              result = _context3.sent;\n              return _context3.abrupt("return", result);\n            case 4:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function run(_x4, _x5) {\n        return _run.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n}();\nvar inferenceMap = {\n  onnx: ONNXMLInference\n};\nvar MLInferenceFactory = /*#__PURE__*/function () {\n  function MLInferenceFactory() {\n    _classCallCheck(this, MLInferenceFactory);\n  }\n  return _createClass(MLInferenceFactory, null, [{\n    key: "getInference",\n    value: function getInference(k) {\n      return new inferenceMap[k]();\n    }\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/model.ts":\n/*!**********************!*\\\n  !*** ./src/model.ts ***!\n  \\**********************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "ModelFactory": () => (/* binding */ ModelFactory)\n/* harmony export */ });\n/* harmony import */ var onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! onnxruntime-web */ "./node_modules/onnxruntime-web/dist/esm/ort.min.js");\n/* harmony import */ var _ml_inference__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ml_inference */ "./src/ml_inference.ts");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings */ "./src/settings.ts");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./api */ "./src/api.ts");\n/* harmony import */ var _DenoiseFilter_denoise_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DenoiseFilter/denoise_filter */ "./src/DenoiseFilter/denoise_filter.js");\n/* harmony import */ var _utils_errorBus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/errorBus */ "./src/utils/errorBus.ts");\n/* harmony import */ var wasm_feature_detect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! wasm-feature-detect */ "./node_modules/wasm-feature-detect/dist/esm/index.js");\n/* harmony import */ var _sliding_buffer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sliding_buffer */ "./src/sliding_buffer.ts");\n/* harmony import */ var _utils_loader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/loader */ "./src/utils/loader.ts");\nfunction _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && "function" == typeof p ? function (t) { return p.apply(e, t); } : p; }\nfunction _get() { return _get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }\nfunction _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\n\n\n\n\n\nvar ModelBase = /*#__PURE__*/function () {\n  function ModelBase() {\n    _classCallCheck(this, ModelBase);\n    this._isReady = false;\n    this._power = 100;\n  }\n  return _createClass(ModelBase, [{\n    key: "init",\n    value: function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(customer_id) {\n        var inference,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              inference = _args.length > 1 && _args[1] !== undefined ? _args[1] : null;\n              _utils_errorBus__WEBPACK_IMPORTED_MODULE_5__.ErrorBus.notify({\n                type: _utils_errorBus__WEBPACK_IMPORTED_MODULE_5__.ErrorType.INFO,\n                message: "Init model: ".concat(this.getType()),\n                emitter: _utils_errorBus__WEBPACK_IMPORTED_MODULE_5__.ErrorEmitter.MODEL\n              });\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: "getSupportedSampleRates",\n    value: function getSupportedSampleRates() {\n      return this._supporteFrameRate;\n    }\n  }, {\n    key: "isSampleRateSupported",\n    value: function isSampleRateSupported(sampleRate) {\n      return this._supporteFrameRate.includes(sampleRate);\n    }\n  }, {\n    key: "clear",\n    value: function clear() {}\n  }, {\n    key: "setPower",\n    value: function setPower(power) {\n      this._power = Math.trunc(Math.min(Math.max(0, power), 1) * 100);\n    }\n  }, {\n    key: "getChunkSize",\n    value: function getChunkSize() {\n      return this._chunkSize;\n    }\n  }, {\n    key: "isReady",\n    value: function isReady() {\n      return this._isReady;\n    }\n  }]);\n}();\nvar ModelSpeed = /*#__PURE__*/function (_ModelBase) {\n  function ModelSpeed() {\n    var _this;\n    _classCallCheck(this, ModelSpeed);\n    _this = _callSuper(this, ModelSpeed);\n    _this.BLOCK_LENGTH = 512;\n    _this.BLOCK_SHIFT = 128;\n    _this._chunkSize = 128;\n    _this._supporteFrameRate = [16000];\n    _this.processingBuffer = new _sliding_buffer__WEBPACK_IMPORTED_MODULE_7__.SlidingWindowBuffer(_this.BLOCK_LENGTH);\n    return _this;\n  }\n  _inherits(ModelSpeed, _ModelBase);\n  return _createClass(ModelSpeed, [{\n    key: "init",\n    value: function () {\n      var _init2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(customer_id) {\n        var inference,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              inference = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : null;\n              _context2.prev = 1;\n              this.outState1 = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", new Float32Array(this.BLOCK_LENGTH), [4, 1, 128]);\n              this.outState2 = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", new Float32Array(this.BLOCK_LENGTH), [4, 1, 128]);\n              this.yTest = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", new Float32Array(this.BLOCK_LENGTH), [1, this.BLOCK_LENGTH, 1]);\n              this.y2Test = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", new Float32Array(this.BLOCK_LENGTH), [1, this.BLOCK_LENGTH, 1]);\n              this.outputBuffer = new Float32Array(this.BLOCK_LENGTH);\n              this.clear();\n              this._inference = _ml_inference__WEBPACK_IMPORTED_MODULE_1__.MLInferenceFactory.getInference("onnx");\n              _context2.next = 11;\n              return this._inference.init(customer_id, this.getType());\n            case 11:\n              this._isReady = true;\n              _context2.next = 17;\n              break;\n            case 14:\n              _context2.prev = 14;\n              _context2.t0 = _context2["catch"](1);\n              throw _context2.t0;\n            case 17:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[1, 14]]);\n      }));\n      function init(_x2) {\n        return _init2.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: "getType",\n    value: function getType() {\n      return "speed";\n    }\n  }, {\n    key: "run",\n    value: function () {\n      var _run = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(frames, preallocOutput) {\n        var tensor, prealloc, result, shiftLength, i;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (this.isReady()) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt("return", frames);\n            case 2:\n              this.processingBuffer.push(frames);\n              tensor = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", this.processingBuffer.view, [1, this.BLOCK_LENGTH, 1]);\n              prealloc = {\n                out_state1_test: this.outState1,\n                out_state2_test: this.outState2,\n                y_test: this.yTest,\n                y2_test: this.y2Test\n              };\n              _context3.next = 7;\n              return this._inference.run({\n                x: tensor,\n                input1: this.outState1,\n                input2: this.outState2\n              }, prealloc);\n            case 7:\n              result = _context3.sent;\n              this.outState1 = result["out_state1_test"];\n              this.outState2 = result["out_state2_test"];\n              this.yTest = result["y_test"];\n              this.y2Test = result["y2_test"];\n              shiftLength = this.BLOCK_LENGTH - this.BLOCK_SHIFT;\n              for (i = 0; i < shiftLength; ++i) {\n                this.outputBuffer[i] = this.outputBuffer[i + this.BLOCK_SHIFT] + this.yTest.data[i];\n              }\n              this.outputBuffer.set(this.yTest.data.subarray(shiftLength), shiftLength);\n              if (!preallocOutput) {\n                _context3.next = 18;\n                break;\n              }\n              preallocOutput.set(this.outputBuffer.subarray(0, this.BLOCK_SHIFT));\n              return _context3.abrupt("return", preallocOutput);\n            case 18:\n              return _context3.abrupt("return", this.outputBuffer.slice(0, this.BLOCK_SHIFT));\n            case 19:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function run(_x3, _x4) {\n        return _run.apply(this, arguments);\n      }\n      return run;\n    }()\n  }, {\n    key: "clear",\n    value: function clear() {\n      this.processingBuffer.fill(0);\n      [this.outState1, this.outState2, this.yTest, this.y2Test].every(function (t) {\n        return t.data.fill(0);\n      });\n      this.outputBuffer.fill(0);\n    }\n  }]);\n}(ModelBase);\nvar ModelBalanced = /*#__PURE__*/function (_ModelBase2) {\n  function ModelBalanced() {\n    var _this2;\n    _classCallCheck(this, ModelBalanced);\n    _this2 = _callSuper(this, ModelBalanced);\n    _this2._loader = new _utils_loader__WEBPACK_IMPORTED_MODULE_8__.Loader();\n    _this2._chunkSize = 480;\n    _this2._power = 100;\n    _this2._supporteFrameRate = [32000, 44100, 48000];\n    return _this2;\n  }\n  _inherits(ModelBalanced, _ModelBase2);\n  return _createClass(ModelBalanced, [{\n    key: "init",\n    value: function () {\n      var _init3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(customer_id) {\n        var inference,\n          isSIMD,\n          model,\n          dataobj,\n          payload,\n          key,\n          result,\n          _args4 = arguments;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              inference = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : null;\n              _context4.prev = 1;\n              _context4.next = 4;\n              return (0,wasm_feature_detect__WEBPACK_IMPORTED_MODULE_6__.simd)();\n            case 4:\n              isSIMD = _context4.sent;\n              if (isSIMD) {\n                _context4.next = 7;\n                break;\n              }\n              throw Error(\'Balanced preset requires wasm simd support\');\n            case 7:\n              _context4.next = 9;\n              return this._loader.get(_settings__WEBPACK_IMPORTED_MODULE_2__.DefaultConfig.getModelUrl(_settings__WEBPACK_IMPORTED_MODULE_2__.DefaultConfig.PRESETS[this.getType()]), _settings__WEBPACK_IMPORTED_MODULE_2__.DefaultConfig.CACHE_MODELS);\n            case 9:\n              model = _context4.sent;\n              _context4.t0 = URL;\n              _context4.next = 13;\n              return model.blob();\n            case 13:\n              _context4.t1 = _context4.sent;\n              dataobj = _context4.t0.createObjectURL.call(_context4.t0, _context4.t1);\n              _context4.next = 17;\n              return (0,_DenoiseFilter_denoise_filter__WEBPACK_IMPORTED_MODULE_4__["default"])(dataobj, _settings__WEBPACK_IMPORTED_MODULE_2__.DefaultConfig.CUSTOMER_ID);\n            case 17:\n              this._filter = _context4.sent;\n              URL.revokeObjectURL(dataobj);\n              this._filter.setAttenLim(this._power);\n              payload = this._filter.configure();\n              _context4.next = 23;\n              return _api__WEBPACK_IMPORTED_MODULE_3__.API.getInstance().auth(payload, "authkey");\n            case 23:\n              key = _context4.sent;\n              result = JSON.parse(this._filter.auth(key));\n              if (!(result.status != "active")) {\n                _context4.next = 27;\n                break;\n              }\n              throw new Error("Authentication failed");\n            case 27:\n              this._isReady = true;\n              _context4.next = 33;\n              break;\n            case 30:\n              _context4.prev = 30;\n              _context4.t2 = _context4["catch"](1);\n              throw _context4.t2;\n            case 33:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4, this, [[1, 30]]);\n      }));\n      function init(_x5) {\n        return _init3.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: "getType",\n    value: function getType() {\n      return "balanced";\n    }\n  }, {\n    key: "setPower",\n    value: function setPower(power) {\n      _superPropGet(ModelBalanced, "setPower", this, 3)([power]);\n      if (this._filter) {\n        this._filter.setAttenLim(this._power);\n      }\n    }\n  }, {\n    key: "run",\n    value: function () {\n      var _run2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(frames, preallocOutput) {\n        var _this$_filter$process, output, lsnr;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              if (this.isReady()) {\n                _context5.next = 2;\n                break;\n              }\n              return _context5.abrupt("return", frames);\n            case 2:\n              _this$_filter$process = this._filter.processFrame(frames, preallocOutput), output = _this$_filter$process.output, lsnr = _this$_filter$process.lsnr;\n              return _context5.abrupt("return", output);\n            case 4:\n            case "end":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function run(_x6, _x7) {\n        return _run2.apply(this, arguments);\n      }\n      return run;\n    }()\n  }, {\n    key: "clear",\n    value: function clear() {}\n  }]);\n}(ModelBase);\nvar ModelQuality = /*#__PURE__*/function (_ModelBase3) {\n  function ModelQuality() {\n    var _this3;\n    _classCallCheck(this, ModelQuality);\n    _this3 = _callSuper(this, ModelQuality);\n    _this3._chunkSize = 2048;\n    _this3._supporteFrameRate = [16000];\n    return _this3;\n  }\n  _inherits(ModelQuality, _ModelBase3);\n  return _createClass(ModelQuality, [{\n    key: "getType",\n    value: function getType() {\n      return "quality";\n    }\n  }, {\n    key: "init",\n    value: function () {\n      var _init4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(customer_id) {\n        var inference,\n          _args6 = arguments;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              inference = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : null;\n              _context6.prev = 1;\n              this.initInputOutputBuffers();\n              this._inference = _ml_inference__WEBPACK_IMPORTED_MODULE_1__.MLInferenceFactory.getInference("onnx");\n              _context6.next = 6;\n              return this._inference.init(customer_id, this.getType());\n            case 6:\n              this._isReady = true;\n              _context6.next = 12;\n              break;\n            case 9:\n              _context6.prev = 9;\n              _context6.t0 = _context6["catch"](1);\n              throw _context6.t0;\n            case 12:\n            case "end":\n              return _context6.stop();\n          }\n        }, _callee6, this, [[1, 9]]);\n      }));\n      function init(_x8) {\n        return _init4.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: "run",\n    value: function () {\n      var _run3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(frames, preallocOutput) {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              if (this.isReady()) {\n                _context7.next = 2;\n                break;\n              }\n              return _context7.abrupt("return", frames);\n            case 2:\n              this.inputBuffer["input"] = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", frames, [1, this._chunkSize]);\n              if (preallocOutput) {\n                this.preallocBuffers["output"] = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", preallocOutput, [1, this._chunkSize]);\n              } else {\n                this.preallocBuffers["output"] = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", this.outputArray, [1, this._chunkSize]);\n              }\n              _context7.next = 6;\n              return this._inference.run(this.inputBuffer, this.preallocBuffers);\n            case 6:\n              if (!preallocOutput) {\n                _context7.next = 8;\n                break;\n              }\n              return _context7.abrupt("return", preallocOutput);\n            case 8:\n              return _context7.abrupt("return", this.outputArray.slice(0));\n            case 9:\n            case "end":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function run(_x9, _x10) {\n        return _run3.apply(this, arguments);\n      }\n      return run;\n    }()\n  }, {\n    key: "clear",\n    value: function clear() {\n      for (var key in this.inputBuffer) {\n        if (key.startsWith("inp_state")) {\n          this.inputBuffer[key].data.fill(0);\n        }\n      }\n      this.outputArray.fill(0);\n    }\n  }, {\n    key: "initInputOutputBuffers",\n    value: function initInputOutputBuffers() {\n      function zT(dims) {\n        return new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", new Float32Array(dims.reduce(function (a, b) {\n          return a * b;\n        })).fill(0), dims);\n      }\n      this.inputBuffer = {\n        input: new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", [0], [1]),\n        inp_state_000: zT([1, 128]),\n        inp_state_001: zT([1, 2, 129, 2]),\n        inp_state_002: zT([1, 18, 129, 2]),\n        inp_state_003: zT([1, 34, 129, 2]),\n        inp_state_004: zT([1, 129, 32, 32]),\n        inp_state_005: zT([1, 129, 32, 32]),\n        inp_state_006: zT([1, 32, 64, 2]),\n        inp_state_007: zT([1, 48, 64, 2]),\n        inp_state_008: zT([1, 64, 64, 2]),\n        inp_state_009: zT([1, 64, 64, 22]),\n        inp_state_010: zT([1, 64, 64, 22]),\n        inp_state_011: zT([1, 64, 32, 2]),\n        inp_state_012: zT([1, 96, 32, 2]),\n        inp_state_013: zT([1, 128, 32, 2]),\n        inp_state_014: zT([1, 32, 128, 16]),\n        inp_state_015: zT([1, 32, 128, 16]),\n        inp_state_016: zT([1, 128, 16, 2]),\n        inp_state_017: zT([1, 192, 16, 2]),\n        inp_state_018: zT([1, 256, 16, 2]),\n        inp_state_019: zT([1, 16, 256, 11]),\n        inp_state_020: zT([1, 16, 256, 11]),\n        inp_state_021: zT([1, 256, 8, 2]),\n        inp_state_022: zT([1, 384, 8, 2]),\n        inp_state_023: zT([1, 512, 8, 2]),\n        inp_state_024: zT([1, 8, 256, 8]),\n        inp_state_025: zT([1, 8, 256, 8]),\n        inp_state_026: zT([1, 512, 16, 2]),\n        inp_state_027: zT([1, 256, 16, 2]),\n        inp_state_028: zT([1, 384, 16, 2]),\n        inp_state_029: zT([1, 512, 16, 2]),\n        inp_state_030: zT([1, 16, 128, 11]),\n        inp_state_031: zT([1, 16, 128, 11]),\n        inp_state_032: zT([1, 256, 32, 2]),\n        inp_state_033: zT([1, 128, 32, 2]),\n        inp_state_034: zT([1, 192, 32, 2]),\n        inp_state_035: zT([1, 256, 32, 2]),\n        inp_state_036: zT([1, 32, 64, 16]),\n        inp_state_037: zT([1, 32, 64, 16]),\n        inp_state_038: zT([1, 128, 64, 2]),\n        inp_state_039: zT([1, 64, 64, 2]),\n        inp_state_040: zT([1, 96, 64, 2]),\n        inp_state_041: zT([1, 128, 64, 2]),\n        inp_state_042: zT([1, 64, 32, 22]),\n        inp_state_043: zT([1, 64, 32, 22]),\n        inp_state_044: zT([1, 64, 129, 2]),\n        inp_state_045: zT([1, 32, 129, 2]),\n        inp_state_046: zT([1, 48, 129, 2]),\n        inp_state_047: zT([1, 64, 129, 2]),\n        inp_state_048: zT([1, 2, 129, 4]),\n        inp_state_049: zT([1, 2, 129, 1])\n      };\n      this.preallocBuffers = {};\n      for (var key in this.inputBuffer) {\n        if (key.startsWith("inp_state")) {\n          this.preallocBuffers[key.replace("inp_", "out_")] = this.inputBuffer[key];\n        }\n      }\n      this.outputArray = new Float32Array(this._chunkSize);\n      this.preallocBuffers["output"] = new onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.Tensor("float32", this.outputArray, [1, this._chunkSize]);\n    }\n  }]);\n}(ModelBase);\nvar modelTypesMap = {\n  speed: ModelSpeed,\n  balanced: ModelBalanced,\n  quality: ModelQuality\n};\nvar readyModelMap = new Map();\nvar ModelFactory = /*#__PURE__*/function () {\n  function ModelFactory() {\n    _classCallCheck(this, ModelFactory);\n  }\n  return _createClass(ModelFactory, null, [{\n    key: "setThreadNumber",\n    value: function setThreadNumber(threadNum) {\n      onnxruntime_web__WEBPACK_IMPORTED_MODULE_0__.env.wasm.numThreads = threadNum;\n    }\n  }, {\n    key: "getModel",\n    value: function getModel(k) {\n      if (!readyModelMap.has(k)) readyModelMap.set(k, new modelTypesMap[k]());\n      return readyModelMap.get(k);\n    }\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/settings.ts":\n/*!*************************!*\\\n  !*** ./src/settings.ts ***!\n  \\*************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "DefaultConfig": () => (/* binding */ DefaultConfig),\n/* harmony export */   "Settings": () => (/* binding */ Settings)\n/* harmony export */ });\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../package.json */ "./package.json");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\n\nvar Settings = /*#__PURE__*/_createClass(function Settings() {\n  _classCallCheck(this, Settings);\n});\nSettings.APP_ENV = "web";\nSettings.API_URL = "https://effectssdk.ai/sdk/session/";\nSettings.BASE_URL = "https://effectssdk.ai/sdk/";\nSettings.SDK_URL = Settings.BASE_URL + "audio/";\nSettings.PRESET = "balanced";\nSettings.SAMPLE_RATE = 32000;\nSettings.PROCESSING_CHUNK_MS = 64;\nSettings.CUSTOMER_ID = "";\n;\nvar DefaultConfig = /*#__PURE__*/function () {\n  function DefaultConfig() {\n    _classCallCheck(this, DefaultConfig);\n  }\n  return _createClass(DefaultConfig, null, [{\n    key: "getConfig",\n    value: function getConfig() {\n      return {\n        version: this.VERSION,\n        appEnv: this.APP_ENV,\n        apiUrl: this.API_URL,\n        sdkUrl: this.SDK_URL,\n        preset: this.PRESET,\n        sampleRate: this.SAMPLE_RATE,\n        customerID: this.CUSTOMER_ID,\n        currentSrc: this.CURRENT_SRC,\n        wasmPaths: this.WASM_PATHS,\n        presets: this.PRESETS,\n        cacheModels: this.CACHE_MODELS,\n        processingChunk: this.PROCESSING_CHUNK_MS\n      };\n    }\n  }, {\n    key: "setConfig",\n    value: function setConfig(config) {\n      this.VERSION = config.version;\n      this.APP_ENV = config.appEnv;\n      this.API_URL = config.apiUrl;\n      this.PRESET = config.preset;\n      this.SAMPLE_RATE = config.sampleRate;\n      this.CUSTOMER_ID = config.customerID;\n      this.SDK_URL = config.sdkUrl;\n      this.CURRENT_SRC = config.currentSrc;\n      this.WASM_PATHS = config.wasmPaths;\n      this.PRESETS = config.presets;\n      this.CACHE_MODELS = config.cacheModels;\n      this.PROCESSING_CHUNK_MS = config.processingChunk;\n    }\n  }, {\n    key: "getModelUrl",\n    value: function getModelUrl(model) {\n      return DefaultConfig.SDK_URL + model;\n    }\n  }, {\n    key: "getPresetUrl",\n    value: function getPresetUrl(preset) {\n      return DefaultConfig.SDK_URL + preset;\n    }\n  }, {\n    key: "getCurrentPath",\n    value: function getCurrentPath() {\n      var _a;\n      DefaultConfig.CURRENT_SRC = typeof document !== \'undefined\' ? (_a = document === null || document === void 0 ? void 0 : document.currentScript) === null || _a === void 0 ? void 0 : _a.src : undefined;\n      if (DefaultConfig.CURRENT_SRC !== undefined) {\n        DefaultConfig.CURRENT_SRC = DefaultConfig.CURRENT_SRC.slice(0, DefaultConfig.CURRENT_SRC.lastIndexOf(\'/\') + 1);\n      }\n    }\n  }, {\n    key: "setWasmPath",\n    value: function setWasmPath() {\n      DefaultConfig.WASM_PATHS = {\n        "ort-wasm.wasm": DefaultConfig.CURRENT_SRC + "ort-wasm.wasm",\n        "ort-wasm-simd.wasm": DefaultConfig.CURRENT_SRC + "ort-wasm-simd.wasm",\n        "ort-wasm-threaded.wasm": DefaultConfig.CURRENT_SRC + "ort-wasm-threaded.wasm",\n        "ort-wasm-simd-threaded.wasm": DefaultConfig.CURRENT_SRC + "ort-wasm-simd-threaded.wasm"\n      };\n    }\n  }, {\n    key: "setVersion",\n    value: function setVersion() {\n      DefaultConfig.VERSION = _package_json__WEBPACK_IMPORTED_MODULE_0__.version;\n    }\n  }]);\n}();\nDefaultConfig.VERSION = "0.0.0";\nDefaultConfig.APP_ENV = Settings.APP_ENV;\nDefaultConfig.API_URL = Settings.API_URL;\nDefaultConfig.PRESET = Settings.PRESET;\nDefaultConfig.SAMPLE_RATE = Settings.SAMPLE_RATE;\nDefaultConfig.CUSTOMER_ID = Settings.CUSTOMER_ID;\nDefaultConfig.SDK_URL = Settings.SDK_URL;\nDefaultConfig.PROXY = true;\nDefaultConfig.CACHE_MODELS = true;\nDefaultConfig.CURRENT_SRC = undefined;\nDefaultConfig.PROCESSING_CHUNK_MS = Settings.PROCESSING_CHUNK_MS;\nDefaultConfig.WASM_PATHS = {};\nDefaultConfig.PRESETS = {\n  "quality": "models/audio-model-2.5.0.tsvb",\n  "balanced": "models/audio-model-3.3.1.wasm",\n  "speed": "models/audio-model-1.0.1.tsvb"\n};\n\n/***/ }),\n\n/***/ "./src/sliding_buffer.ts":\n/*!*******************************!*\\\n  !*** ./src/sliding_buffer.ts ***!\n  \\*******************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "SlidingWindowBuffer": () => (/* binding */ SlidingWindowBuffer)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nvar SlidingWindowBuffer = /*#__PURE__*/function () {\n  function SlidingWindowBuffer(windowSize) {\n    _classCallCheck(this, SlidingWindowBuffer);\n    this.winSize = windowSize;\n    this.storage = new Float32Array(windowSize);\n  }\n  return _createClass(SlidingWindowBuffer, [{\n    key: "push",\n    value: function push(chunk) {\n      this.storage.copyWithin(0, chunk.length);\n      this.storage.set(chunk, this.winSize - chunk.length);\n    }\n  }, {\n    key: "view",\n    get: function get() {\n      return this.storage;\n    }\n  }, {\n    key: "fill",\n    value: function fill(v) {\n      this.storage.fill(v);\n    }\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/user_id.ts":\n/*!************************!*\\\n  !*** ./src/user_id.ts ***!\n  \\************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "UserID": () => (/* binding */ UserID)\n/* harmony export */ });\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/dist/js.cookie.mjs");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/v4.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\nvar UserID = /*#__PURE__*/function () {\n  function UserID() {\n    _classCallCheck(this, UserID);\n  }\n  return _createClass(UserID, [{\n    key: "getUID",\n    value: function getUID() {\n      var uid = js_cookie__WEBPACK_IMPORTED_MODULE_0__["default"].get(\'TSVB_UID\');\n      if (!uid) {\n        uid = (0,uuid__WEBPACK_IMPORTED_MODULE_1__["default"])();\n        js_cookie__WEBPACK_IMPORTED_MODULE_0__["default"].set(\'TSVB_UID\', uid);\n      }\n      return uid;\n    }\n  }], [{\n    key: "getInstance",\n    value: function getInstance() {\n      if (!UserID.instance) {\n        UserID.instance = new UserID();\n      }\n      return UserID.instance;\n    }\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/utils/buffers/bufferPool.ts":\n/*!*****************************************!*\\\n  !*** ./src/utils/buffers/bufferPool.ts ***!\n  \\*****************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "BufferPool": () => (/* binding */ BufferPool)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nvar BufferPool = /*#__PURE__*/function () {\n  function BufferPool() {\n    _classCallCheck(this, BufferPool);\n    this.u8Buffers = {};\n    this.f32Buffers = {};\n  }\n  return _createClass(BufferPool, [{\n    key: "getBuffer",\n    value: function getBuffer(type, length) {\n      var _a, _b;\n      var bufferDict = type === "f32" ? this.f32Buffers : this.u8Buffers;\n      var buffer = (_b = (_a = bufferDict[length]) === null || _a === void 0 ? void 0 : _a.pop()) !== null && _b !== void 0 ? _b : type === "f32" ? new Float32Array(length) : new Uint8Array(length);\n      return buffer;\n    }\n  }, {\n    key: "returnBuffer",\n    value: function returnBuffer(buffer) {\n      if (buffer instanceof Float32Array) {\n        this.returnBufferAs(buffer, this.f32Buffers, buffer.length);\n      } else {\n        this.returnBufferAs(buffer, this.u8Buffers, buffer.length);\n      }\n    }\n  }, {\n    key: "returnBufferAs",\n    value: function returnBufferAs(buffer, bufferMap, length) {\n      var bufferList = bufferMap[length];\n      if (bufferList !== undefined) {\n        bufferList.push(buffer);\n      } else {\n        bufferMap[length] = [buffer];\n      }\n    }\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/utils/buffers/ringBuffer.ts":\n/*!*****************************************!*\\\n  !*** ./src/utils/buffers/ringBuffer.ts ***!\n  \\*****************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "RingBuffer": () => (/* binding */ RingBuffer)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nvar RingBuffer = /*#__PURE__*/function () {\n  function RingBuffer(length) {\n    _classCallCheck(this, RingBuffer);\n    this._readIndex = 0;\n    this._writeIndex = 0;\n    this._framesAvailable = 0;\n    this._channelData = new Float32Array(length);\n  }\n  return _createClass(RingBuffer, [{\n    key: "framesAvailable",\n    get: function get() {\n      return this._framesAvailable;\n    }\n  }, {\n    key: "push",\n    value: function push(input) {\n      if (input.length < 1) {\n        return;\n      }\n      var srcOffset = Math.max(0, input.length - this.capacity);\n      var firstLen = Math.min(input.length - srcOffset, this.capacity - this._writeIndex);\n      this.copyFrom(input, srcOffset, this._writeIndex, firstLen);\n      this._writeIndex = (this._writeIndex + firstLen) % this.capacity;\n      srcOffset += firstLen;\n      var secondLen = input.length - srcOffset;\n      if (secondLen > 0) {\n        this.copyFrom(input, srcOffset, this._writeIndex, secondLen);\n        this._writeIndex += secondLen;\n      }\n      this._framesAvailable += firstLen + secondLen;\n      this._framesAvailable = Math.min(this._framesAvailable, this.capacity);\n    }\n  }, {\n    key: "pull",\n    value: function pull(output) {\n      var firstLen = Math.min(output.length, this._framesAvailable, this.capacity - this._readIndex);\n      if (firstLen < 1) {\n        return;\n      }\n      this.copyTo(output, 0, this._readIndex, firstLen);\n      this._readIndex = (this._readIndex + firstLen) % this.capacity;\n      this._framesAvailable -= firstLen;\n      var secondLen = Math.min(output.length - firstLen, this._framesAvailable);\n      if (secondLen > 0) {\n        var outputOffset = firstLen;\n        this.copyTo(output, outputOffset, this._readIndex, secondLen);\n        this._readIndex += secondLen;\n        this._framesAvailable -= secondLen;\n      }\n    }\n  }, {\n    key: "updateReadIndex",\n    value: function updateReadIndex(destinationLength) {\n      this._readIndex = (this._readIndex + destinationLength) % this.capacity;\n      this._framesAvailable = Math.max(this._framesAvailable - destinationLength, 0);\n    }\n  }, {\n    key: "drop",\n    value: function drop(count) {\n      this.updateReadIndex(count);\n    }\n  }, {\n    key: "capacity",\n    get: function get() {\n      return this._channelData.length;\n    }\n  }, {\n    key: "copyFrom",\n    value: function copyFrom(input, inputOffset, thisOffset, length) {\n      this._channelData.set(input.subarray(inputOffset, inputOffset + length), thisOffset);\n    }\n  }, {\n    key: "copyTo",\n    value: function copyTo(output, dstOffset, thisOffset, length) {\n      output.set(this._channelData.subarray(thisOffset, thisOffset + length), dstOffset);\n    }\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/utils/errorBus.ts":\n/*!*******************************!*\\\n  !*** ./src/utils/errorBus.ts ***!\n  \\*******************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "ErrorBus": () => (/* binding */ ErrorBus),\n/* harmony export */   "ErrorCode": () => (/* binding */ ErrorCode),\n/* harmony export */   "ErrorEmitter": () => (/* binding */ ErrorEmitter),\n/* harmony export */   "ErrorType": () => (/* binding */ ErrorType)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nvar _ErrorBus = /*#__PURE__*/function () {\n  function _ErrorBus() {\n    _classCallCheck(this, _ErrorBus);\n  }\n  return _createClass(_ErrorBus, [{\n    key: "subscribe",\n    value: function subscribe(f) {\n      if (typeof f !== "function") return;\n      this.onErrorFunction = f;\n    }\n  }, {\n    key: "notify",\n    value: function notify(n) {\n      if (typeof this.onErrorFunction !== "function") return;\n      if (n.emitter) {\n        n.message = "[ ".concat(n.emitter, " ]: ").concat(n.message);\n      }\n      if (!n.type) {\n        n.type = ErrorType.ERROR;\n      }\n      this.onErrorFunction(n);\n    }\n  }], [{\n    key: "getInstance",\n    value: function getInstance() {\n      if (!_ErrorBus._instance) {\n        _ErrorBus._instance = new _ErrorBus();\n      }\n      return _ErrorBus._instance;\n    }\n  }]);\n}();\nvar ErrorBus = _ErrorBus.getInstance();\nvar ErrorCode;\n(function (ErrorCode) {\n  ErrorCode[ErrorCode["PERFORMANCE_STOP"] = 1001] = "PERFORMANCE_STOP";\n  ErrorCode[ErrorCode["REDUCE_LATENCY"] = 1002] = "REDUCE_LATENCY";\n})(ErrorCode || (ErrorCode = {}));\nvar ErrorType;\n(function (ErrorType) {\n  ErrorType["INFO"] = "info";\n  ErrorType["WARNING"] = "warning";\n  ErrorType["ERROR"] = "error";\n})(ErrorType || (ErrorType = {}));\nvar ErrorEmitter;\n(function (ErrorEmitter) {\n  ErrorEmitter["ATSVB"] = "atsvb";\n  ErrorEmitter["STREAM_PROCESSOR"] = "stream_processor";\n  ErrorEmitter["ML_INFERENCE"] = "ml_inference";\n  ErrorEmitter["MODEL"] = "model";\n  ErrorEmitter["WORKLET"] = "worklet";\n  ErrorEmitter["WORKER"] = "worker";\n  ErrorEmitter["MODEL_LOADER"] = "model_loader";\n})(ErrorEmitter || (ErrorEmitter = {}));\n\n/***/ }),\n\n/***/ "./src/utils/loader.ts":\n/*!*****************************!*\\\n  !*** ./src/utils/loader.ts ***!\n  \\*****************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Loader": () => (/* binding */ Loader)\n/* harmony export */ });\n/* harmony import */ var _errorBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errorBus */ "./src/utils/errorBus.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\nvar Loader = /*#__PURE__*/function () {\n  function Loader() {\n    _classCallCheck(this, Loader);\n    this._name = \'atsvb\';\n  }\n  return _createClass(Loader, [{\n    key: "get",\n    value: function () {\n      var _get = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url, cache) {\n        var response, clone;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (this._cache) {\n                _context.next = 4;\n                break;\n              }\n              _context.next = 3;\n              return caches.open(this._name);\n            case 3:\n              this._cache = _context.sent;\n            case 4:\n              _context.next = 6;\n              return this._cache.match(url);\n            case 6:\n              response = _context.sent;\n              if (!(response !== undefined)) {\n                _context.next = 9;\n                break;\n              }\n              return _context.abrupt("return", response);\n            case 9:\n              _context.next = 11;\n              return fetch(url);\n            case 11:\n              response = _context.sent;\n              if (response.ok) {\n                _context.next = 15;\n                break;\n              }\n              _errorBus__WEBPACK_IMPORTED_MODULE_0__.ErrorBus.notify({\n                message: "".concat(url, " don\'t found"),\n                emitter: _errorBus__WEBPACK_IMPORTED_MODULE_0__.ErrorEmitter.MODEL_LOADER\n              });\n              return _context.abrupt("return", response);\n            case 15:\n              if (!cache) {\n                _context.next = 20;\n                break;\n              }\n              clone = response.clone();\n              _context.next = 19;\n              return this._cache.put(url, response);\n            case 19:\n              return _context.abrupt("return", clone);\n            case 20:\n              return _context.abrupt("return", response);\n            case 21:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function get(_x, _x2) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }, {\n    key: "delete",\n    value: function () {\n      var _delete2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return caches["delete"](this._name);\n            case 2:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function _delete() {\n        return _delete2.apply(this, arguments);\n      }\n      return _delete;\n    }()\n  }]);\n}();\n\n/***/ }),\n\n/***/ "./src/workers/postmessageTypes.ts":\n/*!*****************************************!*\\\n  !*** ./src/workers/postmessageTypes.ts ***!\n  \\*****************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "WORKER_PROCESSOR_POSTMESSAGE_TYPE": () => (/* binding */ WORKER_PROCESSOR_POSTMESSAGE_TYPE),\n/* harmony export */   "WORKLET_PROCESSOR_POSTMESSAGE_TYPE": () => (/* binding */ WORKLET_PROCESSOR_POSTMESSAGE_TYPE)\n/* harmony export */ });\nvar WORKER_PROCESSOR_POSTMESSAGE_TYPE;\n(function (WORKER_PROCESSOR_POSTMESSAGE_TYPE) {\n  WORKER_PROCESSOR_POSTMESSAGE_TYPE["PROCESSOR_READY"] = "processor_ready";\n  WORKER_PROCESSOR_POSTMESSAGE_TYPE["WORKLET_PORT"] = "worklet_port";\n  WORKER_PROCESSOR_POSTMESSAGE_TYPE["DENOISE_POWER"] = "denoise_power";\n  WORKER_PROCESSOR_POSTMESSAGE_TYPE["ERROR"] = "error";\n  WORKER_PROCESSOR_POSTMESSAGE_TYPE["INIT"] = "init";\n  WORKER_PROCESSOR_POSTMESSAGE_TYPE["CLEAN"] = "clean";\n  WORKER_PROCESSOR_POSTMESSAGE_TYPE["DBG_DELAY_PROCESSING"] = "delay_processing";\n})(WORKER_PROCESSOR_POSTMESSAGE_TYPE || (WORKER_PROCESSOR_POSTMESSAGE_TYPE = {}));\nvar WORKLET_PROCESSOR_POSTMESSAGE_TYPE;\n(function (WORKLET_PROCESSOR_POSTMESSAGE_TYPE) {\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["START_PROCESSING"] = "start_processing";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["STOP_PROCESSING"] = "stop_processing";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["PROCESSING_CHUNK"] = "processing_chunk";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["WORKER_PORT"] = "worker_port";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["PERFORMANCE_STOP"] = "performance_stop";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["SPEEDUP_VOICE"] = "speedup_voice";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["MODEL_SAMPLE_RATE"] = "model_sample_rate";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["ERROR"] = "error";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["INFO"] = "info";\n  WORKLET_PROCESSOR_POSTMESSAGE_TYPE["DBG_PUSH_SILENCE"] = "push_silence";\n})(WORKLET_PROCESSOR_POSTMESSAGE_TYPE || (WORKLET_PROCESSOR_POSTMESSAGE_TYPE = {}));\n\n/***/ }),\n\n/***/ "./src/DenoiseFilter/denoise_filter.js":\n/*!*********************************************!*\\\n  !*** ./src/DenoiseFilter/denoise_filter.js ***!\n  \\*********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _wasm_bindings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wasm_bindings.js */ "./src/DenoiseFilter/wasm_bindings.js");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _classPrivateMethodInitSpec(e, a) { _checkPrivateRedeclaration(e, a), a.add(e); }\nfunction _classPrivateFieldInitSpec(e, t, a) { _checkPrivateRedeclaration(e, t), t.set(e, a); }\nfunction _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError("Cannot initialize the same private elements twice on an object"); }\nfunction _classPrivateFieldGet(s, a) { return s.get(_assertClassBrand(s, a)); }\nfunction _classPrivateFieldSet(s, a, r) { return s.set(_assertClassBrand(s, a), r), r; }\nfunction _assertClassBrand(e, t, n) { if ("function" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n; throw new TypeError("Private element is not present on this object"); }\n\nvar _module = /*#__PURE__*/new WeakMap();\nvar _filter_state = /*#__PURE__*/new WeakMap();\nvar _inputPtr = /*#__PURE__*/new WeakMap();\nvar _outputPtr = /*#__PURE__*/new WeakMap();\nvar _initialized = /*#__PURE__*/new WeakMap();\nvar _disposed = /*#__PURE__*/new WeakMap();\nvar _DenoiseFilter_brand = /*#__PURE__*/new WeakSet();\nvar DenoiseFilter = /*#__PURE__*/function () {\n  function DenoiseFilter(wasmModule, customerId) {\n    _classCallCheck(this, DenoiseFilter);\n    _classPrivateMethodInitSpec(this, _DenoiseFilter_brand);\n    _classPrivateFieldInitSpec(this, _module, void 0);\n    _classPrivateFieldInitSpec(this, _filter_state, void 0);\n    _classPrivateFieldInitSpec(this, _inputPtr, void 0);\n    _classPrivateFieldInitSpec(this, _outputPtr, void 0);\n    _classPrivateFieldInitSpec(this, _initialized, void 0);\n    _classPrivateFieldInitSpec(this, _disposed, void 0);\n    if (!wasmModule) {\n      throw new Error("Expected wasm module");\n    }\n    if (!customerId) {\n      throw new Error("Expected customer id (string)");\n    }\n    _classPrivateFieldSet(_module, this, wasmModule);\n    _classPrivateFieldSet(_inputPtr, this, 0);\n    _classPrivateFieldSet(_outputPtr, this, 0);\n    _classPrivateFieldSet(_disposed, this, false);\n    _classPrivateFieldSet(_initialized, this, false);\n    var customerIdPtr = _classPrivateFieldGet(_module, this).stringToNewUTF8(customerId);\n    _classPrivateFieldSet(_filter_state, this, _classPrivateFieldGet(_module, this)._state_create(customerIdPtr));\n    _classPrivateFieldGet(_module, this)._free(customerIdPtr);\n  }\n  return _createClass(DenoiseFilter, [{\n    key: "configure",\n    value: function configure() {\n      _assertClassBrand(_DenoiseFilter_brand, this, _throw_if_disposed).call(this);\n      var strPtr = _classPrivateFieldGet(_module, this)._state_configure(_classPrivateFieldGet(_filter_state, this));\n      if (0 == strPtr) {\n        _assertClassBrand(_DenoiseFilter_brand, this, _throw_last_error).call(this);\n      }\n      var request = _classPrivateFieldGet(_module, this).UTF8ToString(strPtr);\n      _classPrivateFieldGet(_module, this)._free(strPtr);\n      return request;\n    }\n  }, {\n    key: "auth",\n    value: function auth(response) {\n      _assertClassBrand(_DenoiseFilter_brand, this, _throw_if_disposed).call(this);\n      var responsePtr = _classPrivateFieldGet(_module, this).stringToNewUTF8(response);\n      var resultPtr = _classPrivateFieldGet(_module, this)._state_auth(_classPrivateFieldGet(_filter_state, this), responsePtr);\n      _classPrivateFieldGet(_module, this)._free(responsePtr);\n      if (0 == resultPtr) {\n        _assertClassBrand(_DenoiseFilter_brand, this, _throw_last_error).call(this);\n      }\n      var result = _classPrivateFieldGet(_module, this).UTF8ToString(resultPtr);\n      _classPrivateFieldGet(_module, this)._free(resultPtr);\n      var resultJson = JSON.parse(result);\n      _classPrivateFieldSet(_initialized, this, resultJson.status == "active");\n      if (_classPrivateFieldGet(_initialized, this)) {\n        _assertClassBrand(_DenoiseFilter_brand, this, _initBuffers).call(this);\n      }\n      return result;\n    }\n  }, {\n    key: "frameLength",\n    value: function frameLength() {\n      _assertClassBrand(_DenoiseFilter_brand, this, _throw_if_uninit).call(this);\n      return _classPrivateFieldGet(_module, this)._state_get_frame_length(_classPrivateFieldGet(_filter_state, this));\n    }\n  }, {\n    key: "bytesPerFrame",\n    value: function bytesPerFrame() {\n      return this.frameLength() * Float32Array.BYTES_PER_ELEMENT;\n    }\n  }, {\n    key: "setAttenLim",\n    value: function setAttenLim(lim_db) {\n      _assertClassBrand(_DenoiseFilter_brand, this, _throw_if_disposed).call(this);\n      _classPrivateFieldGet(_module, this)._state_set_atten_lim(_classPrivateFieldGet(_filter_state, this), lim_db);\n    }\n  }, {\n    key: "setPostFilterBeta",\n    value: function setPostFilterBeta(beta) {\n      _assertClassBrand(_DenoiseFilter_brand, this, _throw_if_disposed).call(this);\n      _classPrivateFieldGet(_module, this)._state_set_pf_beta(_classPrivateFieldGet(_filter_state, this), beta);\n    }\n  }, {\n    key: "processFrame",\n    value: function processFrame(input) {\n      var preallocOutput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      _assertClassBrand(_DenoiseFilter_brand, this, _throw_if_uninit).call(this);\n      if (!(input instanceof Float32Array)) {\n        throw new Error("Unexpected input type. (Expected: Float32Array)");\n      }\n      var bytesPerFrame = this.bytesPerFrame();\n      if (input.byteLength != bytesPerFrame) {\n        throw new Error("Incorrect input size, expected: " + bytesPerFrame);\n      }\n      var elementSize = Float32Array.BYTES_PER_ELEMENT;\n      var inPtr = _assertClassBrand(_DenoiseFilter_brand, this, _alignPtr).call(this, _classPrivateFieldGet(_inputPtr, this), elementSize);\n      var outPtr = _assertClassBrand(_DenoiseFilter_brand, this, _alignPtr).call(this, _classPrivateFieldGet(_outputPtr, this), elementSize);\n      _classPrivateFieldGet(_module, this).HEAPF32.set(input, inPtr / elementSize);\n      var frameLength = this.frameLength();\n      var code = _classPrivateFieldGet(_module, this)._state_process_frame(_classPrivateFieldGet(_filter_state, this), inPtr, frameLength, outPtr, frameLength);\n      if (0 != code) {\n        _assertClassBrand(_DenoiseFilter_brand, this, _throw_last_error).call(this);\n      }\n      var outF32Offset = outPtr / elementSize;\n      var lsnr = _classPrivateFieldGet(_module, this)._state_get_last_lsnr(_classPrivateFieldGet(_filter_state, this));\n      if (preallocOutput !== null) {\n        var view = _classPrivateFieldGet(_module, this).HEAPF32.subarray(outF32Offset, outF32Offset + frameLength);\n        preallocOutput.set(view);\n        return {\n          output: preallocOutput,\n          lsnr: lsnr\n        };\n      }\n      return {\n        output: _classPrivateFieldGet(_module, this).HEAPF32.slice(outF32Offset, outF32Offset + frameLength),\n        lsnr: lsnr\n      };\n    }\n  }, {\n    key: "processLSNR",\n    value: function processLSNR(input) {\n      if (!(input instanceof Float32Array)) {\n        throw new Error("Unexpected input type. (Expected: Float32Array)");\n      }\n      var bytesPerFrame = this.bytesPerFrame();\n      if (input.byteLength != bytesPerFrame) {\n        throw new Error("Incorrect input size, expected: " + bytesPerFrame);\n      }\n      var elementSize = Float32Array.BYTES_PER_ELEMENT;\n      var inPtr = _assertClassBrand(_DenoiseFilter_brand, this, _alignPtr).call(this, _classPrivateFieldGet(_inputPtr, this), elementSize);\n      _classPrivateFieldGet(_module, this).HEAPF32.set(input, inPtr / elementSize);\n      var frameLength = this.frameLength();\n      var code = _classPrivateFieldGet(_module, this)._state_process_lsnr(_classPrivateFieldGet(_filter_state, this), inPtr, frameLength);\n      if (0 != code) {\n        _assertClassBrand(_DenoiseFilter_brand, this, _throw_last_error).call(this);\n      }\n      return _classPrivateFieldGet(_module, this)._state_get_last_lsnr(_classPrivateFieldGet(_filter_state, this));\n    }\n  }, {\n    key: "dispose",\n    value: function dispose() {\n      _classPrivateFieldGet(_module, this)._state_destroy(_classPrivateFieldGet(_filter_state, this));\n      this._free(_classPrivateFieldGet(_inputPtr, this));\n      _classPrivateFieldSet(_inputPtr, this, 0);\n      this._free(_classPrivateFieldGet(_outputPtr, this));\n      _classPrivateFieldSet(_outputPtr, this, 0);\n      _classPrivateFieldSet(_disposed, this, true);\n      _classPrivateFieldSet(_initialized, this, false);\n      _classPrivateFieldSet(_filter_state, this, 0);\n      _classPrivateFieldSet(_module, this, null);\n    }\n  }, {\n    key: "free",\n    value: function free() {\n      this.dispose();\n    }\n  }]);\n}();\nfunction _throw_last_error() {\n  var errorStrPtr = _classPrivateFieldGet(_module, this)._state_get_last_error(_classPrivateFieldGet(_filter_state, this));\n  var errorStr = _classPrivateFieldGet(_module, this).UTF8ToString(errorStrPtr);\n  _classPrivateFieldGet(_module, this)._state_clear_last_error(_classPrivateFieldGet(_filter_state, this));\n  throw new Error(errorStr);\n}\nfunction _throw_if_disposed() {\n  if (_classPrivateFieldGet(_disposed, this)) {\n    throw new Error("This instance already disposed");\n  }\n}\nfunction _throw_if_uninit() {\n  _assertClassBrand(_DenoiseFilter_brand, this, _throw_if_disposed).call(this);\n  if (_classPrivateFieldGet(_initialized, this)) {\n    return;\n  }\n  throw new Error("This instance can not be used until initialized");\n}\nfunction _initBuffers() {\n  var alignment = Float32Array.BYTES_PER_ELEMENT;\n  var bufferSize = this.bytesPerFrame() + (alignment - 1);\n  _classPrivateFieldSet(_inputPtr, this, _assertClassBrand(_DenoiseFilter_brand, this, _malloc).call(this, bufferSize));\n  _classPrivateFieldSet(_outputPtr, this, _assertClassBrand(_DenoiseFilter_brand, this, _malloc).call(this, bufferSize));\n}\nfunction _alignPtr(ptr, alignment) {\n  var pad = (alignment - ptr % alignment) % alignment;\n  return ptr + pad;\n}\nfunction _malloc(size) {\n  var ptr = _classPrivateFieldGet(_module, this)._malloc(size);\n  if (ptr === 0) {\n    throw new Error("Failure to allocate " + size + " bytes");\n  }\n  return ptr;\n}\nfunction createDenoiseFilter(_x, _x2) {\n  return _createDenoiseFilter.apply(this, arguments);\n}\nfunction _createDenoiseFilter() {\n  _createDenoiseFilter = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(model, customerId) {\n    var wasm;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return (0,_wasm_bindings_js__WEBPACK_IMPORTED_MODULE_0__["default"])({\n            locateFile: function locateFile(p1, p2) {\n              return model;\n            }\n          });\n        case 2:\n          wasm = _context.sent;\n          return _context.abrupt("return", new DenoiseFilter(wasm, customerId));\n        case 4:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _createDenoiseFilter.apply(this, arguments);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createDenoiseFilter);\n\n/***/ }),\n\n/***/ "./src/DenoiseFilter/wasm_bindings.js":\n/*!********************************************!*\\\n  !*** ./src/DenoiseFilter/wasm_bindings.js ***!\n  \\********************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nvar createAudioModule = function () {\n  var _scriptName = "file:///Users/tmv/work/vbsdk/audio/src/DenoiseFilter/wasm_bindings.js";\n  return function () {\n    var moduleArg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var moduleRtn;\n    var Module = moduleArg;\n    var readyPromiseResolve, readyPromiseReject;\n    var readyPromise = new Promise(function (resolve, reject) {\n      readyPromiseResolve = resolve;\n      readyPromiseReject = reject;\n    });\n    var ENVIRONMENT_IS_WEB = false;\n    var ENVIRONMENT_IS_WORKER = true;\n    var moduleOverrides = Object.assign({}, Module);\n    var thisProgram = "./this.program";\n    var scriptDirectory = "";\n    function locateFile(path) {\n      if (Module["locateFile"]) {\n        return Module["locateFile"](path, scriptDirectory);\n      }\n      return scriptDirectory + path;\n    }\n    var readAsync, readBinary;\n    if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\n      if (ENVIRONMENT_IS_WORKER) {\n        scriptDirectory = self.location.href;\n      } else if (typeof document != "undefined" && document.currentScript) {\n        scriptDirectory = document.currentScript.src;\n      }\n      if (_scriptName) {\n        scriptDirectory = _scriptName;\n      }\n      if (scriptDirectory.startsWith("blob:")) {\n        scriptDirectory = "";\n      } else {\n        scriptDirectory = scriptDirectory.substr(0, scriptDirectory.replace(/[?#].*/, "").lastIndexOf("/") + 1);\n      }\n      {\n        if (ENVIRONMENT_IS_WORKER) {\n          readBinary = function readBinary(url) {\n            var xhr = new XMLHttpRequest();\n            xhr.open("GET", url, false);\n            xhr.responseType = "arraybuffer";\n            xhr.send(null);\n            return new Uint8Array(xhr.response);\n          };\n        }\n        readAsync = function readAsync(url) {\n          return fetch(url, {\n            credentials: "same-origin"\n          }).then(function (response) {\n            if (response.ok) {\n              return response.arrayBuffer();\n            }\n            return Promise.reject(new Error(response.status + " : " + response.url));\n          });\n        };\n      }\n    } else {}\n    var out = console.log.bind(console);\n    var err = console.error.bind(console);\n    Object.assign(Module, moduleOverrides);\n    moduleOverrides = null;\n    var wasmBinary;\n    var wasmMemory;\n    var ABORT = false;\n    var HEAP8, HEAPU8, HEAP16, HEAPU16, HEAP32, HEAPU32, HEAPF32, HEAPF64;\n    function updateMemoryViews() {\n      var b = wasmMemory.buffer;\n      Module["HEAP8"] = HEAP8 = new Int8Array(b);\n      Module["HEAP16"] = HEAP16 = new Int16Array(b);\n      Module["HEAPU8"] = HEAPU8 = new Uint8Array(b);\n      Module["HEAPU16"] = HEAPU16 = new Uint16Array(b);\n      Module["HEAP32"] = HEAP32 = new Int32Array(b);\n      Module["HEAPU32"] = HEAPU32 = new Uint32Array(b);\n      Module["HEAPF32"] = HEAPF32 = new Float32Array(b);\n      Module["HEAPF64"] = HEAPF64 = new Float64Array(b);\n    }\n    var __ATPRERUN__ = [];\n    var __ATINIT__ = [];\n    var __ATPOSTRUN__ = [];\n    var runtimeInitialized = false;\n    function preRun() {\n      callRuntimeCallbacks(__ATPRERUN__);\n    }\n    function initRuntime() {\n      runtimeInitialized = true;\n      callRuntimeCallbacks(__ATINIT__);\n    }\n    function postRun() {\n      callRuntimeCallbacks(__ATPOSTRUN__);\n    }\n    function addOnInit(cb) {\n      __ATINIT__.unshift(cb);\n    }\n    var runDependencies = 0;\n    var runDependencyWatcher = null;\n    var dependenciesFulfilled = null;\n    function addRunDependency(id) {\n      runDependencies++;\n    }\n    function removeRunDependency(id) {\n      runDependencies--;\n      if (runDependencies == 0) {\n        if (runDependencyWatcher !== null) {\n          clearInterval(runDependencyWatcher);\n          runDependencyWatcher = null;\n        }\n        if (dependenciesFulfilled) {\n          var callback = dependenciesFulfilled;\n          dependenciesFulfilled = null;\n          callback();\n        }\n      }\n    }\n    function abort(what) {\n      what = "Aborted(" + what + ")";\n      err(what);\n      ABORT = true;\n      what += ". Build with -sASSERTIONS for more info.";\n      var e = new WebAssembly.RuntimeError(what);\n      readyPromiseReject(e);\n      throw e;\n    }\n    var dataURIPrefix = "data:application/octet-stream;base64,";\n    var isDataURI = function isDataURI(filename) {\n      return filename.startsWith(dataURIPrefix);\n    };\n    function findWasmBinary() {\n      if (Module["locateFile"]) {\n        var f = "am.wasm";\n        if (!isDataURI(f)) {\n          return locateFile(f);\n        }\n        return f;\n      }\n    }\n    var wasmBinaryFile;\n    function getBinarySync(file) {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) {\n        return readBinary(file);\n      }\n      throw "both async and sync fetching of the wasm failed";\n    }\n    function getBinaryPromise(binaryFile) {\n      if (!wasmBinary) {\n        return readAsync(binaryFile).then(function (response) {\n          return new Uint8Array(response);\n        }, function () {\n          return getBinarySync(binaryFile);\n        });\n      }\n      return Promise.resolve().then(function () {\n        return getBinarySync(binaryFile);\n      });\n    }\n    function instantiateArrayBuffer(binaryFile, imports, receiver) {\n      return getBinaryPromise(binaryFile).then(function (binary) {\n        return WebAssembly.instantiate(binary, imports);\n      }).then(receiver, function (reason) {\n        err("failed to asynchronously prepare wasm: ".concat(reason));\n        abort(reason);\n      });\n    }\n    function instantiateAsync(binary, binaryFile, imports, callback) {\n      if (!binary && typeof WebAssembly.instantiateStreaming == "function" && !isDataURI(binaryFile) && typeof fetch == "function") {\n        return fetch(binaryFile, {\n          credentials: "same-origin"\n        }).then(function (response) {\n          var result = WebAssembly.instantiateStreaming(response, imports);\n          return result.then(callback, function (reason) {\n            err("wasm streaming compile failed: ".concat(reason));\n            err("falling back to ArrayBuffer instantiation");\n            return instantiateArrayBuffer(binaryFile, imports, callback);\n          });\n        });\n      }\n      return instantiateArrayBuffer(binaryFile, imports, callback);\n    }\n    function getWasmImports() {\n      return {\n        a: wasmImports\n      };\n    }\n    function createWasm() {\n      var _wasmBinaryFile;\n      var info = getWasmImports();\n      function receiveInstance(instance, module) {\n        wasmExports = instance.exports;\n        wasmMemory = wasmExports["va"];\n        updateMemoryViews();\n        wasmTable = wasmExports["ya"];\n        addOnInit(wasmExports["wa"]);\n        removeRunDependency("wasm-instantiate");\n        return wasmExports;\n      }\n      addRunDependency("wasm-instantiate");\n      function receiveInstantiationResult(result) {\n        receiveInstance(result["instance"]);\n      }\n      (_wasmBinaryFile = wasmBinaryFile) !== null && _wasmBinaryFile !== void 0 ? _wasmBinaryFile : wasmBinaryFile = findWasmBinary();\n      instantiateAsync(wasmBinary, wasmBinaryFile, info, receiveInstantiationResult)["catch"](readyPromiseReject);\n      return {};\n    }\n    var tempDouble;\n    var ASM_CONSTS = {\n      8843208: function _($0, $1, $2, $3) {\n        if (typeof Module == "undefined" || !Module.MountedFiles) {\n          return 1;\n        }\n        var fileName = UTF8ToString($0 >>> 0);\n        if (fileName.startsWith("./")) {\n          fileName = fileName.substring(2);\n        }\n        var fileData = Module.MountedFiles.get(fileName);\n        if (!fileData) {\n          return 2;\n        }\n        var offset = $1 >>> 0;\n        var length = $2 >>> 0;\n        var buffer = $3 >>> 0;\n        if (offset + length > fileData.byteLength) {\n          return 3;\n        }\n        try {\n          HEAPU8.set(fileData.subarray(offset, offset + length), buffer);\n          return 0;\n        } catch (_unused) {\n          return 4;\n        }\n      }\n    };\n    var callRuntimeCallbacks = function callRuntimeCallbacks(callbacks) {\n      callbacks.forEach(function (f) {\n        return f(Module);\n      });\n    };\n    var stackRestore = function stackRestore(val) {\n      return _emscripten_stack_restore(val);\n    };\n    var stackSave = function stackSave() {\n      return _emscripten_stack_get_current2();\n    };\n    var exceptionCaught = [];\n    var uncaughtExceptionCount = 0;\n    var ___cxa_begin_catch = function ___cxa_begin_catch(ptr) {\n      var info = new ExceptionInfo(ptr);\n      if (!info.get_caught()) {\n        info.set_caught(true);\n        uncaughtExceptionCount--;\n      }\n      info.set_rethrown(false);\n      exceptionCaught.push(info);\n      _cxa_increment_exception_refcount(ptr);\n      return _cxa_get_exception_ptr(ptr);\n    };\n    var exceptionLast = 0;\n    var ___cxa_end_catch = function ___cxa_end_catch() {\n      _setThrew2(0, 0);\n      var info = exceptionCaught.pop();\n      _cxa_decrement_exception_refcount(info.excPtr);\n      exceptionLast = 0;\n    };\n    var ExceptionInfo = /*#__PURE__*/function () {\n      function ExceptionInfo(excPtr) {\n        _classCallCheck(this, ExceptionInfo);\n        this.excPtr = excPtr;\n        this.ptr = excPtr - 24;\n      }\n      return _createClass(ExceptionInfo, [{\n        key: "set_type",\n        value: function set_type(type) {\n          HEAPU32[this.ptr + 4 >> 2] = type;\n        }\n      }, {\n        key: "get_type",\n        value: function get_type() {\n          return HEAPU32[this.ptr + 4 >> 2];\n        }\n      }, {\n        key: "set_destructor",\n        value: function set_destructor(destructor) {\n          HEAPU32[this.ptr + 8 >> 2] = destructor;\n        }\n      }, {\n        key: "get_destructor",\n        value: function get_destructor() {\n          return HEAPU32[this.ptr + 8 >> 2];\n        }\n      }, {\n        key: "set_caught",\n        value: function set_caught(caught) {\n          caught = caught ? 1 : 0;\n          HEAP8[this.ptr + 12] = caught;\n        }\n      }, {\n        key: "get_caught",\n        value: function get_caught() {\n          return HEAP8[this.ptr + 12] != 0;\n        }\n      }, {\n        key: "set_rethrown",\n        value: function set_rethrown(rethrown) {\n          rethrown = rethrown ? 1 : 0;\n          HEAP8[this.ptr + 13] = rethrown;\n        }\n      }, {\n        key: "get_rethrown",\n        value: function get_rethrown() {\n          return HEAP8[this.ptr + 13] != 0;\n        }\n      }, {\n        key: "init",\n        value: function init(type, destructor) {\n          this.set_adjusted_ptr(0);\n          this.set_type(type);\n          this.set_destructor(destructor);\n        }\n      }, {\n        key: "set_adjusted_ptr",\n        value: function set_adjusted_ptr(adjustedPtr) {\n          HEAPU32[this.ptr + 16 >> 2] = adjustedPtr;\n        }\n      }, {\n        key: "get_adjusted_ptr",\n        value: function get_adjusted_ptr() {\n          return HEAPU32[this.ptr + 16 >> 2];\n        }\n      }]);\n    }();\n    var ___resumeException = function ___resumeException(ptr) {\n      if (!exceptionLast) {\n        exceptionLast = ptr;\n      }\n      throw exceptionLast;\n    };\n    var setTempRet0 = function setTempRet0(val) {\n      return _emscripten_tempret_set(val);\n    };\n    var findMatchingCatch = function findMatchingCatch(args) {\n      var thrown = exceptionLast;\n      if (!thrown) {\n        setTempRet0(0);\n        return 0;\n      }\n      var info = new ExceptionInfo(thrown);\n      info.set_adjusted_ptr(thrown);\n      var thrownType = info.get_type();\n      if (!thrownType) {\n        setTempRet0(0);\n        return thrown;\n      }\n      var _iterator = _createForOfIteratorHelper(args),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var caughtType = _step.value;\n          if (caughtType === 0 || caughtType === thrownType) {\n            break;\n          }\n          var adjusted_ptr_addr = info.ptr + 16;\n          if (_cxa_can_catch(caughtType, thrownType, adjusted_ptr_addr)) {\n            setTempRet0(caughtType);\n            return thrown;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      setTempRet0(thrownType);\n      return thrown;\n    };\n    var ___cxa_find_matching_catch_2 = function ___cxa_find_matching_catch_2() {\n      return findMatchingCatch([]);\n    };\n    var ___cxa_find_matching_catch_3 = function ___cxa_find_matching_catch_3(arg0) {\n      return findMatchingCatch([arg0]);\n    };\n    var ___cxa_rethrow = function ___cxa_rethrow() {\n      var info = exceptionCaught.pop();\n      if (!info) {\n        abort("no exception to throw");\n      }\n      var ptr = info.excPtr;\n      if (!info.get_rethrown()) {\n        exceptionCaught.push(info);\n        info.set_rethrown(true);\n        info.set_caught(false);\n        uncaughtExceptionCount++;\n      }\n      exceptionLast = ptr;\n      throw exceptionLast;\n    };\n    var ___cxa_throw = function ___cxa_throw(ptr, type, destructor) {\n      var info = new ExceptionInfo(ptr);\n      info.init(type, destructor);\n      exceptionLast = ptr;\n      uncaughtExceptionCount++;\n      throw exceptionLast;\n    };\n    var ___cxa_uncaught_exceptions = function ___cxa_uncaught_exceptions() {\n      return uncaughtExceptionCount;\n    };\n    var UTF8Decoder = typeof TextDecoder != "undefined" ? new TextDecoder() : undefined;\n    var UTF8ArrayToString = function UTF8ArrayToString(heapOrArray) {\n      var idx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var maxBytesToRead = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : NaN;\n      var endIdx = idx + maxBytesToRead;\n      var endPtr = idx;\n      while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n      if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n        return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n      }\n      var str = "";\n      while (idx < endPtr) {\n        var u0 = heapOrArray[idx++];\n        if (!(u0 & 128)) {\n          str += String.fromCharCode(u0);\n          continue;\n        }\n        var u1 = heapOrArray[idx++] & 63;\n        if ((u0 & 224) == 192) {\n          str += String.fromCharCode((u0 & 31) << 6 | u1);\n          continue;\n        }\n        var u2 = heapOrArray[idx++] & 63;\n        if ((u0 & 240) == 224) {\n          u0 = (u0 & 15) << 12 | u1 << 6 | u2;\n        } else {\n          u0 = (u0 & 7) << 18 | u1 << 12 | u2 << 6 | heapOrArray[idx++] & 63;\n        }\n        if (u0 < 65536) {\n          str += String.fromCharCode(u0);\n        } else {\n          var ch = u0 - 65536;\n          str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023);\n        }\n      }\n      return str;\n    };\n    var UTF8ToString = function UTF8ToString(ptr, maxBytesToRead) {\n      return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : "";\n    };\n    var SYSCALLS = {\n      varargs: undefined,\n      getStr: function getStr(ptr) {\n        var ret = UTF8ToString(ptr);\n        return ret;\n      }\n    };\n    function ___syscall_fcntl64(fd, cmd, varargs) {\n      SYSCALLS.varargs = varargs;\n      return 0;\n    }\n    var ___syscall_fstat64 = function ___syscall_fstat64(fd, buf) {};\n    var lengthBytesUTF8 = function lengthBytesUTF8(str) {\n      var len = 0;\n      for (var i = 0; i < str.length; ++i) {\n        var c = str.charCodeAt(i);\n        if (c <= 127) {\n          len++;\n        } else if (c <= 2047) {\n          len += 2;\n        } else if (c >= 55296 && c <= 57343) {\n          len += 4;\n          ++i;\n        } else {\n          len += 3;\n        }\n      }\n      return len;\n    };\n    var stringToUTF8Array = function stringToUTF8Array(str, heap, outIdx, maxBytesToWrite) {\n      if (!(maxBytesToWrite > 0)) return 0;\n      var startIdx = outIdx;\n      var endIdx = outIdx + maxBytesToWrite - 1;\n      for (var i = 0; i < str.length; ++i) {\n        var u = str.charCodeAt(i);\n        if (u >= 55296 && u <= 57343) {\n          var u1 = str.charCodeAt(++i);\n          u = 65536 + ((u & 1023) << 10) | u1 & 1023;\n        }\n        if (u <= 127) {\n          if (outIdx >= endIdx) break;\n          heap[outIdx++] = u;\n        } else if (u <= 2047) {\n          if (outIdx + 1 >= endIdx) break;\n          heap[outIdx++] = 192 | u >> 6;\n          heap[outIdx++] = 128 | u & 63;\n        } else if (u <= 65535) {\n          if (outIdx + 2 >= endIdx) break;\n          heap[outIdx++] = 224 | u >> 12;\n          heap[outIdx++] = 128 | u >> 6 & 63;\n          heap[outIdx++] = 128 | u & 63;\n        } else {\n          if (outIdx + 3 >= endIdx) break;\n          heap[outIdx++] = 240 | u >> 18;\n          heap[outIdx++] = 128 | u >> 12 & 63;\n          heap[outIdx++] = 128 | u >> 6 & 63;\n          heap[outIdx++] = 128 | u & 63;\n        }\n      }\n      heap[outIdx] = 0;\n      return outIdx - startIdx;\n    };\n    var stringToUTF8 = function stringToUTF8(str, outPtr, maxBytesToWrite) {\n      return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\n    };\n    var ___syscall_getcwd = function ___syscall_getcwd(buf, size) {};\n    var ___syscall_getdents64 = function ___syscall_getdents64(fd, dirp, count) {};\n    function ___syscall_ioctl(fd, op, varargs) {\n      SYSCALLS.varargs = varargs;\n      return 0;\n    }\n    var ___syscall_lstat64 = function ___syscall_lstat64(path, buf) {};\n    var ___syscall_mkdirat = function ___syscall_mkdirat(dirfd, path, mode) {};\n    var ___syscall_newfstatat = function ___syscall_newfstatat(dirfd, path, buf, flags) {};\n    function ___syscall_openat(dirfd, path, flags, varargs) {\n      SYSCALLS.varargs = varargs;\n    }\n    var ___syscall_readlinkat = function ___syscall_readlinkat(dirfd, path, buf, bufsize) {};\n    var ___syscall_rmdir = function ___syscall_rmdir(path) {};\n    var ___syscall_stat64 = function ___syscall_stat64(path, buf) {};\n    var ___syscall_unlinkat = function ___syscall_unlinkat(dirfd, path, flags) {};\n    var __abort_js = function __abort_js() {\n      abort("");\n    };\n    var nowIsMonotonic = 1;\n    var __emscripten_get_now_is_monotonic = function __emscripten_get_now_is_monotonic() {\n      return nowIsMonotonic;\n    };\n    var __emscripten_memcpy_js = function __emscripten_memcpy_js(dest, src, num) {\n      return HEAPU8.copyWithin(dest, src, src + num);\n    };\n    var convertI32PairToI53Checked = function convertI32PairToI53Checked(lo, hi) {\n      return hi + 2097152 >>> 0 < 4194305 - !!lo ? (lo >>> 0) + hi * 4294967296 : NaN;\n    };\n    function __gmtime_js(time_low, time_high, tmPtr) {\n      var time = convertI32PairToI53Checked(time_low, time_high);\n      var date = new Date(time * 1e3);\n      HEAP32[tmPtr >> 2] = date.getUTCSeconds();\n      HEAP32[tmPtr + 4 >> 2] = date.getUTCMinutes();\n      HEAP32[tmPtr + 8 >> 2] = date.getUTCHours();\n      HEAP32[tmPtr + 12 >> 2] = date.getUTCDate();\n      HEAP32[tmPtr + 16 >> 2] = date.getUTCMonth();\n      HEAP32[tmPtr + 20 >> 2] = date.getUTCFullYear() - 1900;\n      HEAP32[tmPtr + 24 >> 2] = date.getUTCDay();\n      var start = Date.UTC(date.getUTCFullYear(), 0, 1, 0, 0, 0, 0);\n      var yday = (date.getTime() - start) / (1e3 * 60 * 60 * 24) | 0;\n      HEAP32[tmPtr + 28 >> 2] = yday;\n    }\n    var isLeapYear = function isLeapYear(year) {\n      return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n    };\n    var MONTH_DAYS_LEAP_CUMULATIVE = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n    var MONTH_DAYS_REGULAR_CUMULATIVE = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n    var ydayFromDate = function ydayFromDate(date) {\n      var leap = isLeapYear(date.getFullYear());\n      var monthDaysCumulative = leap ? MONTH_DAYS_LEAP_CUMULATIVE : MONTH_DAYS_REGULAR_CUMULATIVE;\n      var yday = monthDaysCumulative[date.getMonth()] + date.getDate() - 1;\n      return yday;\n    };\n    function __localtime_js(time_low, time_high, tmPtr) {\n      var time = convertI32PairToI53Checked(time_low, time_high);\n      var date = new Date(time * 1e3);\n      HEAP32[tmPtr >> 2] = date.getSeconds();\n      HEAP32[tmPtr + 4 >> 2] = date.getMinutes();\n      HEAP32[tmPtr + 8 >> 2] = date.getHours();\n      HEAP32[tmPtr + 12 >> 2] = date.getDate();\n      HEAP32[tmPtr + 16 >> 2] = date.getMonth();\n      HEAP32[tmPtr + 20 >> 2] = date.getFullYear() - 1900;\n      HEAP32[tmPtr + 24 >> 2] = date.getDay();\n      var yday = ydayFromDate(date) | 0;\n      HEAP32[tmPtr + 28 >> 2] = yday;\n      HEAP32[tmPtr + 36 >> 2] = -(date.getTimezoneOffset() * 60);\n      var start = new Date(date.getFullYear(), 0, 1);\n      var summerOffset = new Date(date.getFullYear(), 6, 1).getTimezoneOffset();\n      var winterOffset = start.getTimezoneOffset();\n      var dst = (summerOffset != winterOffset && date.getTimezoneOffset() == Math.min(winterOffset, summerOffset)) | 0;\n      HEAP32[tmPtr + 32 >> 2] = dst;\n    }\n    var __mktime_js = function __mktime_js(tmPtr) {\n      var ret = function () {\n        var date = new Date(HEAP32[tmPtr + 20 >> 2] + 1900, HEAP32[tmPtr + 16 >> 2], HEAP32[tmPtr + 12 >> 2], HEAP32[tmPtr + 8 >> 2], HEAP32[tmPtr + 4 >> 2], HEAP32[tmPtr >> 2], 0);\n        var dst = HEAP32[tmPtr + 32 >> 2];\n        var guessedOffset = date.getTimezoneOffset();\n        var start = new Date(date.getFullYear(), 0, 1);\n        var summerOffset = new Date(date.getFullYear(), 6, 1).getTimezoneOffset();\n        var winterOffset = start.getTimezoneOffset();\n        var dstOffset = Math.min(winterOffset, summerOffset);\n        if (dst < 0) {\n          HEAP32[tmPtr + 32 >> 2] = Number(summerOffset != winterOffset && dstOffset == guessedOffset);\n        } else if (dst > 0 != (dstOffset == guessedOffset)) {\n          var nonDstOffset = Math.max(winterOffset, summerOffset);\n          var trueOffset = dst > 0 ? dstOffset : nonDstOffset;\n          date.setTime(date.getTime() + (trueOffset - guessedOffset) * 6e4);\n        }\n        HEAP32[tmPtr + 24 >> 2] = date.getDay();\n        var yday = ydayFromDate(date) | 0;\n        HEAP32[tmPtr + 28 >> 2] = yday;\n        HEAP32[tmPtr >> 2] = date.getSeconds();\n        HEAP32[tmPtr + 4 >> 2] = date.getMinutes();\n        HEAP32[tmPtr + 8 >> 2] = date.getHours();\n        HEAP32[tmPtr + 12 >> 2] = date.getDate();\n        HEAP32[tmPtr + 16 >> 2] = date.getMonth();\n        HEAP32[tmPtr + 20 >> 2] = date.getYear();\n        var timeMs = date.getTime();\n        if (isNaN(timeMs)) {\n          return -1;\n        }\n        return timeMs / 1e3;\n      }();\n      return setTempRet0((tempDouble = ret, +Math.abs(tempDouble) >= 1 ? tempDouble > 0 ? +Math.floor(tempDouble / 4294967296) >>> 0 : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)), ret >>> 0;\n    };\n    function __mmap_js(len, prot, flags, fd, offset_low, offset_high, allocated, addr) {\n      var offset = convertI32PairToI53Checked(offset_low, offset_high);\n      return -52;\n    }\n    function __munmap_js(addr, len, prot, flags, fd, offset_low, offset_high) {\n      var offset = convertI32PairToI53Checked(offset_low, offset_high);\n    }\n    var __tzset_js = function __tzset_js(timezone, daylight, std_name, dst_name) {\n      var currentYear = new Date().getFullYear();\n      var winter = new Date(currentYear, 0, 1);\n      var summer = new Date(currentYear, 6, 1);\n      var winterOffset = winter.getTimezoneOffset();\n      var summerOffset = summer.getTimezoneOffset();\n      var stdTimezoneOffset = Math.max(winterOffset, summerOffset);\n      HEAPU32[timezone >> 2] = stdTimezoneOffset * 60;\n      HEAP32[daylight >> 2] = Number(winterOffset != summerOffset);\n      var extractZone = function extractZone(timezoneOffset) {\n        var sign = timezoneOffset >= 0 ? "-" : "+";\n        var absOffset = Math.abs(timezoneOffset);\n        var hours = String(Math.floor(absOffset / 60)).padStart(2, "0");\n        var minutes = String(absOffset % 60).padStart(2, "0");\n        return "UTC".concat(sign).concat(hours).concat(minutes);\n      };\n      var winterName = extractZone(winterOffset);\n      var summerName = extractZone(summerOffset);\n      if (summerOffset < winterOffset) {\n        stringToUTF8(winterName, std_name, 17);\n        stringToUTF8(summerName, dst_name, 17);\n      } else {\n        stringToUTF8(winterName, dst_name, 17);\n        stringToUTF8(summerName, std_name, 17);\n      }\n    };\n    var readEmAsmArgsArray = [];\n    var readEmAsmArgs = function readEmAsmArgs(sigPtr, buf) {\n      readEmAsmArgsArray.length = 0;\n      var ch;\n      while (ch = HEAPU8[sigPtr++]) {\n        var wide = ch != 105;\n        wide &= ch != 112;\n        buf += wide && buf % 8 ? 4 : 0;\n        readEmAsmArgsArray.push(ch == 112 ? HEAPU32[buf >> 2] : ch == 105 ? HEAP32[buf >> 2] : HEAPF64[buf >> 3]);\n        buf += wide ? 8 : 4;\n      }\n      return readEmAsmArgsArray;\n    };\n    var runEmAsmFunction = function runEmAsmFunction(code, sigPtr, argbuf) {\n      var args = readEmAsmArgs(sigPtr, argbuf);\n      return ASM_CONSTS[code].apply(ASM_CONSTS, _toConsumableArray(args));\n    };\n    var _emscripten_asm_const_int = function _emscripten_asm_const_int(code, sigPtr, argbuf) {\n      return runEmAsmFunction(code, sigPtr, argbuf);\n    };\n    var _emscripten_date_now = function _emscripten_date_now() {\n      return Date.now();\n    };\n    var getHeapMax = function getHeapMax() {\n      return 2147483648;\n    };\n    var _emscripten_get_heap_max = function _emscripten_get_heap_max() {\n      return getHeapMax();\n    };\n    var _emscripten_get_now = function _emscripten_get_now() {\n      return performance.now();\n    };\n    var alignMemory = function alignMemory(size, alignment) {\n      return Math.ceil(size / alignment) * alignment;\n    };\n    var growMemory = function growMemory(size) {\n      var b = wasmMemory.buffer;\n      var pages = (size - b.byteLength + 65535) / 65536 | 0;\n      try {\n        wasmMemory.grow(pages);\n        updateMemoryViews();\n        return 1;\n      } catch (e) {}\n    };\n    var _emscripten_resize_heap = function _emscripten_resize_heap(requestedSize) {\n      var oldSize = HEAPU8.length;\n      requestedSize >>>= 0;\n      var maxHeapSize = getHeapMax();\n      if (requestedSize > maxHeapSize) {\n        return false;\n      }\n      for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n        var overGrownHeapSize = oldSize * (1 + .2 / cutDown);\n        overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296);\n        var newSize = Math.min(maxHeapSize, alignMemory(Math.max(requestedSize, overGrownHeapSize), 65536));\n        var replacement = growMemory(newSize);\n        if (replacement) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var ENV = {};\n    var getExecutableName = function getExecutableName() {\n      return thisProgram || "./this.program";\n    };\n    var _getEnvStrings = function getEnvStrings() {\n      if (!_getEnvStrings.strings) {\n        var lang = ((typeof navigator === "undefined" ? "undefined" : _typeof(navigator)) == "object" && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8";\n        var env = {\n          USER: "web_user",\n          LOGNAME: "web_user",\n          PATH: "/",\n          PWD: "/",\n          HOME: "/home/web_user",\n          LANG: lang,\n          _: getExecutableName()\n        };\n        for (var x in ENV) {\n          if (ENV[x] === undefined) delete env[x];else env[x] = ENV[x];\n        }\n        var strings = [];\n        for (var x in env) {\n          strings.push("".concat(x, "=").concat(env[x]));\n        }\n        _getEnvStrings.strings = strings;\n      }\n      return _getEnvStrings.strings;\n    };\n    var stringToAscii = function stringToAscii(str, buffer) {\n      for (var i = 0; i < str.length; ++i) {\n        HEAP8[buffer++] = str.charCodeAt(i);\n      }\n      HEAP8[buffer] = 0;\n    };\n    var _environ_get = function _environ_get(__environ, environ_buf) {\n      var bufSize = 0;\n      _getEnvStrings().forEach(function (string, i) {\n        var ptr = environ_buf + bufSize;\n        HEAPU32[__environ + i * 4 >> 2] = ptr;\n        stringToAscii(string, ptr);\n        bufSize += string.length + 1;\n      });\n      return 0;\n    };\n    var _environ_sizes_get = function _environ_sizes_get(penviron_count, penviron_buf_size) {\n      var strings = _getEnvStrings();\n      HEAPU32[penviron_count >> 2] = strings.length;\n      var bufSize = 0;\n      strings.forEach(function (string) {\n        return bufSize += string.length + 1;\n      });\n      HEAPU32[penviron_buf_size >> 2] = bufSize;\n      return 0;\n    };\n    var _fd_close = function _fd_close(fd) {\n      return 52;\n    };\n    var _fd_read = function _fd_read(fd, iov, iovcnt, pnum) {\n      return 52;\n    };\n    function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n      var offset = convertI32PairToI53Checked(offset_low, offset_high);\n      return 70;\n    }\n    var printCharBuffers = [null, [], []];\n    var printChar = function printChar(stream, curr) {\n      var buffer = printCharBuffers[stream];\n      if (curr === 0 || curr === 10) {\n        (stream === 1 ? out : err)(UTF8ArrayToString(buffer));\n        buffer.length = 0;\n      } else {\n        buffer.push(curr);\n      }\n    };\n    var _fd_write = function _fd_write(fd, iov, iovcnt, pnum) {\n      var num = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[iov >> 2];\n        var len = HEAPU32[iov + 4 >> 2];\n        iov += 8;\n        for (var j = 0; j < len; j++) {\n          printChar(fd, HEAPU8[ptr + j]);\n        }\n        num += len;\n      }\n      HEAPU32[pnum >> 2] = num;\n      return 0;\n    };\n    var initRandomFill = function initRandomFill() {\n      if ((typeof crypto === "undefined" ? "undefined" : _typeof(crypto)) == "object" && typeof crypto["getRandomValues"] == "function") {\n        return function (view) {\n          return crypto.getRandomValues(view);\n        };\n      } else abort("initRandomDevice");\n    };\n    var _randomFill = function randomFill(view) {\n      return (_randomFill = initRandomFill())(view);\n    };\n    var _getentropy = function _getentropy(buffer, size) {\n      _randomFill(HEAPU8.subarray(buffer, buffer + size));\n      return 0;\n    };\n    var wasmTableMirror = [];\n    var wasmTable;\n    var getWasmTableEntry = function getWasmTableEntry(funcPtr) {\n      var func = wasmTableMirror[funcPtr];\n      if (!func) {\n        if (funcPtr >= wasmTableMirror.length) wasmTableMirror.length = funcPtr + 1;\n        wasmTableMirror[funcPtr] = func = wasmTable.get(funcPtr);\n      }\n      return func;\n    };\n    var stringToNewUTF8 = function stringToNewUTF8(str) {\n      var size = lengthBytesUTF8(str) + 1;\n      var ret = _malloc(size);\n      if (ret) stringToUTF8(str, ret, size);\n      return ret;\n    };\n    var wasmImports = {\n      r: ___cxa_begin_catch,\n      t: ___cxa_end_catch,\n      a: ___cxa_find_matching_catch_2,\n      j: ___cxa_find_matching_catch_3,\n      H: ___cxa_rethrow,\n      d: ___cxa_throw,\n      B: ___cxa_uncaught_exceptions,\n      e: ___resumeException,\n      v: ___syscall_fcntl64,\n      ma: ___syscall_fstat64,\n      ia: ___syscall_getcwd,\n      da: ___syscall_getdents64,\n      Z: ___syscall_ioctl,\n      ja: ___syscall_lstat64,\n      fa: ___syscall_mkdirat,\n      ka: ___syscall_newfstatat,\n      J: ___syscall_openat,\n      ca: ___syscall_readlinkat,\n      aa: ___syscall_rmdir,\n      la: ___syscall_stat64,\n      ba: ___syscall_unlinkat,\n      pa: __abort_js,\n      na: __emscripten_get_now_is_monotonic,\n      oa: __emscripten_memcpy_js,\n      T: __gmtime_js,\n      U: __localtime_js,\n      V: __mktime_js,\n      R: __mmap_js,\n      S: __munmap_js,\n      ea: __tzset_js,\n      qa: _emscripten_asm_const_int,\n      K: _emscripten_date_now,\n      $: _emscripten_get_heap_max,\n      s: _emscripten_get_now,\n      _: _emscripten_resize_heap,\n      ga: _environ_get,\n      ha: _environ_sizes_get,\n      C: _fd_close,\n      I: _fd_read,\n      W: _fd_seek,\n      E: _fd_write,\n      L: _getentropy,\n      F: invoke_diii,\n      G: invoke_fiii,\n      p: invoke_i,\n      g: invoke_ii,\n      ra: invoke_iidi,\n      sa: invoke_iifi,\n      h: invoke_iii,\n      k: invoke_iiii,\n      n: invoke_iiiii,\n      q: invoke_iiiiii,\n      o: invoke_iiiiiii,\n      D: invoke_iiiiiiii,\n      A: invoke_iiiiiiiiiiii,\n      O: invoke_iiiiij,\n      Y: invoke_ijii,\n      Q: invoke_j,\n      P: invoke_ji,\n      N: invoke_jiiii,\n      m: invoke_v,\n      b: invoke_vi,\n      c: invoke_vii,\n      ta: invoke_viif,\n      f: invoke_viii,\n      l: invoke_viiii,\n      ua: invoke_viiiif,\n      i: invoke_viiiii,\n      y: invoke_viiiiii,\n      u: invoke_viiiiiii,\n      x: invoke_viiiiiiii,\n      w: invoke_viiiiiiiiii,\n      M: invoke_viiiiiiiiiiii,\n      z: invoke_viiiiiiiiiiiiiii,\n      X: invoke_vijjjj\n    };\n    var wasmExports = createWasm();\n    var _wasm_call_ctors = function ___wasm_call_ctors() {\n      return (_wasm_call_ctors = wasmExports["wa"])();\n    };\n    var _free = Module["_free"] = function (a0) {\n      return (_free = Module["_free"] = wasmExports["xa"])(a0);\n    };\n    var _malloc = Module["_malloc"] = function (a0) {\n      return (_malloc = Module["_malloc"] = wasmExports["za"])(a0);\n    };\n    var _state_create = Module["_state_create"] = function (a0) {\n      return (_state_create = Module["_state_create"] = wasmExports["Aa"])(a0);\n    };\n    var _state_destroy = Module["_state_destroy"] = function (a0) {\n      return (_state_destroy = Module["_state_destroy"] = wasmExports["Ba"])(a0);\n    };\n    var _state_configure = Module["_state_configure"] = function (a0) {\n      return (_state_configure = Module["_state_configure"] = wasmExports["Ca"])(a0);\n    };\n    var _state_auth = Module["_state_auth"] = function (a0, a1) {\n      return (_state_auth = Module["_state_auth"] = wasmExports["Da"])(a0, a1);\n    };\n    var _state_get_frame_length = Module["_state_get_frame_length"] = function (a0) {\n      return (_state_get_frame_length = Module["_state_get_frame_length"] = wasmExports["Ea"])(a0);\n    };\n    var _state_set_atten_lim = Module["_state_set_atten_lim"] = function (a0, a1) {\n      return (_state_set_atten_lim = Module["_state_set_atten_lim"] = wasmExports["Fa"])(a0, a1);\n    };\n    var _state_set_pf_beta = Module["_state_set_pf_beta"] = function (a0, a1) {\n      return (_state_set_pf_beta = Module["_state_set_pf_beta"] = wasmExports["Ga"])(a0, a1);\n    };\n    var _state_process_lsnr = Module["_state_process_lsnr"] = function (a0, a1, a2) {\n      return (_state_process_lsnr = Module["_state_process_lsnr"] = wasmExports["Ha"])(a0, a1, a2);\n    };\n    var _state_process_frame = Module["_state_process_frame"] = function (a0, a1, a2, a3, a4) {\n      return (_state_process_frame = Module["_state_process_frame"] = wasmExports["Ia"])(a0, a1, a2, a3, a4);\n    };\n    var _state_get_last_error = Module["_state_get_last_error"] = function (a0) {\n      return (_state_get_last_error = Module["_state_get_last_error"] = wasmExports["Ja"])(a0);\n    };\n    var _state_clear_last_error = Module["_state_clear_last_error"] = function (a0) {\n      return (_state_clear_last_error = Module["_state_clear_last_error"] = wasmExports["Ka"])(a0);\n    };\n    var _state_get_last_lsnr = Module["_state_get_last_lsnr"] = function (a0) {\n      return (_state_get_last_lsnr = Module["_state_get_last_lsnr"] = wasmExports["La"])(a0);\n    };\n    var _setThrew2 = function _setThrew(a0, a1) {\n      return (_setThrew2 = wasmExports["Ma"])(a0, a1);\n    };\n    var _emscripten_tempret_set = function __emscripten_tempret_set(a0) {\n      return (_emscripten_tempret_set = wasmExports["Na"])(a0);\n    };\n    var _emscripten_stack_restore = function __emscripten_stack_restore(a0) {\n      return (_emscripten_stack_restore = wasmExports["Oa"])(a0);\n    };\n    var _emscripten_stack_get_current2 = function _emscripten_stack_get_current() {\n      return (_emscripten_stack_get_current2 = wasmExports["Pa"])();\n    };\n    var _cxa_decrement_exception_refcount = function ___cxa_decrement_exception_refcount(a0) {\n      return (_cxa_decrement_exception_refcount = wasmExports["Qa"])(a0);\n    };\n    var _cxa_increment_exception_refcount = function ___cxa_increment_exception_refcount(a0) {\n      return (_cxa_increment_exception_refcount = wasmExports["Ra"])(a0);\n    };\n    var _cxa_can_catch = function ___cxa_can_catch(a0, a1, a2) {\n      return (_cxa_can_catch = wasmExports["Sa"])(a0, a1, a2);\n    };\n    var _cxa_get_exception_ptr = function ___cxa_get_exception_ptr(a0) {\n      return (_cxa_get_exception_ptr = wasmExports["Ta"])(a0);\n    };\n    var dynCall_ijii = Module["dynCall_ijii"] = function (a0, a1, a2, a3, a4) {\n      return (dynCall_ijii = Module["dynCall_ijii"] = wasmExports["Ua"])(a0, a1, a2, a3, a4);\n    };\n    var dynCall_vijjjj = Module["dynCall_vijjjj"] = function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n      return (dynCall_vijjjj = Module["dynCall_vijjjj"] = wasmExports["Va"])(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n    };\n    var dynCall_j = Module["dynCall_j"] = function (a0) {\n      return (dynCall_j = Module["dynCall_j"] = wasmExports["Wa"])(a0);\n    };\n    var dynCall_ji = Module["dynCall_ji"] = function (a0, a1) {\n      return (dynCall_ji = Module["dynCall_ji"] = wasmExports["Xa"])(a0, a1);\n    };\n    var dynCall_iiiiij = Module["dynCall_iiiiij"] = function (a0, a1, a2, a3, a4, a5, a6) {\n      return (dynCall_iiiiij = Module["dynCall_iiiiij"] = wasmExports["Ya"])(a0, a1, a2, a3, a4, a5, a6);\n    };\n    var dynCall_jiiii = Module["dynCall_jiiii"] = function (a0, a1, a2, a3, a4) {\n      return (dynCall_jiiii = Module["dynCall_jiiii"] = wasmExports["Za"])(a0, a1, a2, a3, a4);\n    };\n    function invoke_vii(index, a1, a2) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_vi(index, a1) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_ii(index, a1) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiii(index, a1, a2, a3, a4, a5) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iiiiii(index, a1, a2, a3, a4, a5) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4, a5);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iiiiiii(index, a1, a2, a3, a4, a5, a6) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiiii(index, a1, a2, a3, a4, a5, a6) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iii(index, a1, a2) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiif(index, a1, a2, a3, a4, a5) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viif(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7, a8);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iiii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iiiiiiii(index, a1, a2, a3, a4, a5, a6, a7) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_v(index) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)();\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_i(index) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)();\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iiiii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iifi(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iidi(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_fiii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_diii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiiiii(index, a1, a2, a3, a4, a5, a6, a7) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iiiiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_viiiiiiiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_ijii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        return dynCall_ijii(index, a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_vijjjj(index, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n      var sp = stackSave();\n      try {\n        dynCall_vijjjj(index, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_j(index) {\n      var sp = stackSave();\n      try {\n        return dynCall_j(index);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_ji(index, a1) {\n      var sp = stackSave();\n      try {\n        return dynCall_ji(index, a1);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_iiiiij(index, a1, a2, a3, a4, a5, a6) {\n      var sp = stackSave();\n      try {\n        return dynCall_iiiiij(index, a1, a2, a3, a4, a5, a6);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    function invoke_jiiii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        return dynCall_jiiii(index, a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew2(1, 0);\n      }\n    }\n    Module["UTF8ToString"] = UTF8ToString;\n    Module["stringToNewUTF8"] = stringToNewUTF8;\n    var calledRun;\n    var calledPrerun;\n    dependenciesFulfilled = function runCaller() {\n      if (!calledRun) run();\n      if (!calledRun) dependenciesFulfilled = runCaller;\n    };\n    function run() {\n      if (runDependencies > 0) {\n        return;\n      }\n      if (!calledPrerun) {\n        calledPrerun = 1;\n        preRun();\n        if (runDependencies > 0) {\n          return;\n        }\n      }\n      function doRun() {\n        if (calledRun) return;\n        calledRun = 1;\n        Module["calledRun"] = 1;\n        if (ABORT) return;\n        initRuntime();\n        readyPromiseResolve(Module);\n        postRun();\n      }\n      {\n        doRun();\n      }\n    }\n    run();\n    moduleRtn = readyPromise;\n    return moduleRtn;\n  };\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createAudioModule);\n\n/***/ }),\n\n/***/ "./node_modules/base64-js/index.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/base64-js/index.js ***!\n  \\*****************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n"use strict";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== \'undefined\' ? Uint8Array : Array\n\nvar code = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup[\'-\'.charCodeAt(0)] = 62\nrevLookup[\'_\'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error(\'Invalid string. Length must be a multiple of 4\')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf(\'=\')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join(\'\')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we\'ll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      \'==\'\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      \'=\'\n    )\n  }\n\n  return parts.join(\'\')\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/buffer/index.js":\n/*!**************************************!*\\\n  !*** ./node_modules/buffer/index.js ***!\n  \\**************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n"use strict";\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")\nvar ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")\nvar isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = __webpack_require__.g.TYPED_ARRAY_SUPPORT !== undefined\n  ? __webpack_require__.g.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === \'function\' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError(\'Invalid typed array length\')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === \'number\') {\n    if (typeof encodingOrOffset === \'string\') {\n      throw new Error(\n        \'If encoding is specified then the first argument must be a string\'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === \'number\') {\n    throw new TypeError(\'"value" argument must not be a number\')\n  }\n\n  if (typeof ArrayBuffer !== \'undefined\' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === \'string\') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== \'undefined\' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== \'number\') {\n    throw new TypeError(\'"size" argument must be a number\')\n  } else if (size < 0) {\n    throw new RangeError(\'"size" argument must not be negative\')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it\'s a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === \'string\'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== \'string\' || encoding === \'\') {\n    encoding = \'utf8\'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError(\'"encoding" must be a valid string encoding\')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // \'abxxcd\' will be treated as \'ab\')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError(\'\\\'offset\\\' is out of bounds\')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError(\'\\\'length\\\' is out of bounds\')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== \'undefined\' &&\n        obj.buffer instanceof ArrayBuffer) || \'length\' in obj) {\n      if (typeof obj.length !== \'number\' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === \'Buffer\' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError(\'First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError(\'Attempt to allocate Buffer larger than maximum \' +\n                         \'size: 0x\' + kMaxLength().toString(16) + \' bytes\')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\'Arguments must be Buffers\')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case \'hex\':\n    case \'utf8\':\n    case \'utf-8\':\n    case \'ascii\':\n    case \'latin1\':\n    case \'binary\':\n    case \'base64\':\n    case \'ucs2\':\n    case \'ucs-2\':\n    case \'utf16le\':\n    case \'utf-16le\':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError(\'"list" argument must be an Array of Buffers\')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError(\'"list" argument must be an Array of Buffers\')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== \'undefined\' && typeof ArrayBuffer.isView === \'function\' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== \'string\') {\n    string = \'\' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case \'ascii\':\n      case \'latin1\':\n      case \'binary\':\n        return len\n      case \'utf8\':\n      case \'utf-8\':\n      case undefined:\n        return utf8ToBytes(string).length\n      case \'ucs2\':\n      case \'ucs-2\':\n      case \'utf16le\':\n      case \'utf-16le\':\n        return len * 2\n      case \'hex\':\n        return len >>> 1\n      case \'base64\':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = (\'\' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that "this.length <= MAX_UINT32" since it\'s a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return \'\'\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return \'\'\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return \'\'\n  }\n\n  if (!encoding) encoding = \'utf8\'\n\n  while (true) {\n    switch (encoding) {\n      case \'hex\':\n        return hexSlice(this, start, end)\n\n      case \'utf8\':\n      case \'utf-8\':\n        return utf8Slice(this, start, end)\n\n      case \'ascii\':\n        return asciiSlice(this, start, end)\n\n      case \'latin1\':\n      case \'binary\':\n        return latin1Slice(this, start, end)\n\n      case \'base64\':\n        return base64Slice(this, start, end)\n\n      case \'ucs2\':\n      case \'ucs-2\':\n      case \'utf16le\':\n      case \'utf-16le\':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError(\'Unknown encoding: \' + encoding)\n        encoding = (encoding + \'\').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError(\'Buffer size must be a multiple of 16-bits\')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError(\'Buffer size must be a multiple of 32-bits\')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError(\'Buffer size must be a multiple of 64-bits\')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return \'\'\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError(\'Argument must be a Buffer\')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = \'\'\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString(\'hex\', 0, max).match(/.{2}/g).join(\' \')\n    if (this.length > max) str += \' ... \'\n  }\n  return \'<Buffer \' + str + \'>\'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\'Argument must be a Buffer\')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError(\'out of range index\')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === \'string\') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it\'s undefined, null, NaN, "foo", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === \'string\') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === \'number\') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === \'function\') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError(\'val must be string, number or Buffer\')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === \'ucs2\' || encoding === \'ucs-2\' ||\n        encoding === \'utf16le\' || encoding === \'utf-16le\') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError(\'Invalid hex string\')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = \'utf8\'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === \'string\') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = \'utf8\'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      \'Buffer.write(string, encoding, offset[, length]) is no longer supported\'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError(\'Attempt to write outside buffer bounds\')\n  }\n\n  if (!encoding) encoding = \'utf8\'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case \'hex\':\n        return hexWrite(this, string, offset, length)\n\n      case \'utf8\':\n      case \'utf-8\':\n        return utf8Write(this, string, offset, length)\n\n      case \'ascii\':\n        return asciiWrite(this, string, offset, length)\n\n      case \'latin1\':\n      case \'binary\':\n        return latin1Write(this, string, offset, length)\n\n      case \'base64\':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case \'ucs2\':\n      case \'ucs-2\':\n      case \'utf16le\':\n      case \'utf-16le\':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError(\'Unknown encoding: \' + encoding)\n        encoding = (\'\' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: \'Buffer\',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid "call stack size exceeded".\n  var res = \'\'\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = \'\'\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = \'\'\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = \'\'\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = \'\'\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn\'t trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError(\'offset is not uint\')\n  if (offset + ext > length) throw new RangeError(\'Trying to access beyond buffer length\')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError(\'"buffer" argument must be a Buffer instance\')\n  if (value > max || value < min) throw new RangeError(\'"value" argument is out of bounds\')\n  if (offset + ext > buf.length) throw new RangeError(\'Index out of range\')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError(\'Index out of range\')\n  if (offset < 0) throw new RangeError(\'Index out of range\')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we\'re done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError(\'targetStart out of bounds\')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError(\'sourceStart out of bounds\')\n  if (end < 0) throw new RangeError(\'sourceEnd out of bounds\')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === \'string\') {\n    if (typeof start === \'string\') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === \'string\') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== \'string\') {\n      throw new TypeError(\'encoding must be a string\')\n    }\n    if (typeof encoding === \'string\' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError(\'Unknown encoding: \' + encoding)\n    }\n  } else if (typeof val === \'number\') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError(\'Out of range index\')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === \'number\') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, \'\')\n  // Node converts strings with length < 2 to \'\'\n  if (str.length < 2) return \'\'\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + \'=\'\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, \'\')\n}\n\nfunction toHex (n) {\n  if (n < 16) return \'0\' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error(\'Invalid code point\')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node\'s code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/ieee754/index.js":\n/*!***************************************!*\\\n  !*** ./node_modules/ieee754/index.js ***!\n  \\***************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n\n/***/ "./node_modules/isarray/index.js":\n/*!***************************************!*\\\n  !*** ./node_modules/isarray/index.js ***!\n  \\***************************************/\n/***/ ((module) => {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == \'[object Array]\';\n};\n\n\n/***/ }),\n\n/***/ "./node_modules/process/browser.js":\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/***/ ((module) => {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don\'t break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn\'t define any globals.  It\'s inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error(\'setTimeout has not been defined\');\n}\nfunction defaultClearTimeout () {\n    throw new Error(\'clearTimeout has not been defined\');\n}\n(function () {\n    try {\n        if (typeof setTimeout === \'function\') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === \'function\') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn\'t available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn\'t available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = \'browser\';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = \'\'; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error(\'process.binding is not supported\');\n};\n\nprocess.cwd = function () { return \'/\' };\nprocess.chdir = function (dir) {\n    throw new Error(\'process.chdir is not supported\');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n\n/***/ "./node_modules/uuid/dist/esm-browser/native.js":\n/*!******************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!\n  \\******************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst randomUUID = typeof crypto !== \'undefined\' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID\n});\n\n/***/ }),\n\n/***/ "./node_modules/uuid/dist/esm-browser/regex.js":\n/*!*****************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!\n  \\*****************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n\n/***/ }),\n\n/***/ "./node_modules/uuid/dist/esm-browser/rng.js":\n/*!***************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!\n  \\***************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation.\n    getRandomValues = typeof crypto !== \'undefined\' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error(\'crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n\n/***/ }),\n\n/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":\n/*!*********************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!\n  \\*********************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   "unsafeStringify": () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It\'s been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + \'-\' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + \'-\' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + \'-\' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + \'-\' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it\'s likely due to one\n  // of the following:\n  // - One or more input array values don\'t map to a hex octet (leading to\n  // "undefined" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__["default"])(uuid)) {\n    throw TypeError(\'Stringified UUID is invalid\');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);\n\n/***/ }),\n\n/***/ "./node_modules/uuid/dist/esm-browser/v4.js":\n/*!**************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!\n  \\**************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ "./node_modules/uuid/dist/esm-browser/native.js");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");\n\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__["default"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__["default"].randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__["default"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\n\n/***/ }),\n\n/***/ "./node_modules/uuid/dist/esm-browser/validate.js":\n/*!********************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!\n  \\********************************************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ "./node_modules/uuid/dist/esm-browser/regex.js");\n\n\nfunction validate(uuid) {\n  return typeof uuid === \'string\' && _regex_js__WEBPACK_IMPORTED_MODULE_0__["default"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);\n\n/***/ }),\n\n/***/ "./node_modules/js-cookie/dist/js.cookie.mjs":\n/*!***************************************************!*\\\n  !*** ./node_modules/js-cookie/dist/js.cookie.mjs ***!\n  \\***************************************************/\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === \'"\') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === \'undefined\') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === \'number\') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = \'\';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += \'; \' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (";")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (";") character.\n      // ...\n      stringifiedAttributes += \'=\' + attributes[attributeName].split(\';\')[0];\n    }\n\n    return (document.cookie =\n      key + \'=\' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === \'undefined\' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split(\'; \') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split(\'=\');\n      var value = parts.slice(1).join(\'=\');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          \'\',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: \'/\' });\n/* eslint-enable no-var */\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (api);\n\n\n/***/ }),\n\n/***/ "./node_modules/onnxruntime-web/dist/esm/ort.min.js":\n/*!**********************************************************!*\\\n  !*** ./node_modules/onnxruntime-web/dist/esm/ort.min.js ***!\n  \\**********************************************************/\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "InferenceSession": () => (/* binding */ Md),\n/* harmony export */   "TRACE": () => (/* binding */ Ts),\n/* harmony export */   "TRACE_FUNC_BEGIN": () => (/* binding */ mr),\n/* harmony export */   "TRACE_FUNC_END": () => (/* binding */ br),\n/* harmony export */   "Tensor": () => (/* binding */ Ne),\n/* harmony export */   "TrainingSession": () => (/* binding */ Ud),\n/* harmony export */   "default": () => (/* binding */ nI),\n/* harmony export */   "env": () => (/* binding */ ee),\n/* harmony export */   "registerBackend": () => (/* binding */ dr)\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ "./node_modules/process/browser.js");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];\n/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nvar $d=Object.create;var kn=Object.defineProperty;var Bd=Object.getOwnPropertyDescriptor;var kd=Object.getOwnPropertyNames;var Nd=Object.getPrototypeOf,Rd=Object.prototype.hasOwnProperty;var L=(a,t)=>()=>(a&&(t=a(a=0)),t);var ye=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports),cr=(a,t)=>{for(var o in t)kn(a,o,{get:t[o],enumerable:!0})},Qa=(a,t,o,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of kd(t))!Rd.call(a,r)&&r!==o&&kn(a,r,{get:()=>t[r],enumerable:!(e=Bd(t,r))||e.enumerable});return a};var Nr=(a,t,o)=>(o=a!=null?$d(Nd(a)):{},Qa(t||!a||!a.__esModule?kn(o,"default",{value:a,enumerable:!0}):o,a)),Ht=a=>Qa(kn({},"__esModule",{value:!0}),a);var Nn,pr,dr,Rn,Mn=L(()=>{"use strict";Nn=new Map,pr=[],dr=(a,t,o)=>{if(t&&typeof t.init=="function"&&typeof t.createInferenceSessionHandler=="function"){let e=Nn.get(a);if(e===void 0)Nn.set(a,{backend:t,priority:o});else{if(e.priority>o)return;if(e.priority===o&&e.backend!==t)throw new Error(`cannot register backend "${a}" using priority ${o}`)}if(o>=0){let r=pr.indexOf(a);r!==-1&&pr.splice(r,1);for(let n=0;n<pr.length;n++)if(Nn.get(pr[n]).priority<=o){pr.splice(n,0,a);return}pr.push(a)}return}throw new TypeError("not a valid backend")},Rn=async a=>{let t=a.length===0?pr:a,o=[];for(let e of t){let r=Nn.get(e);if(r){if(r.initialized)return r.backend;if(r.aborted)continue;let n=!!r.initPromise;try{return n||(r.initPromise=r.backend.init(e)),await r.initPromise,r.initialized=!0,r.backend}catch(s){n||o.push({name:e,err:s}),r.aborted=!0}finally{delete r.initPromise}}}throw new Error(`no available backend found. ERR: ${o.map(e=>`[${e.name}] ${e.err}`).join(", ")}`)}});var es=L(()=>{"use strict";Mn()});var ts,rs=L(()=>{"use strict";ts="1.17.0"});var ns,hr,Jo=L(()=>{"use strict";rs();ns="warning",hr={wasm:{},webgl:{},webgpu:{},versions:{common:ts},set logLevel(a){if(a!==void 0){if(typeof a!="string"||["verbose","info","warning","error","fatal"].indexOf(a)===-1)throw new Error(`Unsupported logging level: ${a}`);ns=a}},get logLevel(){return ns}};Object.defineProperty(hr,"logLevel",{enumerable:!0})});var ee,os=L(()=>{"use strict";Jo();ee=hr});var is,as,ss=L(()=>{"use strict";is=(a,t)=>{let o=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);o.width=a.dims[3],o.height=a.dims[2];let e=o.getContext("2d");if(e!=null){let r,n;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(r=a.dims[2],n=a.dims[3]):(r=a.dims[3],n=a.dims[2]);let s=t?.format!==void 0?t.format:"RGB",i=t?.norm,u,l;i===void 0||i.mean===void 0?u=[255,255,255,255]:typeof i.mean=="number"?u=[i.mean,i.mean,i.mean,i.mean]:(u=[i.mean[0],i.mean[1],i.mean[2],0],i.mean[3]!==void 0&&(u[3]=i.mean[3])),i===void 0||i.bias===void 0?l=[0,0,0,0]:typeof i.bias=="number"?l=[i.bias,i.bias,i.bias,i.bias]:(l=[i.bias[0],i.bias[1],i.bias[2],0],i.bias[3]!==void 0&&(l[3]=i.bias[3]));let c=n*r,d=0,b=c,x=c*2,v=-1;s==="RGBA"?(d=0,b=c,x=c*2,v=c*3):s==="RGB"?(d=0,b=c,x=c*2):s==="RBG"&&(d=0,x=c,b=c*2);for(let _=0;_<n;_++)for(let S=0;S<r;S++){let E=(a.data[d++]-l[0])*u[0],C=(a.data[b++]-l[1])*u[1],N=(a.data[x++]-l[2])*u[2],J=v===-1?255:(a.data[v++]-l[3])*u[3];e.fillStyle="rgba("+E+","+C+","+N+","+J+")",e.fillRect(S,_,1,1)}if("toDataURL"in o)return o.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},as=(a,t)=>{let o=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),e;if(o!=null){let r,n,s;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(r=a.dims[2],n=a.dims[1],s=a.dims[3]):(r=a.dims[3],n=a.dims[2],s=a.dims[1]);let i=t!==void 0&&t.format!==void 0?t.format:"RGB",u=t?.norm,l,c;u===void 0||u.mean===void 0?l=[255,255,255,255]:typeof u.mean=="number"?l=[u.mean,u.mean,u.mean,u.mean]:(l=[u.mean[0],u.mean[1],u.mean[2],255],u.mean[3]!==void 0&&(l[3]=u.mean[3])),u===void 0||u.bias===void 0?c=[0,0,0,0]:typeof u.bias=="number"?c=[u.bias,u.bias,u.bias,u.bias]:(c=[u.bias[0],u.bias[1],u.bias[2],0],u.bias[3]!==void 0&&(c[3]=u.bias[3]));let d=n*r;if(t!==void 0&&(t.format!==void 0&&s===4&&t.format!=="RGBA"||s===3&&t.format!=="RGB"&&t.format!=="BGR"))throw new Error("Tensor format doesn\'t match input tensor dims");let b=4,x=0,v=1,_=2,S=3,E=0,C=d,N=d*2,J=-1;i==="RGBA"?(E=0,C=d,N=d*2,J=d*3):i==="RGB"?(E=0,C=d,N=d*2):i==="RBG"&&(E=0,N=d,C=d*2),e=o.createImageData(r,n);for(let Y=0;Y<n*r;x+=b,v+=b,_+=b,S+=b,Y++)e.data[x]=(a.data[E++]-c[0])*l[0],e.data[v]=(a.data[C++]-c[1])*l[1],e.data[_]=(a.data[N++]-c[2])*l[2],e.data[S]=J===-1?255:(a.data[J++]-c[3])*l[3]}else throw new Error("Can not access image data");return e}});var Zo,us,ls,fs,cs,ps=L(()=>{"use strict";Gn();Zo=(a,t)=>{if(a===void 0)throw new Error("Image buffer must be defined");if(t.height===void 0||t.width===void 0)throw new Error("Image height and width must be defined");if(t.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:o,width:e}=t,r=t.norm??{mean:255,bias:0},n,s;typeof r.mean=="number"?n=[r.mean,r.mean,r.mean,r.mean]:n=[r.mean[0],r.mean[1],r.mean[2],r.mean[3]??255],typeof r.bias=="number"?s=[r.bias,r.bias,r.bias,r.bias]:s=[r.bias[0],r.bias[1],r.bias[2],r.bias[3]??0];let i=t.format!==void 0?t.format:"RGBA",u=t.tensorFormat!==void 0&&t.tensorFormat!==void 0?t.tensorFormat:"RGB",l=o*e,c=u==="RGBA"?new Float32Array(l*4):new Float32Array(l*3),d=4,b=0,x=1,v=2,_=3,S=0,E=l,C=l*2,N=-1;i==="RGB"&&(d=3,b=0,x=1,v=2,_=-1),u==="RGBA"?N=l*3:u==="RBG"?(S=0,C=l,E=l*2):u==="BGR"&&(C=0,E=l,S=l*2);for(let Y=0;Y<l;Y++,b+=d,v+=d,x+=d,_+=d)c[S++]=(a[b]+s[0])/n[0],c[E++]=(a[x]+s[1])/n[1],c[C++]=(a[v]+s[2])/n[2],N!==-1&&_!==-1&&(c[N++]=(a[_]+s[3])/n[3]);return u==="RGBA"?new Xe("float32",c,[1,4,o,e]):new Xe("float32",c,[1,3,o,e])},us=async(a,t)=>{let o=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,e=typeof ImageData<"u"&&a instanceof ImageData,r=typeof ImageBitmap<"u"&&a instanceof ImageBitmap,n=typeof a=="string",s,i=t??{},u=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},l=c=>c instanceof HTMLCanvasElement||c instanceof OffscreenCanvas?c.getContext("2d"):null;if(o){let c=u();c.width=a.width,c.height=a.height;let d=l(c);if(d!=null){let b=a.height,x=a.width;if(t!==void 0&&t.resizedHeight!==void 0&&t.resizedWidth!==void 0&&(b=t.resizedHeight,x=t.resizedWidth),t!==void 0){if(i=t,t.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");i.tensorFormat="RGBA",i.height=b,i.width=x}else i.tensorFormat="RGBA",i.height=b,i.width=x;d.drawImage(a,0,0),s=d.getImageData(0,0,x,b).data}else throw new Error("Can not access image data")}else if(e){let c,d;if(t!==void 0&&t.resizedWidth!==void 0&&t.resizedHeight!==void 0?(c=t.resizedHeight,d=t.resizedWidth):(c=a.height,d=a.width),t!==void 0&&(i=t),i.format="RGBA",i.height=c,i.width=d,t!==void 0){let b=u();b.width=d,b.height=c;let x=l(b);if(x!=null)x.putImageData(a,0,0),s=x.getImageData(0,0,d,c).data;else throw new Error("Can not access image data")}else s=a.data}else if(r){if(t===void 0)throw new Error("Please provide image config with format for Imagebitmap");let c=u();c.width=a.width,c.height=a.height;let d=l(c);if(d!=null){let b=a.height,x=a.width;return d.drawImage(a,0,0,x,b),s=d.getImageData(0,0,x,b).data,i.height=b,i.width=x,Zo(s,i)}else throw new Error("Can not access image data")}else{if(n)return new Promise((c,d)=>{let b=u(),x=l(b);if(!a||!x)return d();let v=new Image;v.crossOrigin="Anonymous",v.src=a,v.onload=()=>{b.width=v.width,b.height=v.height,x.drawImage(v,0,0,b.width,b.height);let _=x.getImageData(0,0,b.width,b.height);i.height=b.height,i.width=b.width,c(Zo(_.data,i))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(s!==void 0)return Zo(s,i);throw new Error("Input data provided is not supported - aborted tensor creation")},ls=(a,t)=>{let{width:o,height:e,download:r,dispose:n}=t,s=[1,e,o,4];return new Xe({location:"texture",type:"float32",texture:a,dims:s,download:r,dispose:n})},fs=(a,t)=>{let{dataType:o,dims:e,download:r,dispose:n}=t;return new Xe({location:"gpu-buffer",type:o??"float32",gpuBuffer:a,dims:e,download:r,dispose:n})},cs=(a,t,o)=>new Xe({location:"cpu-pinned",type:a,data:t,dims:o??[t.length]})});var an,Un,ds,hs,ms=L(()=>{"use strict";an=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Un=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),ds=!1,hs=()=>{if(!ds){ds=!0;let a=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",t=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";a&&(an.set("int64",BigInt64Array),Un.set(BigInt64Array,"int64")),t&&(an.set("uint64",BigUint64Array),Un.set(BigUint64Array,"uint64"))}}});var bs,gs,ys=L(()=>{"use strict";Gn();bs=a=>{let t=1;for(let o=0;o<a.length;o++){let e=a[o];if(typeof e!="number"||!Number.isSafeInteger(e))throw new TypeError(`dims[${o}] must be an integer, got: ${e}`);if(e<0)throw new RangeError(`dims[${o}] must be a non-negative integer, got: ${e}`);t*=e}return t},gs=(a,t)=>{switch(a.location){case"cpu":return new Xe(a.type,a.data,t);case"cpu-pinned":return new Xe({location:"cpu-pinned",data:a.data,type:a.type,dims:t});case"texture":return new Xe({location:"texture",texture:a.texture,type:a.type,dims:t});case"gpu-buffer":return new Xe({location:"gpu-buffer",gpuBuffer:a.gpuBuffer,type:a.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${a.location} is not supported`)}}});var Xe,Gn=L(()=>{"use strict";ss();ps();ms();ys();Xe=class{constructor(t,o,e){hs();let r,n;if(typeof t=="object"&&"location"in t)switch(this.dataLocation=t.location,r=t.type,n=t.dims,t.location){case"cpu-pinned":{let i=an.get(r);if(!i)throw new TypeError(`unsupported type "${r}" to create tensor from pinned buffer`);if(!(t.data instanceof i))throw new TypeError(`buffer should be of type ${i.name}`);this.cpuData=t.data;break}case"texture":{if(r!=="float32")throw new TypeError(`unsupported type "${r}" to create tensor from texture`);this.gpuTextureData=t.texture,this.downloader=t.download,this.disposer=t.dispose;break}case"gpu-buffer":{if(r!=="float32"&&r!=="float16"&&r!=="int32"&&r!=="int64"&&r!=="uint32"&&r!=="bool")throw new TypeError(`unsupported type "${r}" to create tensor from gpu buffer`);this.gpuBufferData=t.gpuBuffer,this.downloader=t.download,this.disposer=t.dispose;break}default:throw new Error(`Tensor constructor: unsupported location \'${this.dataLocation}\'`)}else{let i,u;if(typeof t=="string")if(r=t,u=e,t==="string"){if(!Array.isArray(o))throw new TypeError("A string tensor\'s data must be a string array.");i=o}else{let l=an.get(t);if(l===void 0)throw new TypeError(`Unsupported tensor type: ${t}.`);if(Array.isArray(o)){if(t==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");t==="uint64"||t==="int64"?i=l.from(o,BigInt):i=l.from(o)}else if(o instanceof l)i=o;else throw new TypeError(`A ${r} tensor\'s data must be type of ${l}`)}else if(u=o,Array.isArray(t)){if(t.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let l=typeof t[0];if(l==="string")r="string",i=t;else if(l==="boolean")r="bool",i=Uint8Array.from(t);else throw new TypeError(`Invalid element type of data array: ${l}.`)}else{let l=Un.get(t.constructor);if(l===void 0)throw new TypeError(`Unsupported type for tensor data: ${t.constructor}.`);r=l,i=t}if(u===void 0)u=[i.length];else if(!Array.isArray(u))throw new TypeError("A tensor\'s dims must be a number array");n=u,this.cpuData=i,this.dataLocation="cpu"}let s=bs(n);if(this.cpuData&&s!==this.cpuData.length)throw new Error(`Tensor\'s size(${s}) does not match data length(${this.cpuData.length}).`);this.type=r,this.dims=n,this.size=s}static async fromImage(t,o){return us(t,o)}static fromTexture(t,o){return ls(t,o)}static fromGpuBuffer(t,o){return fs(t,o)}static fromPinnedBuffer(t,o,e){return cs(t,o,e)}toDataURL(t){return is(this,t)}toImageData(t){return as(this,t)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(t){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let o=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=o,t&&this.disposer&&(this.disposer(),this.disposer=void 0),o}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(t){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return gs(this,t)}}});var Ne,zn=L(()=>{"use strict";Gn();Ne=Xe});var Ts,xs,mr,br,Qo=L(()=>{"use strict";Jo();Ts=(a,t)=>{hr.wasm.trace&&console.timeStamp(`${a}::ORT::${t}`)},xs=(a,t)=>{let o=new Error().stack?.split(/\\r\\n|\\r|\\n/g)||[],e=!1;for(let r=0;r<o.length;r++){if(e&&!o[r].includes("TRACE_FUNC")){let n=`FUNC_${a}::${o[r].trim().split(" ")[1]}`;t&&(n+=`::${t}`),Ts("CPU",n);return}o[r].includes("TRACE_FUNC")&&(e=!0)}},mr=a=>{hr.wasm.trace&&xs("BEGIN",a)},br=a=>{hr.wasm.trace&&xs("END",a)}});var Wn,ws=L(()=>{"use strict";Mn();zn();Qo();Wn=class a{constructor(t){this.handler=t}async run(t,o,e){mr();let r={},n={};if(typeof t!="object"||t===null||t instanceof Ne||Array.isArray(t))throw new TypeError("\'feeds\' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if(typeof o=="object"){if(o===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(o instanceof Ne)throw new TypeError("\'fetches\' cannot be a Tensor");if(Array.isArray(o)){if(o.length===0)throw new TypeError("\'fetches\' cannot be an empty array.");s=!1;for(let l of o){if(typeof l!="string")throw new TypeError("\'fetches\' must be a string array or an object.");if(this.outputNames.indexOf(l)===-1)throw new RangeError(`\'fetches\' contains invalid output name: ${l}.`);r[l]=null}if(typeof e=="object"&&e!==null)n=e;else if(typeof e<"u")throw new TypeError("\'options\' must be an object.")}else{let l=!1,c=Object.getOwnPropertyNames(o);for(let d of this.outputNames)if(c.indexOf(d)!==-1){let b=o[d];(b===null||b instanceof Ne)&&(l=!0,s=!1,r[d]=b)}if(l){if(typeof e=="object"&&e!==null)n=e;else if(typeof e<"u")throw new TypeError("\'options\' must be an object.")}else n=o}}else if(typeof o<"u")throw new TypeError("Unexpected argument[1]: must be \'fetches\' or \'options\'.");for(let l of this.inputNames)if(typeof t[l]>"u")throw new Error(`input \'${l}\' is missing in \'feeds\'.`);if(s)for(let l of this.outputNames)r[l]=null;let i=await this.handler.run(t,r,n),u={};for(let l in i)if(Object.hasOwnProperty.call(i,l)){let c=i[l];c instanceof Ne?u[l]=c:u[l]=new Ne(c.type,c.data,c.dims)}return br(),u}async release(){return this.handler.dispose()}async configure(t){return await this.handler.configure(t)}async auth(t){return await this.handler.auth(t)}static async create(t,o,e,r){mr();let n,s={};if(typeof t=="string"){if(n=t,typeof o=="object"&&o!==null)s=o;else if(typeof o<"u")throw new TypeError("\'options\' must be an object.")}else if(t instanceof Uint8Array){if(n=t,typeof o=="object"&&o!==null)s=o;else if(typeof o<"u")throw new TypeError("\'options\' must be an object.")}else if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer){let d=t,b=0,x=t.byteLength;if(typeof o=="object"&&o!==null)s=o;else if(typeof o=="number"){if(b=o,!Number.isSafeInteger(b))throw new RangeError("\'byteOffset\' must be an integer.");if(b<0||b>=d.byteLength)throw new RangeError(`\'byteOffset\' is out of range [0, ${d.byteLength}).`);if(x=t.byteLength-b,typeof e=="number"){if(x=e,!Number.isSafeInteger(x))throw new RangeError("\'byteLength\' must be an integer.");if(x<=0||b+x>d.byteLength)throw new RangeError(`\'byteLength\' is out of range (0, ${d.byteLength-b}].`);if(typeof r=="object"&&r!==null)s=r;else if(typeof r<"u")throw new TypeError("\'options\' must be an object.")}else if(typeof e<"u")throw new TypeError("\'byteLength\' must be a number.")}else if(typeof o<"u")throw new TypeError("\'options\' must be an object.");n=new Uint8Array(d,b,x)}else throw new TypeError("Unexpected argument[0]: must be \'path\' or \'buffer\'.");let u=(s.executionProviders||[]).map(d=>typeof d=="string"?d:d.name),c=await(await Rn(u)).createInferenceSessionHandler(n,s);return br(),new a(c)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Md,vs=L(()=>{"use strict";ws();Md=Wn});var _s=L(()=>{"use strict"});var Gd,Vn,Os=L(()=>{"use strict";Mn();zn();Gd="Training backend could not be resolved. Make sure you\'re using the correct configuration & WebAssembly files.",Vn=class a{constructor(t,o,e){this.handler=t,this.hasOptimizerModel=o,this.hasEvalModel=e}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(t,o){let e=t.evalModel||"",r=t.optimizerModel||"",n=o||{},i=(n.executionProviders||[]).map(l=>typeof l=="string"?l:l.name),u=await Rn(i);if(u.createTrainingSessionHandler){let l=await u.createTrainingSessionHandler(t.checkpointState,t.trainModel,e,r,n);return new a(l,!!t.optimizerModel,!!t.evalModel)}else throw new Error(Gd)}typeNarrowingForRunStep(t,o,e,r,n){let s={},i={};if(typeof e!="object"||e===null||e instanceof Ne||Array.isArray(e))throw new TypeError("\'feeds\' must be an object that use input names as keys and OnnxValue as corresponding values.");let u=!0;if(typeof r=="object"){if(r===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(r instanceof Ne)throw new TypeError("\'fetches\' cannot be a Tensor");if(Array.isArray(r)){if(r.length===0)throw new TypeError("\'fetches\' cannot be an empty array.");u=!1;for(let l of r){if(typeof l!="string")throw new TypeError("\'fetches\' must be a string array or an object.");if(o.indexOf(l)===-1)throw new RangeError(`\'fetches\' contains invalid output name: ${l}.`);s[l]=null}if(typeof n=="object"&&n!==null)i=n;else if(typeof n<"u")throw new TypeError("\'options\' must be an object.")}else{let l=!1,c=Object.getOwnPropertyNames(r);for(let d of o)if(c.indexOf(d)!==-1){let b=r[d];(b===null||b instanceof Ne)&&(l=!0,u=!1,s[d]=b)}if(l){if(typeof n=="object"&&n!==null)i=n;else if(typeof n<"u")throw new TypeError("\'options\' must be an object.")}else i=r}}else if(typeof r<"u")throw new TypeError("Unexpected argument[1]: must be \'fetches\' or \'options\'.");for(let l of t)if(typeof e[l]>"u")throw new Error(`input \'${l}\' is missing in \'feeds\'.`);if(u)for(let l of o)s[l]=null;return[s,i]}convertHandlerReturnTypeToMapOfTensors(t){let o={};for(let e in t)if(Object.hasOwnProperty.call(t,e)){let r=t[e];r instanceof Ne?o[e]=r:o[e]=new Ne(r.type,r.data,r.dims)}return o}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(t,o,e){let[r,n]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,t,o,e),s=await this.handler.runTrainStep(t,r,n);return this.convertHandlerReturnTypeToMapOfTensors(s)}async runOptimizerStep(t){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(t||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(t,o,e){if(this.hasEvalModel){let[r,n]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,t,o,e),s=await this.handler.runEvalStep(t,r,n);return this.convertHandlerReturnTypeToMapOfTensors(s)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(t=!0){return this.handler.getParametersSize(t)}async loadParametersBuffer(t,o=!0){let e=await this.getParametersSize(o);if(t.length!==4*e)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(t,o)}async getContiguousParameters(t=!0){return this.handler.getContiguousParameters(t)}async release(){return this.handler.dispose()}}});var Ud,Is=L(()=>{"use strict";Os();Ud=Vn});var ei={};cr(ei,{InferenceSession:()=>Md,TRACE:()=>Ts,TRACE_FUNC_BEGIN:()=>mr,TRACE_FUNC_END:()=>br,Tensor:()=>Ne,TrainingSession:()=>Ud,env:()=>ee,registerBackend:()=>dr});var It=L(()=>{"use strict";es();os();vs();zn();Qo();_s();Is()});function Qt(a,t,o,e){if(t===void 0)return Wd(a);if(o===void 0)Hn(a,t,1);else if(typeof o=="number"&&e===void 0)Hn(a,t,o);else if(typeof o=="string"&&e===void 0)Hn(a,o,1,t);else if(typeof o=="string"&&typeof e=="number")Hn(a,o,e,t);else throw new TypeError("input is valid")}function Wd(a){return{verbose:Qt.verbose.bind(null,a),info:Qt.info.bind(null,a),warning:Qt.warning.bind(null,a),error:Qt.error.bind(null,a),fatal:Qt.fatal.bind(null,a)}}function Hn(a,t,o,e){let r=sn[e||""]||sn[""];As[a]<As[r.minimalSeverity]||(r.logDateTime&&(t=`${new Date().toISOString()}|${t}`),r.logSourceLocation,zd[r.provider].log(a,t,e))}var ti,ri,As,zd,Es,sn,pe,qn,Yn,Xn,jn,dt=L(()=>{"use strict";ti=class{log(t,o,e){}},ri=class{log(t,o,e){console.log(`${this.color(t)} ${e?"\\x1B[35m"+e+"\\x1B[0m ":""}${o}`)}color(t){switch(t){case"verbose":return"\\x1B[34;40mv\\x1B[0m";case"info":return"\\x1B[32mi\\x1B[0m";case"warning":return"\\x1B[30;43mw\\x1B[0m";case"error":return"\\x1B[31;40me\\x1B[0m";case"fatal":return"\\x1B[101mf\\x1B[0m";default:throw new Error(`unsupported severity: ${t}`)}}},As={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},zd={none:new ti,console:new ri},Es={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},sn={"":Es};(u=>{function a(l,c){u("verbose",l,c)}u.verbose=a;function t(l,c){u("info",l,c)}u.info=t;function o(l,c){u("warning",l,c)}u.warning=o;function e(l,c){u("error",l,c)}u.error=e;function r(l,c){u("fatal",l,c)}u.fatal=r;function n(l){sn={},s("",l||{})}u.reset=n;function s(l,c){if(l==="*")n(c);else{let d=sn[l]||Es;sn[l]={provider:c.provider||d.provider,minimalSeverity:c.minimalSeverity||d.minimalSeverity,logDateTime:c.logDateTime===void 0?d.logDateTime:c.logDateTime,logSourceLocation:c.logSourceLocation===void 0?d.logSourceLocation:c.logSourceLocation}}}u.set=s;function i(l){let c={};l.logLevel&&(c.minimalSeverity=l.logLevel),s("",c)}u.setWithEnv=i})(Qt||={});pe=Qt,qn=class{constructor(t,o,e,r,n,s){this.category=t;this.name=o;this.startTime=e;this.endCallback=r;this.timer=n;this.ctx=s}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}},Yn=class{constructor(t,o,e,r){this.category=t;this.name=o;this.startTime=e;this.endTime=r}},Xn=class{constructor(t,o,e){this._started=!1;this._flushPointer=0;this._started=!1,this._maxNumberEvents=t===void 0?1e4:t,this._flushBatchSize=o===void 0?10:o,this._flushIntervalInMilliseconds=e===void 0?5e3:e}static create(t){return t===void 0?new this:new this(t.maxNumberEvents,t.flushBatchSize,t.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=jn(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(t,o,e,r){let n=this._started?this.begin(t,o,r):void 0,s=!1,i=e();if(i&&typeof i.then=="function")return s=!0,new Promise((u,l)=>{i.then(async c=>{n&&await n.end(),u(c)},async c=>{n&&await n.end(),l(c)})});if(!s&&n){let u=n.end();if(u&&typeof u.then=="function")return new Promise((l,c)=>{u.then(()=>{l(i)},d=>{c(d)})})}return i}begin(t,o,e){if(!this._started)throw new Error("profiler is not started yet");if(e===void 0){let r=jn();return this.flush(r),new qn(t,o,r,n=>this.endSync(n))}else{let r=e.beginTimer();return new qn(t,o,0,async n=>this.end(n),r,e)}}async end(t){let o=await t.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Yn(t.category,t.name,t.startTime,o)),this.flush(o))}endSync(t){let o=jn();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Yn(t.category,t.name,t.startTime,o)),this.flush(o))}logOneEvent(t){pe.verbose(`Profiler.${t.category}`,`${(t.endTime-t.startTime).toFixed(2)}ms on event \'${t.name}\' at ${t.endTime.toFixed(2)}`)}flush(t){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||t-this._flushTime>=this._flushIntervalInMilliseconds){for(let o=this._flushPointer;this._flushPointer<o+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=jn()}}get started(){return this._started}},jn=typeof performance<"u"&&performance.now?()=>performance.now():Date.now});function Ps(a,t,o){for(let e of o){let r=e[0],n=e[1],s=e[2],i=e[3],u=e[4];if(a.opType===r){for(let l of t)if((l.domain===n||l.domain==="ai.onnx"&&n==="")&&Vd(l.version,s))return{opImpl:i,opInit:u}}}throw new TypeError(`cannot resolve operator \'${a.opType}\' with opsets: ${t.map(e=>`${e.domain||"ai.onnx"} v${e.version}`).join(", ")}`)}function Vd(a,t){if(t.endsWith("+")){let o=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(o)&&o<=a}else if(t.split("-").length===2){let o=t.split("-"),e=Number.parseInt(o[0],10),r=Number.parseInt(o[1],10);return!isNaN(e)&&!isNaN(r)&&e<=a&&a<=r}else return Number.parseInt(t,10)===a}var Ds=L(()=>{"use strict"});var Ls=ye(ni=>{"use strict";ni.__esModule=!0;var Hd=function(){function a(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=a.EMPTY,t&&a.isGuid(t)&&(this.value=t)}return a.isGuid=function(t){var o=t.toString();return t&&(t instanceof a||a.validator.test(o))},a.create=function(){return new a([a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-"))},a.createEmpty=function(){return new a("emptyguid")},a.parse=function(t){return new a(t)},a.raw=function(){return[a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-")},a.gen=function(t){for(var o="",e=0;e<t;e++)o+=((1+Math.random())*65536|0).toString(16).substring(1);return o},a.prototype.equals=function(t){return a.isGuid(t)&&this.value===t.toString()},a.prototype.isEmpty=function(){return this.value===a.EMPTY},a.prototype.toString=function(){return this.value},a.prototype.toJSON=function(){return{value:this.value}},a.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),a.EMPTY="00000000-0000-0000-0000-000000000000",a}();ni.Guid=Hd});function Te(a,t,o){this.low=a|0,this.high=t|0,this.unsigned=!!o}function He(a){return(a&&a.__isLong__)===!0}function Fs(a){var t=Math.clz32(a&-a);return a?31-t:t}function gr(a,t){var o,e,r;return t?(a>>>=0,(r=0<=a&&a<256)&&(e=$s[a],e)?e:(o=le(a,0,!0),r&&($s[a]=o),o)):(a|=0,(r=-128<=a&&a<128)&&(e=Cs[a],e)?e:(o=le(a,a<0?-1:0,!1),r&&(Cs[a]=o),o))}function mt(a,t){if(isNaN(a))return t?jt:St;if(t){if(a<0)return jt;if(a>=Rs)return Us}else{if(a<=-ks)return rt;if(a+1>=ks)return Gs}return a<0?mt(-a,t).neg():le(a%Mr|0,a/Mr|0,t)}function le(a,t,o){return new Te(a,t,o)}function ii(a,t,o){if(a.length===0)throw Error("empty string");if(typeof t=="number"?(o=t,t=!1):t=!!t,a==="NaN"||a==="Infinity"||a==="+Infinity"||a==="-Infinity")return t?jt:St;if(o=o||10,o<2||36<o)throw RangeError("radix");var e;if((e=a.indexOf("-"))>0)throw Error("interior hyphen");if(e===0)return ii(a.substring(1),t,o).neg();for(var r=mt(Kn(o,8)),n=St,s=0;s<a.length;s+=8){var i=Math.min(8,a.length-s),u=parseInt(a.substring(s,s+i),o);if(i<8){var l=mt(Kn(o,i));n=n.mul(l).add(mt(u))}else n=n.mul(r),n=n.add(mt(u))}return n.unsigned=t,n}function At(a,t){return typeof a=="number"?mt(a,t):typeof a=="string"?ii(a,t):le(a.low,a.high,typeof t=="boolean"?t:a.unsigned)}var ht,Cs,$s,Kn,Bs,jd,Mr,Rs,ks,Ns,St,jt,Rr,Ms,oi,Gs,Us,rt,k,qt,ai=L(()=>{ht=null;try{ht=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}Te.prototype.__isLong__;Object.defineProperty(Te.prototype,"__isLong__",{value:!0});Te.isLong=He;Cs={},$s={};Te.fromInt=gr;Te.fromNumber=mt;Te.fromBits=le;Kn=Math.pow;Te.fromString=ii;Te.fromValue=At;Bs=65536,jd=1<<24,Mr=Bs*Bs,Rs=Mr*Mr,ks=Rs/2,Ns=gr(jd),St=gr(0);Te.ZERO=St;jt=gr(0,!0);Te.UZERO=jt;Rr=gr(1);Te.ONE=Rr;Ms=gr(1,!0);Te.UONE=Ms;oi=gr(-1);Te.NEG_ONE=oi;Gs=le(-1,2147483647,!1);Te.MAX_VALUE=Gs;Us=le(-1,-1,!0);Te.MAX_UNSIGNED_VALUE=Us;rt=le(0,-2147483648,!1);Te.MIN_VALUE=rt;k=Te.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low};k.toNumber=function(){return this.unsigned?(this.high>>>0)*Mr+(this.low>>>0):this.high*Mr+(this.low>>>0)};k.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(rt)){var o=mt(t),e=this.div(o),r=e.mul(o).sub(this);return e.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var n=mt(Kn(t,6),this.unsigned),s=this,i="";;){var u=s.div(n),l=s.sub(u.mul(n)).toInt()>>>0,c=l.toString(t);if(s=u,s.isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}};k.getHighBits=function(){return this.high};k.getHighBitsUnsigned=function(){return this.high>>>0};k.getLowBits=function(){return this.low};k.getLowBitsUnsigned=function(){return this.low>>>0};k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(rt)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,o=31;o>0&&!(t&1<<o);o--);return this.high!=0?o+33:o+1};k.isZero=function(){return this.high===0&&this.low===0};k.eqz=k.isZero;k.isNegative=function(){return!this.unsigned&&this.high<0};k.isPositive=function(){return this.unsigned||this.high>=0};k.isOdd=function(){return(this.low&1)===1};k.isEven=function(){return(this.low&1)===0};k.equals=function(t){return He(t)||(t=At(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};k.eq=k.equals;k.notEquals=function(t){return!this.eq(t)};k.neq=k.notEquals;k.ne=k.notEquals;k.lessThan=function(t){return this.comp(t)<0};k.lt=k.lessThan;k.lessThanOrEqual=function(t){return this.comp(t)<=0};k.lte=k.lessThanOrEqual;k.le=k.lessThanOrEqual;k.greaterThan=function(t){return this.comp(t)>0};k.gt=k.greaterThan;k.greaterThanOrEqual=function(t){return this.comp(t)>=0};k.gte=k.greaterThanOrEqual;k.ge=k.greaterThanOrEqual;k.compare=function(t){if(He(t)||(t=At(t)),this.eq(t))return 0;var o=this.isNegative(),e=t.isNegative();return o&&!e?-1:!o&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};k.comp=k.compare;k.negate=function(){return!this.unsigned&&this.eq(rt)?rt:this.not().add(Rr)};k.neg=k.negate;k.add=function(t){He(t)||(t=At(t));var o=this.high>>>16,e=this.high&65535,r=this.low>>>16,n=this.low&65535,s=t.high>>>16,i=t.high&65535,u=t.low>>>16,l=t.low&65535,c=0,d=0,b=0,x=0;return x+=n+l,b+=x>>>16,x&=65535,b+=r+u,d+=b>>>16,b&=65535,d+=e+i,c+=d>>>16,d&=65535,c+=o+s,c&=65535,le(b<<16|x,c<<16|d,this.unsigned)};k.subtract=function(t){return He(t)||(t=At(t)),this.add(t.neg())};k.sub=k.subtract;k.multiply=function(t){if(this.isZero())return this;if(He(t)||(t=At(t)),ht){var o=ht.mul(this.low,this.high,t.low,t.high);return le(o,ht.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?jt:St;if(this.eq(rt))return t.isOdd()?rt:St;if(t.eq(rt))return this.isOdd()?rt:St;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ns)&&t.lt(Ns))return mt(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,r=this.high&65535,n=this.low>>>16,s=this.low&65535,i=t.high>>>16,u=t.high&65535,l=t.low>>>16,c=t.low&65535,d=0,b=0,x=0,v=0;return v+=s*c,x+=v>>>16,v&=65535,x+=n*c,b+=x>>>16,x&=65535,x+=s*l,b+=x>>>16,x&=65535,b+=r*c,d+=b>>>16,b&=65535,b+=n*l,d+=b>>>16,b&=65535,b+=s*u,d+=b>>>16,b&=65535,d+=e*c+r*l+n*u+s*i,d&=65535,le(x<<16|v,d<<16|b,this.unsigned)};k.mul=k.multiply;k.divide=function(t){if(He(t)||(t=At(t)),t.isZero())throw Error("division by zero");if(ht){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var o=(this.unsigned?ht.div_u:ht.div_s)(this.low,this.high,t.low,t.high);return le(o,ht.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?jt:St;var e,r,n;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return jt;if(t.gt(this.shru(1)))return Ms;n=jt}else{if(this.eq(rt)){if(t.eq(Rr)||t.eq(oi))return rt;if(t.eq(rt))return Rr;var s=this.shr(1);return e=s.div(t).shl(1),e.eq(St)?t.isNegative()?Rr:oi:(r=this.sub(t.mul(e)),n=e.add(r.div(t)),n)}else if(t.eq(rt))return this.unsigned?jt:St;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();n=St}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var i=Math.ceil(Math.log(e)/Math.LN2),u=i<=48?1:Kn(2,i-48),l=mt(e),c=l.mul(t);c.isNegative()||c.gt(r);)e-=u,l=mt(e,this.unsigned),c=l.mul(t);l.isZero()&&(l=Rr),n=n.add(l),r=r.sub(c)}return n};k.div=k.divide;k.modulo=function(t){if(He(t)||(t=At(t)),ht){var o=(this.unsigned?ht.rem_u:ht.rem_s)(this.low,this.high,t.low,t.high);return le(o,ht.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};k.mod=k.modulo;k.rem=k.modulo;k.not=function(){return le(~this.low,~this.high,this.unsigned)};k.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};k.clz=k.countLeadingZeros;k.countTrailingZeros=function(){return this.low?Fs(this.low):Fs(this.high)+32};k.ctz=k.countTrailingZeros;k.and=function(t){return He(t)||(t=At(t)),le(this.low&t.low,this.high&t.high,this.unsigned)};k.or=function(t){return He(t)||(t=At(t)),le(this.low|t.low,this.high|t.high,this.unsigned)};k.xor=function(t){return He(t)||(t=At(t)),le(this.low^t.low,this.high^t.high,this.unsigned)};k.shiftLeft=function(t){return He(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?le(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):le(0,this.low<<t-32,this.unsigned)};k.shl=k.shiftLeft;k.shiftRight=function(t){return He(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?le(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):le(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};k.shr=k.shiftRight;k.shiftRightUnsigned=function(t){return He(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?le(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?le(this.high,0,this.unsigned):le(this.high>>>t-32,0,this.unsigned)};k.shru=k.shiftRightUnsigned;k.shr_u=k.shiftRightUnsigned;k.rotateLeft=function(t){var o;return He(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?le(this.high,this.low,this.unsigned):t<32?(o=32-t,le(this.low<<t|this.high>>>o,this.high<<t|this.low>>>o,this.unsigned)):(t-=32,o=32-t,le(this.high<<t|this.low>>>o,this.low<<t|this.high>>>o,this.unsigned))};k.rotl=k.rotateLeft;k.rotateRight=function(t){var o;return He(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?le(this.high,this.low,this.unsigned):t<32?(o=32-t,le(this.high<<o|this.low>>>t,this.low<<o|this.high>>>t,this.unsigned)):(t-=32,o=32-t,le(this.low<<o|this.high>>>t,this.high<<o|this.low>>>t,this.unsigned))};k.rotr=k.rotateRight;k.toSigned=function(){return this.unsigned?le(this.low,this.high,!1):this};k.toUnsigned=function(){return this.unsigned?this:le(this.low,this.high,!0)};k.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};k.toBytesLE=function(){var t=this.high,o=this.low;return[o&255,o>>>8&255,o>>>16&255,o>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};k.toBytesBE=function(){var t=this.high,o=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,o>>>24,o>>>16&255,o>>>8&255,o&255]};Te.fromBytes=function(t,o,e){return e?Te.fromBytesLE(t,o):Te.fromBytesBE(t,o)};Te.fromBytesLE=function(t,o){return new Te(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,o)};Te.fromBytesBE=function(t,o){return new Te(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],o)};qt=Te});var I,Jn=L(()=>{I={};I.Offset;I.Table;I.SIZEOF_SHORT=2;I.SIZEOF_INT=4;I.FILE_IDENTIFIER_LENGTH=4;I.SIZE_PREFIX_LENGTH=4;I.Encoding={UTF8_BYTES:1,UTF16_STRING:2};I.int32=new Int32Array(2);I.float32=new Float32Array(I.int32.buffer);I.float64=new Float64Array(I.int32.buffer);I.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;I.Long=function(a,t){this.low=a|0,this.high=t|0};I.Long.create=function(a,t){return a==0&&t==0?I.Long.ZERO:new I.Long(a,t)};I.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};I.Long.prototype.equals=function(a){return this.low==a.low&&this.high==a.high};I.Long.ZERO=new I.Long(0,0);I.Builder=function(a){if(a)var t=a;else var t=1024;this.bb=I.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};I.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};I.Builder.prototype.forceDefaults=function(a){this.force_defaults=a};I.Builder.prototype.dataBuffer=function(){return this.bb};I.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};I.Builder.prototype.prep=function(a,t){a>this.minalign&&(this.minalign=a);for(var o=~(this.bb.capacity()-this.space+t)+1&a-1;this.space<o+a+t;){var e=this.bb.capacity();this.bb=I.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-e}this.pad(o)};I.Builder.prototype.pad=function(a){for(var t=0;t<a;t++)this.bb.writeInt8(--this.space,0)};I.Builder.prototype.writeInt8=function(a){this.bb.writeInt8(this.space-=1,a)};I.Builder.prototype.writeInt16=function(a){this.bb.writeInt16(this.space-=2,a)};I.Builder.prototype.writeInt32=function(a){this.bb.writeInt32(this.space-=4,a)};I.Builder.prototype.writeInt64=function(a){this.bb.writeInt64(this.space-=8,a)};I.Builder.prototype.writeFloat32=function(a){this.bb.writeFloat32(this.space-=4,a)};I.Builder.prototype.writeFloat64=function(a){this.bb.writeFloat64(this.space-=8,a)};I.Builder.prototype.addInt8=function(a){this.prep(1,0),this.writeInt8(a)};I.Builder.prototype.addInt16=function(a){this.prep(2,0),this.writeInt16(a)};I.Builder.prototype.addInt32=function(a){this.prep(4,0),this.writeInt32(a)};I.Builder.prototype.addInt64=function(a){this.prep(8,0),this.writeInt64(a)};I.Builder.prototype.addFloat32=function(a){this.prep(4,0),this.writeFloat32(a)};I.Builder.prototype.addFloat64=function(a){this.prep(8,0),this.writeFloat64(a)};I.Builder.prototype.addFieldInt8=function(a,t,o){(this.force_defaults||t!=o)&&(this.addInt8(t),this.slot(a))};I.Builder.prototype.addFieldInt16=function(a,t,o){(this.force_defaults||t!=o)&&(this.addInt16(t),this.slot(a))};I.Builder.prototype.addFieldInt32=function(a,t,o){(this.force_defaults||t!=o)&&(this.addInt32(t),this.slot(a))};I.Builder.prototype.addFieldInt64=function(a,t,o){(this.force_defaults||!t.equals(o))&&(this.addInt64(t),this.slot(a))};I.Builder.prototype.addFieldFloat32=function(a,t,o){(this.force_defaults||t!=o)&&(this.addFloat32(t),this.slot(a))};I.Builder.prototype.addFieldFloat64=function(a,t,o){(this.force_defaults||t!=o)&&(this.addFloat64(t),this.slot(a))};I.Builder.prototype.addFieldOffset=function(a,t,o){(this.force_defaults||t!=o)&&(this.addOffset(t),this.slot(a))};I.Builder.prototype.addFieldStruct=function(a,t,o){t!=o&&(this.nested(t),this.slot(a))};I.Builder.prototype.nested=function(a){if(a!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};I.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};I.Builder.prototype.slot=function(a){this.vtable[a]=this.offset()};I.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};I.Builder.growByteBuffer=function(a){var t=a.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var o=t<<1,e=I.ByteBuffer.allocate(o);return e.setPosition(o-t),e.bytes().set(a.bytes(),o-t),e};I.Builder.prototype.addOffset=function(a){this.prep(I.SIZEOF_INT,0),this.writeInt32(this.offset()-a+I.SIZEOF_INT)};I.Builder.prototype.startObject=function(a){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=a;for(var t=0;t<a;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()};I.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var a=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var o=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?a-this.vtable[t]:0);var e=2;this.addInt16(a-this.object_start);var r=(o+e)*I.SIZEOF_SHORT;this.addInt16(r);var n=0,s=this.space;e:for(t=0;t<this.vtables.length;t++){var i=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(i)){for(var u=I.SIZEOF_SHORT;u<r;u+=I.SIZEOF_SHORT)if(this.bb.readInt16(s+u)!=this.bb.readInt16(i+u))continue e;n=this.vtables[t];break}}return n?(this.space=this.bb.capacity()-a,this.bb.writeInt32(this.space,n-a)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-a,this.offset()-a)),this.isNested=!1,a};I.Builder.prototype.finish=function(a,t,o){var e=o?I.SIZE_PREFIX_LENGTH:0;if(t){var r=t;if(this.prep(this.minalign,I.SIZEOF_INT+I.FILE_IDENTIFIER_LENGTH+e),r.length!=I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+I.FILE_IDENTIFIER_LENGTH);for(var n=I.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(r.charCodeAt(n))}this.prep(this.minalign,I.SIZEOF_INT+e),this.addOffset(a),e&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};I.Builder.prototype.finishSizePrefixed=function(a,t){this.finish(a,t,!0)};I.Builder.prototype.requiredField=function(a,t){var o=this.bb.capacity()-a,e=o-this.bb.readInt32(o),r=this.bb.readInt16(e+t)!=0;if(!r)throw new Error("FlatBuffers: field "+t+" must be set")};I.Builder.prototype.startVector=function(a,t,o){this.notNested(),this.vector_num_elems=t,this.prep(I.SIZEOF_INT,a*t),this.prep(o,a*t)};I.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};I.Builder.prototype.createString=function(a){if(a instanceof Uint8Array)var t=a;else for(var t=[],o=0;o<a.length;){var e,r=a.charCodeAt(o++);if(r<55296||r>=56320)e=r;else{var n=a.charCodeAt(o++);e=(r<<10)+n+(65536-56623104-56320)}e<128?t.push(e):(e<2048?t.push(e>>6&31|192):(e<65536?t.push(e>>12&15|224):t.push(e>>18&7|240,e>>12&63|128),t.push(e>>6&63|128)),t.push(e&63|128))}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var o=0,s=this.space,i=this.bb.bytes();o<t.length;o++)i[s++]=t[o];return this.endVector()};I.Builder.prototype.createLong=function(a,t){return I.Long.create(a,t)};I.ByteBuffer=function(a){this.bytes_=a,this.position_=0};I.ByteBuffer.allocate=function(a){return new I.ByteBuffer(new Uint8Array(a))};I.ByteBuffer.prototype.clear=function(){this.position_=0};I.ByteBuffer.prototype.bytes=function(){return this.bytes_};I.ByteBuffer.prototype.position=function(){return this.position_};I.ByteBuffer.prototype.setPosition=function(a){this.position_=a};I.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};I.ByteBuffer.prototype.readInt8=function(a){return this.readUint8(a)<<24>>24};I.ByteBuffer.prototype.readUint8=function(a){return this.bytes_[a]};I.ByteBuffer.prototype.readInt16=function(a){return this.readUint16(a)<<16>>16};I.ByteBuffer.prototype.readUint16=function(a){return this.bytes_[a]|this.bytes_[a+1]<<8};I.ByteBuffer.prototype.readInt32=function(a){return this.bytes_[a]|this.bytes_[a+1]<<8|this.bytes_[a+2]<<16|this.bytes_[a+3]<<24};I.ByteBuffer.prototype.readUint32=function(a){return this.readInt32(a)>>>0};I.ByteBuffer.prototype.readInt64=function(a){return new I.Long(this.readInt32(a),this.readInt32(a+4))};I.ByteBuffer.prototype.readUint64=function(a){return new I.Long(this.readUint32(a),this.readUint32(a+4))};I.ByteBuffer.prototype.readFloat32=function(a){return I.int32[0]=this.readInt32(a),I.float32[0]};I.ByteBuffer.prototype.readFloat64=function(a){return I.int32[I.isLittleEndian?0:1]=this.readInt32(a),I.int32[I.isLittleEndian?1:0]=this.readInt32(a+4),I.float64[0]};I.ByteBuffer.prototype.writeInt8=function(a,t){this.bytes_[a]=t};I.ByteBuffer.prototype.writeUint8=function(a,t){this.bytes_[a]=t};I.ByteBuffer.prototype.writeInt16=function(a,t){this.bytes_[a]=t,this.bytes_[a+1]=t>>8};I.ByteBuffer.prototype.writeUint16=function(a,t){this.bytes_[a]=t,this.bytes_[a+1]=t>>8};I.ByteBuffer.prototype.writeInt32=function(a,t){this.bytes_[a]=t,this.bytes_[a+1]=t>>8,this.bytes_[a+2]=t>>16,this.bytes_[a+3]=t>>24};I.ByteBuffer.prototype.writeUint32=function(a,t){this.bytes_[a]=t,this.bytes_[a+1]=t>>8,this.bytes_[a+2]=t>>16,this.bytes_[a+3]=t>>24};I.ByteBuffer.prototype.writeInt64=function(a,t){this.writeInt32(a,t.low),this.writeInt32(a+4,t.high)};I.ByteBuffer.prototype.writeUint64=function(a,t){this.writeUint32(a,t.low),this.writeUint32(a+4,t.high)};I.ByteBuffer.prototype.writeFloat32=function(a,t){I.float32[0]=t,this.writeInt32(a,I.int32[0])};I.ByteBuffer.prototype.writeFloat64=function(a,t){I.float64[0]=t,this.writeInt32(a,I.int32[I.isLittleEndian?0:1]),this.writeInt32(a+4,I.int32[I.isLittleEndian?1:0])};I.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+I.SIZEOF_INT+I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var a="",t=0;t<I.FILE_IDENTIFIER_LENGTH;t++)a+=String.fromCharCode(this.readInt8(this.position_+I.SIZEOF_INT+t));return a};I.ByteBuffer.prototype.__offset=function(a,t){var o=a-this.readInt32(a);return t<this.readInt16(o)?this.readInt16(o+t):0};I.ByteBuffer.prototype.__union=function(a,t){return a.bb_pos=t+this.readInt32(t),a.bb=this,a};I.ByteBuffer.prototype.__string=function(a,t){a+=this.readInt32(a);var o=this.readInt32(a),e="",r=0;if(a+=I.SIZEOF_INT,t===I.Encoding.UTF8_BYTES)return this.bytes_.subarray(a,a+o);for(;r<o;){var n,s=this.readUint8(a+r++);if(s<192)n=s;else{var i=this.readUint8(a+r++);if(s<224)n=(s&31)<<6|i&63;else{var u=this.readUint8(a+r++);if(s<240)n=(s&15)<<12|(i&63)<<6|u&63;else{var l=this.readUint8(a+r++);n=(s&7)<<18|(i&63)<<12|(u&63)<<6|l&63}}}n<65536?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1024-1)+56320))}return e};I.ByteBuffer.prototype.__indirect=function(a){return a+this.readInt32(a)};I.ByteBuffer.prototype.__vector=function(a){return a+this.readInt32(a)+I.SIZEOF_INT};I.ByteBuffer.prototype.__vector_len=function(a){return this.readInt32(a+this.readInt32(a))};I.ByteBuffer.prototype.__has_identifier=function(a){if(a.length!=I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+I.FILE_IDENTIFIER_LENGTH);for(var t=0;t<I.FILE_IDENTIFIER_LENGTH;t++)if(a.charCodeAt(t)!=this.readInt8(this.position_+I.SIZEOF_INT+t))return!1;return!0};I.ByteBuffer.prototype.createLong=function(a,t){return I.Long.create(a,t)}});var H,un=L(()=>{"use strict";Jn();(t=>{let a;(e=>{let o;(n=>{let r;(N=>(N[N.UNDEFINED=0]="UNDEFINED",N[N.FLOAT=1]="FLOAT",N[N.INT=2]="INT",N[N.STRING=3]="STRING",N[N.TENSOR=4]="TENSOR",N[N.GRAPH=5]="GRAPH",N[N.FLOATS=6]="FLOATS",N[N.INTS=7]="INTS",N[N.STRINGS=8]="STRINGS",N[N.TENSORS=9]="TENSORS",N[N.GRAPHS=10]="GRAPHS",N[N.SPARSE_TENSOR=11]="SPARSE_TENSOR",N[N.SPARSE_TENSORS=12]="SPARSE_TENSORS"))(r=n.AttributeType||={})})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{let r;(l=>(l[l.UNKNOWN=0]="UNKNOWN",l[l.VALUE=1]="VALUE",l[l.PARAM=2]="PARAM"))(r=n.DimensionValueType||={})})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{let r;(V=>(V[V.UNDEFINED=0]="UNDEFINED",V[V.FLOAT=1]="FLOAT",V[V.UINT8=2]="UINT8",V[V.INT8=3]="INT8",V[V.UINT16=4]="UINT16",V[V.INT16=5]="INT16",V[V.INT32=6]="INT32",V[V.INT64=7]="INT64",V[V.STRING=8]="STRING",V[V.BOOL=9]="BOOL",V[V.FLOAT16=10]="FLOAT16",V[V.DOUBLE=11]="DOUBLE",V[V.UINT32=12]="UINT32",V[V.UINT64=13]="UINT64",V[V.COMPLEX64=14]="COMPLEX64",V[V.COMPLEX128=15]="COMPLEX128",V[V.BFLOAT16=16]="BFLOAT16",V[V.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",V[V.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",V[V.FLOAT8E5M2=19]="FLOAT8E5M2",V[V.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"))(r=n.TensorDataType||={})})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{let r;(u=>(u[u.Primitive=0]="Primitive",u[u.Fused=1]="Fused"))(r=n.NodeType||={})})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{let r;(c=>(c[c.NONE=0]="NONE",c[c.tensor_type=1]="tensor_type",c[c.sequence_type=2]="sequence_type",c[c.map_type=3]="map_type"))(r=n.TypeInfoValue||={})})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsShape(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsShape(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}dim(i,u){let l=this.bb.__offset(this.bb_pos,4);return l?(u||new t.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}dimLength(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__vector_len(this.bb_pos+i):0}static startShape(i){i.startObject(1)}static addDim(i,u){i.addFieldOffset(0,u,0)}static createDimVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startDimVector(i,u){i.startVector(4,u,4)}static endShape(i){return i.endObject()}static createShape(i,u){return r.startShape(i),r.addDim(i,u),r.endShape(i)}}n.Shape=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsDimension(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsDimension(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}value(i){let u=this.bb.__offset(this.bb_pos,4);return u?(i||new t.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}denotation(i){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,i):null}static startDimension(i){i.startObject(2)}static addValue(i,u){i.addFieldOffset(0,u,0)}static addDenotation(i,u){i.addFieldOffset(1,u,0)}static endDimension(i){return i.endObject()}static createDimension(i,u,l){return r.startDimension(i),r.addValue(i,u),r.addDenotation(i,l),r.endDimension(i)}}n.Dimension=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsDimensionValue(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsDimensionValue(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}dimType(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt8(this.bb_pos+i):0}dimValue(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt64(this.bb_pos+i):this.bb.createLong(0,0)}dimParam(i){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,i):null}static startDimensionValue(i){i.startObject(3)}static addDimType(i,u){i.addFieldInt8(0,u,0)}static addDimValue(i,u){i.addFieldInt64(1,u,i.createLong(0,0))}static addDimParam(i,u){i.addFieldOffset(2,u,0)}static endDimensionValue(i){return i.endObject()}static createDimensionValue(i,u,l,c){return r.startDimensionValue(i),r.addDimType(i,u),r.addDimValue(i,l),r.addDimParam(i,c),r.endDimensionValue(i)}}n.DimensionValue=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsTensorTypeAndShape(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsTensorTypeAndShape(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}elemType(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt32(this.bb_pos+i):0}shape(i){let u=this.bb.__offset(this.bb_pos,6);return u?(i||new t.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startTensorTypeAndShape(i){i.startObject(2)}static addElemType(i,u){i.addFieldInt32(0,u,0)}static addShape(i,u){i.addFieldOffset(1,u,0)}static endTensorTypeAndShape(i){return i.endObject()}static createTensorTypeAndShape(i,u,l){return r.startTensorTypeAndShape(i),r.addElemType(i,u),r.addShape(i,l),r.endTensorTypeAndShape(i)}}n.TensorTypeAndShape=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsMapType(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsMapType(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}keyType(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt32(this.bb_pos+i):0}valueType(i){let u=this.bb.__offset(this.bb_pos,6);return u?(i||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startMapType(i){i.startObject(2)}static addKeyType(i,u){i.addFieldInt32(0,u,0)}static addValueType(i,u){i.addFieldOffset(1,u,0)}static endMapType(i){return i.endObject()}static createMapType(i,u,l){return r.startMapType(i),r.addKeyType(i,u),r.addValueType(i,l),r.endMapType(i)}}n.MapType=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsSequenceType(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsSequenceType(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}elemType(i){let u=this.bb.__offset(this.bb_pos,4);return u?(i||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSequenceType(i){i.startObject(1)}static addElemType(i,u){i.addFieldOffset(0,u,0)}static endSequenceType(i){return i.endObject()}static createSequenceType(i,u){return r.startSequenceType(i),r.addElemType(i,u),r.endSequenceType(i)}}n.SequenceType=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(i,u,l,c){return i.prep(4,12),i.writeInt32(c),i.writeInt32(l),i.writeInt32(u),i.offset()}}n.EdgeEnd=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsNodeEdge(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsNodeEdge(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}nodeIndex(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readUint32(this.bb_pos+i):0}inputEdges(i,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+l)+i*12,this.bb):null}inputEdgesLength(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__vector_len(this.bb_pos+i):0}outputEdges(i,u){let l=this.bb.__offset(this.bb_pos,8);return l?(u||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+l)+i*12,this.bb):null}outputEdgesLength(){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__vector_len(this.bb_pos+i):0}static startNodeEdge(i){i.startObject(3)}static addNodeIndex(i,u){i.addFieldInt32(0,u,0)}static addInputEdges(i,u){i.addFieldOffset(1,u,0)}static startInputEdgesVector(i,u){i.startVector(12,u,4)}static addOutputEdges(i,u){i.addFieldOffset(2,u,0)}static startOutputEdgesVector(i,u){i.startVector(12,u,4)}static endNodeEdge(i){return i.endObject()}static createNodeEdge(i,u,l,c){return r.startNodeEdge(i),r.addNodeIndex(i,u),r.addInputEdges(i,l),r.addOutputEdges(i,c),r.endNodeEdge(i)}}n.NodeEdge=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsNode(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsNode(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}name(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}docString(i){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,i):null}domain(i){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,i):null}sinceVersion(){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readInt32(this.bb_pos+i):0}index(){let i=this.bb.__offset(this.bb_pos,12);return i?this.bb.readUint32(this.bb_pos+i):0}opType(i){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,i):null}type(){let i=this.bb.__offset(this.bb_pos,16);return i?this.bb.readInt32(this.bb_pos+i):0}executionProviderType(i){let u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,i):null}inputs(i,u){let l=this.bb.__offset(this.bb_pos,20);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+i*4,u):null}inputsLength(){let i=this.bb.__offset(this.bb_pos,20);return i?this.bb.__vector_len(this.bb_pos+i):0}outputs(i,u){let l=this.bb.__offset(this.bb_pos,22);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+i*4,u):null}outputsLength(){let i=this.bb.__offset(this.bb_pos,22);return i?this.bb.__vector_len(this.bb_pos+i):0}attributes(i,u){let l=this.bb.__offset(this.bb_pos,24);return l?(u||new t.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}attributesLength(){let i=this.bb.__offset(this.bb_pos,24);return i?this.bb.__vector_len(this.bb_pos+i):0}inputArgCounts(i){let u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt32(this.bb.__vector(this.bb_pos+u)+i*4):0}inputArgCountsLength(){let i=this.bb.__offset(this.bb_pos,26);return i?this.bb.__vector_len(this.bb_pos+i):0}inputArgCountsArray(){let i=this.bb.__offset(this.bb_pos,26);return i?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+i),this.bb.__vector_len(this.bb_pos+i)):null}implicitInputs(i,u){let l=this.bb.__offset(this.bb_pos,28);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+i*4,u):null}implicitInputsLength(){let i=this.bb.__offset(this.bb_pos,28);return i?this.bb.__vector_len(this.bb_pos+i):0}static startNode(i){i.startObject(13)}static addName(i,u){i.addFieldOffset(0,u,0)}static addDocString(i,u){i.addFieldOffset(1,u,0)}static addDomain(i,u){i.addFieldOffset(2,u,0)}static addSinceVersion(i,u){i.addFieldInt32(3,u,0)}static addIndex(i,u){i.addFieldInt32(4,u,0)}static addOpType(i,u){i.addFieldOffset(5,u,0)}static addType(i,u){i.addFieldInt32(6,u,0)}static addExecutionProviderType(i,u){i.addFieldOffset(7,u,0)}static addInputs(i,u){i.addFieldOffset(8,u,0)}static createInputsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startInputsVector(i,u){i.startVector(4,u,4)}static addOutputs(i,u){i.addFieldOffset(9,u,0)}static createOutputsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startOutputsVector(i,u){i.startVector(4,u,4)}static addAttributes(i,u){i.addFieldOffset(10,u,0)}static createAttributesVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startAttributesVector(i,u){i.startVector(4,u,4)}static addInputArgCounts(i,u){i.addFieldOffset(11,u,0)}static createInputArgCountsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addInt32(u[l]);return i.endVector()}static startInputArgCountsVector(i,u){i.startVector(4,u,4)}static addImplicitInputs(i,u){i.addFieldOffset(12,u,0)}static createImplicitInputsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startImplicitInputsVector(i,u){i.startVector(4,u,4)}static endNode(i){return i.endObject()}static createNode(i,u,l,c,d,b,x,v,_,S,E,C,N,J){return r.startNode(i),r.addName(i,u),r.addDocString(i,l),r.addDomain(i,c),r.addSinceVersion(i,d),r.addIndex(i,b),r.addOpType(i,x),r.addType(i,v),r.addExecutionProviderType(i,_),r.addInputs(i,S),r.addOutputs(i,E),r.addAttributes(i,C),r.addInputArgCounts(i,N),r.addImplicitInputs(i,J),r.endNode(i)}}n.Node=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsValueInfo(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsValueInfo(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}name(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}docString(i){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,i):null}type(i){let u=this.bb.__offset(this.bb_pos,8);return u?(i||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startValueInfo(i){i.startObject(3)}static addName(i,u){i.addFieldOffset(0,u,0)}static addDocString(i,u){i.addFieldOffset(1,u,0)}static addType(i,u){i.addFieldOffset(2,u,0)}static endValueInfo(i){return i.endObject()}static createValueInfo(i,u,l,c){return r.startValueInfo(i),r.addName(i,u),r.addDocString(i,l),r.addType(i,c),r.endValueInfo(i)}}n.ValueInfo=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsTypeInfo(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsTypeInfo(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}denotation(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}valueType(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readUint8(this.bb_pos+i):0}value(i){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__union(i,this.bb_pos+u):null}static startTypeInfo(i){i.startObject(3)}static addDenotation(i,u){i.addFieldOffset(0,u,0)}static addValueType(i,u){i.addFieldInt8(1,u,0)}static addValue(i,u){i.addFieldOffset(2,u,0)}static endTypeInfo(i){return i.endObject()}static createTypeInfo(i,u,l,c){return r.startTypeInfo(i),r.addDenotation(i,u),r.addValueType(i,l),r.addValue(i,c),r.endTypeInfo(i)}}n.TypeInfo=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsOperatorSetId(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsOperatorSetId(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}domain(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}version(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt64(this.bb_pos+i):this.bb.createLong(0,0)}static startOperatorSetId(i){i.startObject(2)}static addDomain(i,u){i.addFieldOffset(0,u,0)}static addVersion(i,u){i.addFieldInt64(1,u,i.createLong(0,0))}static endOperatorSetId(i){return i.endObject()}static createOperatorSetId(i,u,l){return r.startOperatorSetId(i),r.addDomain(i,u),r.addVersion(i,l),r.endOperatorSetId(i)}}n.OperatorSetId=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsTensor(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsTensor(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}name(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}docString(i){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,i):null}dims(i){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+i*8):this.bb.createLong(0,0)}dimsLength(){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__vector_len(this.bb_pos+i):0}dataType(){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readInt32(this.bb_pos+i):0}rawData(i){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.readUint8(this.bb.__vector(this.bb_pos+u)+i):0}rawDataLength(){let i=this.bb.__offset(this.bb_pos,12);return i?this.bb.__vector_len(this.bb_pos+i):0}rawDataArray(){let i=this.bb.__offset(this.bb_pos,12);return i?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+i),this.bb.__vector_len(this.bb_pos+i)):null}stringData(i,u){let l=this.bb.__offset(this.bb_pos,14);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+i*4,u):null}stringDataLength(){let i=this.bb.__offset(this.bb_pos,14);return i?this.bb.__vector_len(this.bb_pos+i):0}static startTensor(i){i.startObject(6)}static addName(i,u){i.addFieldOffset(0,u,0)}static addDocString(i,u){i.addFieldOffset(1,u,0)}static addDims(i,u){i.addFieldOffset(2,u,0)}static createDimsVector(i,u){i.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)i.addInt64(u[l]);return i.endVector()}static startDimsVector(i,u){i.startVector(8,u,8)}static addDataType(i,u){i.addFieldInt32(3,u,0)}static addRawData(i,u){i.addFieldOffset(4,u,0)}static createRawDataVector(i,u){i.startVector(1,u.length,1);for(let l=u.length-1;l>=0;l--)i.addInt8(u[l]);return i.endVector()}static startRawDataVector(i,u){i.startVector(1,u,1)}static addStringData(i,u){i.addFieldOffset(5,u,0)}static createStringDataVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startStringDataVector(i,u){i.startVector(4,u,4)}static endTensor(i){return i.endObject()}static createTensor(i,u,l,c,d,b,x){return r.startTensor(i),r.addName(i,u),r.addDocString(i,l),r.addDims(i,c),r.addDataType(i,d),r.addRawData(i,b),r.addStringData(i,x),r.endTensor(i)}}n.Tensor=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsSparseTensor(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsSparseTensor(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}values(i){let u=this.bb.__offset(this.bb_pos,4);return u?(i||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}indices(i){let u=this.bb.__offset(this.bb_pos,6);return u?(i||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}dims(i){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+i*8):this.bb.createLong(0,0)}dimsLength(){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__vector_len(this.bb_pos+i):0}static startSparseTensor(i){i.startObject(3)}static addValues(i,u){i.addFieldOffset(0,u,0)}static addIndices(i,u){i.addFieldOffset(1,u,0)}static addDims(i,u){i.addFieldOffset(2,u,0)}static createDimsVector(i,u){i.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)i.addInt64(u[l]);return i.endVector()}static startDimsVector(i,u){i.startVector(8,u,8)}static endSparseTensor(i){return i.endObject()}static createSparseTensor(i,u,l,c){return r.startSparseTensor(i),r.addValues(i,u),r.addIndices(i,l),r.addDims(i,c),r.endSparseTensor(i)}}n.SparseTensor=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsAttribute(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsAttribute(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}name(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}docString(i){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,i):null}type(){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.readInt32(this.bb_pos+i):0}f(){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readFloat32(this.bb_pos+i):0}i(){let i=this.bb.__offset(this.bb_pos,12);return i?this.bb.readInt64(this.bb_pos+i):this.bb.createLong(0,0)}s(i){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,i):null}t(i){let u=this.bb.__offset(this.bb_pos,16);return u?(i||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}g(i){let u=this.bb.__offset(this.bb_pos,18);return u?(i||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}floats(i){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readFloat32(this.bb.__vector(this.bb_pos+u)+i*4):0}floatsLength(){let i=this.bb.__offset(this.bb_pos,20);return i?this.bb.__vector_len(this.bb_pos+i):0}floatsArray(){let i=this.bb.__offset(this.bb_pos,20);return i?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+i),this.bb.__vector_len(this.bb_pos+i)):null}ints(i){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+i*8):this.bb.createLong(0,0)}intsLength(){let i=this.bb.__offset(this.bb_pos,22);return i?this.bb.__vector_len(this.bb_pos+i):0}strings(i,u){let l=this.bb.__offset(this.bb_pos,24);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+i*4,u):null}stringsLength(){let i=this.bb.__offset(this.bb_pos,24);return i?this.bb.__vector_len(this.bb_pos+i):0}tensors(i,u){let l=this.bb.__offset(this.bb_pos,26);return l?(u||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}tensorsLength(){let i=this.bb.__offset(this.bb_pos,26);return i?this.bb.__vector_len(this.bb_pos+i):0}graphs(i,u){let l=this.bb.__offset(this.bb_pos,28);return l?(u||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}graphsLength(){let i=this.bb.__offset(this.bb_pos,28);return i?this.bb.__vector_len(this.bb_pos+i):0}static startAttribute(i){i.startObject(13)}static addName(i,u){i.addFieldOffset(0,u,0)}static addDocString(i,u){i.addFieldOffset(1,u,0)}static addType(i,u){i.addFieldInt32(2,u,0)}static addF(i,u){i.addFieldFloat32(3,u,0)}static addI(i,u){i.addFieldInt64(4,u,i.createLong(0,0))}static addS(i,u){i.addFieldOffset(5,u,0)}static addT(i,u){i.addFieldOffset(6,u,0)}static addG(i,u){i.addFieldOffset(7,u,0)}static addFloats(i,u){i.addFieldOffset(8,u,0)}static createFloatsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addFloat32(u[l]);return i.endVector()}static startFloatsVector(i,u){i.startVector(4,u,4)}static addInts(i,u){i.addFieldOffset(9,u,0)}static createIntsVector(i,u){i.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)i.addInt64(u[l]);return i.endVector()}static startIntsVector(i,u){i.startVector(8,u,8)}static addStrings(i,u){i.addFieldOffset(10,u,0)}static createStringsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startStringsVector(i,u){i.startVector(4,u,4)}static addTensors(i,u){i.addFieldOffset(11,u,0)}static createTensorsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startTensorsVector(i,u){i.startVector(4,u,4)}static addGraphs(i,u){i.addFieldOffset(12,u,0)}static createGraphsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startGraphsVector(i,u){i.startVector(4,u,4)}static endAttribute(i){return i.endObject()}static createAttribute(i,u,l,c,d,b,x,v,_,S,E,C,N,J){return r.startAttribute(i),r.addName(i,u),r.addDocString(i,l),r.addType(i,c),r.addF(i,d),r.addI(i,b),r.addS(i,x),r.addT(i,v),r.addG(i,_),r.addFloats(i,S),r.addInts(i,E),r.addStrings(i,C),r.addTensors(i,N),r.addGraphs(i,J),r.endAttribute(i)}}n.Attribute=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsGraph(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsGraph(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}initializers(i,u){let l=this.bb.__offset(this.bb_pos,4);return l?(u||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}initializersLength(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__vector_len(this.bb_pos+i):0}nodeArgs(i,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}nodeArgsLength(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__vector_len(this.bb_pos+i):0}nodes(i,u){let l=this.bb.__offset(this.bb_pos,8);return l?(u||new t.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}nodesLength(){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__vector_len(this.bb_pos+i):0}maxNodeIndex(){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readUint32(this.bb_pos+i):0}nodeEdges(i,u){let l=this.bb.__offset(this.bb_pos,12);return l?(u||new t.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}nodeEdgesLength(){let i=this.bb.__offset(this.bb_pos,12);return i?this.bb.__vector_len(this.bb_pos+i):0}inputs(i,u){let l=this.bb.__offset(this.bb_pos,14);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+i*4,u):null}inputsLength(){let i=this.bb.__offset(this.bb_pos,14);return i?this.bb.__vector_len(this.bb_pos+i):0}outputs(i,u){let l=this.bb.__offset(this.bb_pos,16);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+i*4,u):null}outputsLength(){let i=this.bb.__offset(this.bb_pos,16);return i?this.bb.__vector_len(this.bb_pos+i):0}sparseInitializers(i,u){let l=this.bb.__offset(this.bb_pos,18);return l?(u||new t.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}sparseInitializersLength(){let i=this.bb.__offset(this.bb_pos,18);return i?this.bb.__vector_len(this.bb_pos+i):0}static startGraph(i){i.startObject(8)}static addInitializers(i,u){i.addFieldOffset(0,u,0)}static createInitializersVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startInitializersVector(i,u){i.startVector(4,u,4)}static addNodeArgs(i,u){i.addFieldOffset(1,u,0)}static createNodeArgsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startNodeArgsVector(i,u){i.startVector(4,u,4)}static addNodes(i,u){i.addFieldOffset(2,u,0)}static createNodesVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startNodesVector(i,u){i.startVector(4,u,4)}static addMaxNodeIndex(i,u){i.addFieldInt32(3,u,0)}static addNodeEdges(i,u){i.addFieldOffset(4,u,0)}static createNodeEdgesVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startNodeEdgesVector(i,u){i.startVector(4,u,4)}static addInputs(i,u){i.addFieldOffset(5,u,0)}static createInputsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startInputsVector(i,u){i.startVector(4,u,4)}static addOutputs(i,u){i.addFieldOffset(6,u,0)}static createOutputsVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startOutputsVector(i,u){i.startVector(4,u,4)}static addSparseInitializers(i,u){i.addFieldOffset(7,u,0)}static createSparseInitializersVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startSparseInitializersVector(i,u){i.startVector(4,u,4)}static endGraph(i){return i.endObject()}static createGraph(i,u,l,c,d,b,x,v,_){return r.startGraph(i),r.addInitializers(i,u),r.addNodeArgs(i,l),r.addNodes(i,c),r.addMaxNodeIndex(i,d),r.addNodeEdges(i,b),r.addInputs(i,x),r.addOutputs(i,v),r.addSparseInitializers(i,_),r.endGraph(i)}}n.Graph=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsModel(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsModel(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}irVersion(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.readInt64(this.bb_pos+i):this.bb.createLong(0,0)}opsetImport(i,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}opsetImportLength(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__vector_len(this.bb_pos+i):0}producerName(i){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,i):null}producerVersion(i){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__string(this.bb_pos+u,i):null}domain(i){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__string(this.bb_pos+u,i):null}modelVersion(){let i=this.bb.__offset(this.bb_pos,14);return i?this.bb.readInt64(this.bb_pos+i):this.bb.createLong(0,0)}docString(i){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.__string(this.bb_pos+u,i):null}graph(i){let u=this.bb.__offset(this.bb_pos,18);return u?(i||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}graphDocString(i){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,i):null}static startModel(i){i.startObject(9)}static addIrVersion(i,u){i.addFieldInt64(0,u,i.createLong(0,0))}static addOpsetImport(i,u){i.addFieldOffset(1,u,0)}static createOpsetImportVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startOpsetImportVector(i,u){i.startVector(4,u,4)}static addProducerName(i,u){i.addFieldOffset(2,u,0)}static addProducerVersion(i,u){i.addFieldOffset(3,u,0)}static addDomain(i,u){i.addFieldOffset(4,u,0)}static addModelVersion(i,u){i.addFieldInt64(5,u,i.createLong(0,0))}static addDocString(i,u){i.addFieldOffset(6,u,0)}static addGraph(i,u){i.addFieldOffset(7,u,0)}static addGraphDocString(i,u){i.addFieldOffset(8,u,0)}static endModel(i){return i.endObject()}static createModel(i,u,l,c,d,b,x,v,_,S){return r.startModel(i),r.addIrVersion(i,u),r.addOpsetImport(i,l),r.addProducerName(i,c),r.addProducerVersion(i,d),r.addDomain(i,b),r.addModelVersion(i,x),r.addDocString(i,v),r.addGraph(i,_),r.addGraphDocString(i,S),r.endModel(i)}}n.Model=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsKernelCreateInfos(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsKernelCreateInfos(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}nodeIndices(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint32(this.bb.__vector(this.bb_pos+u)+i*4):0}nodeIndicesLength(){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__vector_len(this.bb_pos+i):0}nodeIndicesArray(){let i=this.bb.__offset(this.bb_pos,4);return i?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+i),this.bb.__vector_len(this.bb_pos+i)):null}kernelDefHashes(i){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint64(this.bb.__vector(this.bb_pos+u)+i*8):this.bb.createLong(0,0)}kernelDefHashesLength(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__vector_len(this.bb_pos+i):0}static startKernelCreateInfos(i){i.startObject(2)}static addNodeIndices(i,u){i.addFieldOffset(0,u,0)}static createNodeIndicesVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addInt32(u[l]);return i.endVector()}static startNodeIndicesVector(i,u){i.startVector(4,u,4)}static addKernelDefHashes(i,u){i.addFieldOffset(1,u,0)}static createKernelDefHashesVector(i,u){i.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)i.addInt64(u[l]);return i.endVector()}static startKernelDefHashesVector(i,u){i.startVector(8,u,8)}static endKernelCreateInfos(i){return i.endObject()}static createKernelCreateInfos(i,u,l){return r.startKernelCreateInfos(i),r.addNodeIndices(i,u),r.addKernelDefHashes(i,l),r.endKernelCreateInfos(i)}}n.KernelCreateInfos=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsSubGraphSessionState(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsSubGraphSessionState(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}graphId(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}sessionState(i){let u=this.bb.__offset(this.bb_pos,6);return u?(i||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSubGraphSessionState(i){i.startObject(2)}static addGraphId(i,u){i.addFieldOffset(0,u,0)}static addSessionState(i,u){i.addFieldOffset(1,u,0)}static endSubGraphSessionState(i){let u=i.endObject();return i.requiredField(u,4),u}static createSubGraphSessionState(i,u,l){return r.startSubGraphSessionState(i),r.addGraphId(i,u),r.addSessionState(i,l),r.endSubGraphSessionState(i)}}n.SubGraphSessionState=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsSessionState(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsSessionState(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}kernels(i){let u=this.bb.__offset(this.bb_pos,4);return u?(i||new t.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}subGraphSessionStates(i,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+i*4),this.bb):null}subGraphSessionStatesLength(){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__vector_len(this.bb_pos+i):0}static startSessionState(i){i.startObject(2)}static addKernels(i,u){i.addFieldOffset(0,u,0)}static addSubGraphSessionStates(i,u){i.addFieldOffset(1,u,0)}static createSubGraphSessionStatesVector(i,u){i.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)i.addOffset(u[l]);return i.endVector()}static startSubGraphSessionStatesVector(i,u){i.startVector(4,u,4)}static endSessionState(i){return i.endObject()}static createSessionState(i,u,l){return r.startSessionState(i),r.addKernels(i,u),r.addSubGraphSessionStates(i,l),r.endSessionState(i)}}n.SessionState=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={});(t=>{let a;(e=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(i,u){return this.bb_pos=i,this.bb=u,this}static getRootAsInferenceSession(i,u){return(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static getSizePrefixedRootAsInferenceSession(i,u){return i.setPosition(i.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(i.readInt32(i.position())+i.position(),i)}static bufferHasIdentifier(i){return i.__has_identifier("ORTM")}ortVersion(i){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,i):null}model(i){let u=this.bb.__offset(this.bb_pos,6);return u?(i||new t.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}sessionState(i){let u=this.bb.__offset(this.bb_pos,8);return u?(i||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startInferenceSession(i){i.startObject(3)}static addOrtVersion(i,u){i.addFieldOffset(0,u,0)}static addModel(i,u){i.addFieldOffset(1,u,0)}static addSessionState(i,u){i.addFieldOffset(2,u,0)}static endInferenceSession(i){return i.endObject()}static finishInferenceSessionBuffer(i,u){i.finish(u,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(i,u){i.finish(u,"ORTM",!0)}static createInferenceSession(i,u,l,c){return r.startInferenceSession(i),r.addOrtVersion(i,u),r.addModel(i,l),r.addSessionState(i,c),r.endInferenceSession(i)}}n.InferenceSession=r})(o=e.fbs||={})})(a=t.experimental||={})})(H||={})});var Ws=ye((Fy,zs)=>{"use strict";zs.exports=qd;function qd(a,t){for(var o=new Array(arguments.length-1),e=0,r=2,n=!0;r<arguments.length;)o[e++]=arguments[r++];return new Promise(function(i,u){o[e]=function(c){if(n)if(n=!1,c)u(c);else{for(var d=new Array(arguments.length-1),b=0;b<d.length;)d[b++]=arguments[b];i.apply(null,d)}};try{a.apply(t||null,o)}catch(l){n&&(n=!1,u(l))}})}});var qs=ye(js=>{"use strict";var Zn=js;Zn.length=function(t){var o=t.length;if(!o)return 0;for(var e=0;--o%4>1&&t.charAt(o)==="=";)++e;return Math.ceil(t.length*3)/4-e};var Gr=new Array(64),Hs=new Array(123);for(Et=0;Et<64;)Hs[Gr[Et]=Et<26?Et+65:Et<52?Et+71:Et<62?Et-4:Et-59|43]=Et++;var Et;Zn.encode=function(t,o,e){for(var r=null,n=[],s=0,i=0,u;o<e;){var l=t[o++];switch(i){case 0:n[s++]=Gr[l>>2],u=(l&3)<<4,i=1;break;case 1:n[s++]=Gr[u|l>>4],u=(l&15)<<2,i=2;break;case 2:n[s++]=Gr[u|l>>6],n[s++]=Gr[l&63],i=0;break}s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,n)),s=0)}return i&&(n[s++]=Gr[u],n[s++]=61,i===1&&(n[s++]=61)),r?(s&&r.push(String.fromCharCode.apply(String,n.slice(0,s))),r.join("")):String.fromCharCode.apply(String,n.slice(0,s))};var Vs="invalid encoding";Zn.decode=function(t,o,e){for(var r=e,n=0,s,i=0;i<t.length;){var u=t.charCodeAt(i++);if(u===61&&n>1)break;if((u=Hs[u])===void 0)throw Error(Vs);switch(n){case 0:s=u,n=1;break;case 1:o[e++]=s<<2|(u&48)>>4,s=u,n=2;break;case 2:o[e++]=(s&15)<<4|(u&60)>>2,s=u,n=3;break;case 3:o[e++]=(s&3)<<6|u,n=0;break}}if(n===1)throw Error(Vs);return e-r};Zn.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var Xs=ye(($y,Ys)=>{"use strict";Ys.exports=Qn;function Qn(){this._listeners={}}Qn.prototype.on=function(t,o,e){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:o,ctx:e||this}),this};Qn.prototype.off=function(t,o){if(t===void 0)this._listeners={};else if(o===void 0)this._listeners[t]=[];else for(var e=this._listeners[t],r=0;r<e.length;)e[r].fn===o?e.splice(r,1):++r;return this};Qn.prototype.emit=function(t){var o=this._listeners[t];if(o){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);for(r=0;r<o.length;)o[r].fn.apply(o[r++].ctx,e)}return this}});var ru=ye((By,tu)=>{"use strict";tu.exports=Ks(Ks);function Ks(a){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),o=new Uint8Array(t.buffer),e=o[3]===128;function r(u,l,c){t[0]=u,l[c]=o[0],l[c+1]=o[1],l[c+2]=o[2],l[c+3]=o[3]}function n(u,l,c){t[0]=u,l[c]=o[3],l[c+1]=o[2],l[c+2]=o[1],l[c+3]=o[0]}a.writeFloatLE=e?r:n,a.writeFloatBE=e?n:r;function s(u,l){return o[0]=u[l],o[1]=u[l+1],o[2]=u[l+2],o[3]=u[l+3],t[0]}function i(u,l){return o[3]=u[l],o[2]=u[l+1],o[1]=u[l+2],o[0]=u[l+3],t[0]}a.readFloatLE=e?s:i,a.readFloatBE=e?i:s}():function(){function t(e,r,n,s){var i=r<0?1:0;if(i&&(r=-r),r===0)e(1/r>0?0:2147483648,n,s);else if(isNaN(r))e(2143289344,n,s);else if(r>34028234663852886e22)e((i<<31|2139095040)>>>0,n,s);else if(r<11754943508222875e-54)e((i<<31|Math.round(r/1401298464324817e-60))>>>0,n,s);else{var u=Math.floor(Math.log(r)/Math.LN2),l=Math.round(r*Math.pow(2,-u)*8388608)&8388607;e((i<<31|u+127<<23|l)>>>0,n,s)}}a.writeFloatLE=t.bind(null,Js),a.writeFloatBE=t.bind(null,Zs);function o(e,r,n){var s=e(r,n),i=(s>>31)*2+1,u=s>>>23&255,l=s&8388607;return u===255?l?NaN:i*(1/0):u===0?i*1401298464324817e-60*l:i*Math.pow(2,u-150)*(l+8388608)}a.readFloatLE=o.bind(null,Qs),a.readFloatBE=o.bind(null,eu)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),o=new Uint8Array(t.buffer),e=o[7]===128;function r(u,l,c){t[0]=u,l[c]=o[0],l[c+1]=o[1],l[c+2]=o[2],l[c+3]=o[3],l[c+4]=o[4],l[c+5]=o[5],l[c+6]=o[6],l[c+7]=o[7]}function n(u,l,c){t[0]=u,l[c]=o[7],l[c+1]=o[6],l[c+2]=o[5],l[c+3]=o[4],l[c+4]=o[3],l[c+5]=o[2],l[c+6]=o[1],l[c+7]=o[0]}a.writeDoubleLE=e?r:n,a.writeDoubleBE=e?n:r;function s(u,l){return o[0]=u[l],o[1]=u[l+1],o[2]=u[l+2],o[3]=u[l+3],o[4]=u[l+4],o[5]=u[l+5],o[6]=u[l+6],o[7]=u[l+7],t[0]}function i(u,l){return o[7]=u[l],o[6]=u[l+1],o[5]=u[l+2],o[4]=u[l+3],o[3]=u[l+4],o[2]=u[l+5],o[1]=u[l+6],o[0]=u[l+7],t[0]}a.readDoubleLE=e?s:i,a.readDoubleBE=e?i:s}():function(){function t(e,r,n,s,i,u){var l=s<0?1:0;if(l&&(s=-s),s===0)e(0,i,u+r),e(1/s>0?0:2147483648,i,u+n);else if(isNaN(s))e(0,i,u+r),e(2146959360,i,u+n);else if(s>17976931348623157e292)e(0,i,u+r),e((l<<31|2146435072)>>>0,i,u+n);else{var c;if(s<22250738585072014e-324)c=s/5e-324,e(c>>>0,i,u+r),e((l<<31|c/4294967296)>>>0,i,u+n);else{var d=Math.floor(Math.log(s)/Math.LN2);d===1024&&(d=1023),c=s*Math.pow(2,-d),e(c*4503599627370496>>>0,i,u+r),e((l<<31|d+1023<<20|c*1048576&1048575)>>>0,i,u+n)}}}a.writeDoubleLE=t.bind(null,Js,0,4),a.writeDoubleBE=t.bind(null,Zs,4,0);function o(e,r,n,s,i){var u=e(s,i+r),l=e(s,i+n),c=(l>>31)*2+1,d=l>>>20&2047,b=4294967296*(l&1048575)+u;return d===2047?b?NaN:c*(1/0):d===0?c*5e-324*b:c*Math.pow(2,d-1075)*(b+4503599627370496)}a.readDoubleLE=o.bind(null,Qs,0,4),a.readDoubleBE=o.bind(null,eu,4,0)}(),a}function Js(a,t,o){t[o]=a&255,t[o+1]=a>>>8&255,t[o+2]=a>>>16&255,t[o+3]=a>>>24}function Zs(a,t,o){t[o]=a>>>24,t[o+1]=a>>>16&255,t[o+2]=a>>>8&255,t[o+3]=a&255}function Qs(a,t){return(a[t]|a[t+1]<<8|a[t+2]<<16|a[t+3]<<24)>>>0}function eu(a,t){return(a[t]<<24|a[t+1]<<16|a[t+2]<<8|a[t+3])>>>0}});var nu=ye((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=undefined;if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}});var iu=ye(ou=>{"use strict";var si=ou;si.length=function(t){for(var o=0,e=0,r=0;r<t.length;++r)e=t.charCodeAt(r),e<128?o+=1:e<2048?o+=2:(e&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,o+=4):o+=3;return o};si.read=function(t,o,e){var r=e-o;if(r<1)return"";for(var n=null,s=[],i=0,u;o<e;)u=t[o++],u<128?s[i++]=u:u>191&&u<224?s[i++]=(u&31)<<6|t[o++]&63:u>239&&u<365?(u=((u&7)<<18|(t[o++]&63)<<12|(t[o++]&63)<<6|t[o++]&63)-65536,s[i++]=55296+(u>>10),s[i++]=56320+(u&1023)):s[i++]=(u&15)<<12|(t[o++]&63)<<6|t[o++]&63,i>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),i=0);return n?(i&&n.push(String.fromCharCode.apply(String,s.slice(0,i))),n.join("")):String.fromCharCode.apply(String,s.slice(0,i))};si.write=function(t,o,e){for(var r=e,n,s,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?o[e++]=n:n<2048?(o[e++]=n>>6|192,o[e++]=n&63|128):(n&64512)===55296&&((s=t.charCodeAt(i+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++i,o[e++]=n>>18|240,o[e++]=n>>12&63|128,o[e++]=n>>6&63|128,o[e++]=n&63|128):(o[e++]=n>>12|224,o[e++]=n>>6&63|128,o[e++]=n&63|128);return e-r}});var su=ye((Ny,au)=>{"use strict";au.exports=Yd;function Yd(a,t,o){var e=o||8192,r=e>>>1,n=null,s=e;return function(u){if(u<1||u>r)return a(u);s+u>e&&(n=a(e),s=0);var l=t.call(n,s,s+=u);return s&7&&(s=(s|7)+1),l}}});var lu=ye((Ry,uu)=>{"use strict";uu.exports=Re;var ln=tr();function Re(a,t){this.lo=a>>>0,this.hi=t>>>0}var yr=Re.zero=new Re(0,0);yr.toNumber=function(){return 0};yr.zzEncode=yr.zzDecode=function(){return this};yr.length=function(){return 1};var Xd=Re.zeroHash="\\0\\0\\0\\0\\0\\0\\0\\0";Re.fromNumber=function(t){if(t===0)return yr;var o=t<0;o&&(t=-t);var e=t>>>0,r=(t-e)/4294967296>>>0;return o&&(r=~r>>>0,e=~e>>>0,++e>4294967295&&(e=0,++r>4294967295&&(r=0))),new Re(e,r)};Re.from=function(t){if(typeof t=="number")return Re.fromNumber(t);if(ln.isString(t))if(ln.Long)t=ln.Long.fromString(t);else return Re.fromNumber(parseInt(t,10));return t.low||t.high?new Re(t.low>>>0,t.high>>>0):yr};Re.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var o=~this.lo+1>>>0,e=~this.hi>>>0;return o||(e=e+1>>>0),-(o+e*4294967296)}return this.lo+this.hi*4294967296};Re.prototype.toLong=function(t){return ln.Long?new ln.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var er=String.prototype.charCodeAt;Re.fromHash=function(t){return t===Xd?yr:new Re((er.call(t,0)|er.call(t,1)<<8|er.call(t,2)<<16|er.call(t,3)<<24)>>>0,(er.call(t,4)|er.call(t,5)<<8|er.call(t,6)<<16|er.call(t,7)<<24)>>>0)};Re.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Re.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Re.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Re.prototype.length=function(){var t=this.lo,o=(this.lo>>>28|this.hi<<4)>>>0,e=this.hi>>>24;return e===0?o===0?t<16384?t<128?1:2:t<2097152?3:4:o<16384?o<128?5:6:o<2097152?7:8:e<128?9:10}});var tr=ye(ui=>{"use strict";var j=ui;j.asPromise=Ws();j.base64=qs();j.EventEmitter=Xs();j.float=ru();j.inquire=nu();j.utf8=iu();j.pool=su();j.LongBits=lu();j.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);j.global=j.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||ui;j.emptyArray=Object.freeze?Object.freeze([]):[];j.emptyObject=Object.freeze?Object.freeze({}):{};j.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};j.isString=function(t){return typeof t=="string"||t instanceof String};j.isObject=function(t){return t&&typeof t=="object"};j.isset=j.isSet=function(t,o){var e=t[o];return e!=null&&t.hasOwnProperty(o)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1};j.Buffer=function(){try{var a=j.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}();j._Buffer_from=null;j._Buffer_allocUnsafe=null;j.newBuffer=function(t){return typeof t=="number"?j.Buffer?j._Buffer_allocUnsafe(t):new j.Array(t):j.Buffer?j._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};j.Array=typeof Uint8Array<"u"?Uint8Array:Array;j.Long=j.global.dcodeIO&&j.global.dcodeIO.Long||j.global.Long||j.inquire("long");j.key2Re=/^true|false|0|1$/;j.key32Re=/^-?(?:0|[1-9][0-9]*)$/;j.key64Re=/^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;j.longToHash=function(t){return t?j.LongBits.from(t).toHash():j.LongBits.zeroHash};j.longFromHash=function(t,o){var e=j.LongBits.fromHash(t);return j.Long?j.Long.fromBits(e.lo,e.hi,o):e.toNumber(!!o)};function fu(a,t,o){for(var e=Object.keys(t),r=0;r<e.length;++r)(a[e[r]]===void 0||!o)&&(a[e[r]]=t[e[r]]);return a}j.merge=fu;j.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function cu(a){function t(o,e){if(!(this instanceof t))return new t(o,e);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&fu(this,e)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}j.newError=cu;j.ProtocolError=cu("ProtocolError");j.oneOfGetter=function(t){for(var o={},e=0;e<t.length;++e)o[t[e]]=1;return function(){for(var r=Object.keys(this),n=r.length-1;n>-1;--n)if(o[r[n]]===1&&this[r[n]]!==void 0&&this[r[n]]!==null)return r[n]}};j.oneOfSetter=function(t){return function(o){for(var e=0;e<t.length;++e)t[e]!==o&&delete this[t[e]]}};j.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};j._configure=function(){var a=j.Buffer;if(!a){j._Buffer_from=j._Buffer_allocUnsafe=null;return}j._Buffer_from=a.from!==Uint8Array.from&&a.from||function(o,e){return new a(o,e)},j._Buffer_allocUnsafe=a.allocUnsafe||function(o){return new a(o)}}});var mi=ye((Gy,mu)=>{"use strict";mu.exports=se;var bt=tr(),li,eo=bt.LongBits,pu=bt.base64,du=bt.utf8;function fn(a,t,o){this.fn=a,this.len=t,this.next=void 0,this.val=o}function ci(){}function Kd(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function se(){this.len=0,this.head=new fn(ci,0,0),this.tail=this.head,this.states=null}var hu=function(){return bt.Buffer?function(){return(se.create=function(){return new li})()}:function(){return new se}};se.create=hu();se.alloc=function(t){return new bt.Array(t)};bt.Array!==Array&&(se.alloc=bt.pool(se.alloc,bt.Array.prototype.subarray));se.prototype._push=function(t,o,e){return this.tail=this.tail.next=new fn(t,o,e),this.len+=o,this};function pi(a,t,o){t[o]=a&255}function Jd(a,t,o){for(;a>127;)t[o++]=a&127|128,a>>>=7;t[o]=a}function di(a,t){this.len=a,this.next=void 0,this.val=t}di.prototype=Object.create(fn.prototype);di.prototype.fn=Jd;se.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new di((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};se.prototype.int32=function(t){return t<0?this._push(hi,10,eo.fromNumber(t)):this.uint32(t)};se.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function hi(a,t,o){for(;a.hi;)t[o++]=a.lo&127|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)t[o++]=a.lo&127|128,a.lo=a.lo>>>7;t[o++]=a.lo}se.prototype.uint64=function(t){var o=eo.from(t);return this._push(hi,o.length(),o)};se.prototype.int64=se.prototype.uint64;se.prototype.sint64=function(t){var o=eo.from(t).zzEncode();return this._push(hi,o.length(),o)};se.prototype.bool=function(t){return this._push(pi,1,t?1:0)};function fi(a,t,o){t[o]=a&255,t[o+1]=a>>>8&255,t[o+2]=a>>>16&255,t[o+3]=a>>>24}se.prototype.fixed32=function(t){return this._push(fi,4,t>>>0)};se.prototype.sfixed32=se.prototype.fixed32;se.prototype.fixed64=function(t){var o=eo.from(t);return this._push(fi,4,o.lo)._push(fi,4,o.hi)};se.prototype.sfixed64=se.prototype.fixed64;se.prototype.float=function(t){return this._push(bt.float.writeFloatLE,4,t)};se.prototype.double=function(t){return this._push(bt.float.writeDoubleLE,8,t)};var Zd=bt.Array.prototype.set?function(t,o,e){o.set(t,e)}:function(t,o,e){for(var r=0;r<t.length;++r)o[e+r]=t[r]};se.prototype.bytes=function(t){var o=t.length>>>0;if(!o)return this._push(pi,1,0);if(bt.isString(t)){var e=se.alloc(o=pu.length(t));pu.decode(t,e,0),t=e}return this.uint32(o)._push(Zd,o,t)};se.prototype.string=function(t){var o=du.length(t);return o?this.uint32(o)._push(du.write,o,t):this._push(pi,1,0)};se.prototype.fork=function(){return this.states=new Kd(this),this.head=this.tail=new fn(ci,0,0),this.len=0,this};se.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new fn(ci,0,0),this.len=0),this};se.prototype.ldelim=function(){var t=this.head,o=this.tail,e=this.len;return this.reset().uint32(e),e&&(this.tail.next=t.next,this.tail=o,this.len+=e),this};se.prototype.finish=function(){for(var t=this.head.next,o=this.constructor.alloc(this.len),e=0;t;)t.fn(t.val,o,e),e+=t.len,t=t.next;return o};se._configure=function(a){li=a,se.create=hu(),li._configure()}});var yu=ye((Uy,gu)=>{"use strict";gu.exports=Ct;var bu=mi();(Ct.prototype=Object.create(bu.prototype)).constructor=Ct;var rr=tr();function Ct(){bu.call(this)}Ct._configure=function(){Ct.alloc=rr._Buffer_allocUnsafe,Ct.writeBytesBuffer=rr.Buffer&&rr.Buffer.prototype instanceof Uint8Array&&rr.Buffer.prototype.set.name==="set"?function(t,o,e){o.set(t,e)}:function(t,o,e){if(t.copy)t.copy(o,e,0,t.length);else for(var r=0;r<t.length;)o[e++]=t[r++]}};Ct.prototype.bytes=function(t){rr.isString(t)&&(t=rr._Buffer_from(t,"base64"));var o=t.length>>>0;return this.uint32(o),o&&this._push(Ct.writeBytesBuffer,o,t),this};function Qd(a,t,o){a.length<40?rr.utf8.write(a,t,o):t.utf8Write?t.utf8Write(a,o):t.write(a,o)}Ct.prototype.string=function(t){var o=rr.Buffer.byteLength(t);return this.uint32(o),o&&this._push(Qd,o,t),this};Ct._configure()});var yi=ye((zy,_u)=>{"use strict";_u.exports=De;var $t=tr(),gi,wu=$t.LongBits,eh=$t.utf8;function Pt(a,t){return RangeError("index out of range: "+a.pos+" + "+(t||1)+" > "+a.len)}function De(a){this.buf=a,this.pos=0,this.len=a.length}var Tu=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new De(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new De(t);throw Error("illegal buffer")},vu=function(){return $t.Buffer?function(o){return(De.create=function(r){return $t.Buffer.isBuffer(r)?new gi(r):Tu(r)})(o)}:Tu};De.create=vu();De.prototype._slice=$t.Array.prototype.subarray||$t.Array.prototype.slice;De.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Pt(this,10);return t}}();De.prototype.int32=function(){return this.uint32()|0};De.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function bi(){var a=new wu(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(a.lo=(a.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(this.buf[this.pos]&127)<<28)>>>0,a.hi=(a.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return a;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Pt(this);if(a.lo=(a.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,a}if(this.len-this.pos>4){for(;t<5;++t)if(a.hi=(a.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return a}else for(;t<5;++t){if(this.pos>=this.len)throw Pt(this);if(a.hi=(a.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}De.prototype.bool=function(){return this.uint32()!==0};function to(a,t){return(a[t-4]|a[t-3]<<8|a[t-2]<<16|a[t-1]<<24)>>>0}De.prototype.fixed32=function(){if(this.pos+4>this.len)throw Pt(this,4);return to(this.buf,this.pos+=4)};De.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Pt(this,4);return to(this.buf,this.pos+=4)|0};function xu(){if(this.pos+8>this.len)throw Pt(this,8);return new wu(to(this.buf,this.pos+=4),to(this.buf,this.pos+=4))}De.prototype.float=function(){if(this.pos+4>this.len)throw Pt(this,4);var t=$t.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};De.prototype.double=function(){if(this.pos+8>this.len)throw Pt(this,4);var t=$t.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};De.prototype.bytes=function(){var t=this.uint32(),o=this.pos,e=this.pos+t;if(e>this.len)throw Pt(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(o,e):o===e?new this.buf.constructor(0):this._slice.call(this.buf,o,e)};De.prototype.string=function(){var t=this.bytes();return eh.read(t,0,t.length)};De.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Pt(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Pt(this);while(this.buf[this.pos++]&128);return this};De.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(a=this.uint32()&7)!==4;)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this};De._configure=function(a){gi=a,De.create=vu(),gi._configure();var t=$t.Long?"toLong":"toNumber";$t.merge(De.prototype,{int64:function(){return bi.call(this)[t](!1)},uint64:function(){return bi.call(this)[t](!0)},sint64:function(){return bi.call(this).zzDecode()[t](!1)},fixed64:function(){return xu.call(this)[t](!0)},sfixed64:function(){return xu.call(this)[t](!1)}})}});var Au=ye((Wy,Su)=>{"use strict";Su.exports=Tr;var Iu=yi();(Tr.prototype=Object.create(Iu.prototype)).constructor=Tr;var Ou=tr();function Tr(a){Iu.call(this,a)}Tr._configure=function(){Ou.Buffer&&(Tr.prototype._slice=Ou.Buffer.prototype.slice)};Tr.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};Tr._configure()});var Pu=ye((Vy,Eu)=>{"use strict";Eu.exports=cn;var Ti=tr();(cn.prototype=Object.create(Ti.EventEmitter.prototype)).constructor=cn;function cn(a,t,o){if(typeof a!="function")throw TypeError("rpcImpl must be a function");Ti.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!t,this.responseDelimited=!!o}cn.prototype.rpcCall=function a(t,o,e,r,n){if(!r)throw TypeError("request must be specified");var s=this;if(!n)return Ti.asPromise(a,s,t,o,e,r);if(!s.rpcImpl){setTimeout(function(){n(Error("already ended"))},0);return}try{return s.rpcImpl(t,o[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(u,l){if(u)return s.emit("error",u,t),n(u);if(l===null){s.end(!0);return}if(!(l instanceof e))try{l=e[s.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return s.emit("error",c,t),n(c)}return s.emit("data",l,t),n(null,l)})}catch(i){s.emit("error",i,t),setTimeout(function(){n(i)},0);return}};cn.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Lu=ye(Du=>{"use strict";var th=Du;th.Service=Pu()});var Cu=ye((jy,Fu)=>{"use strict";Fu.exports={}});var ku=ye(Bu=>{"use strict";var nt=Bu;nt.build="minimal";nt.Writer=mi();nt.BufferWriter=yu();nt.Reader=yi();nt.BufferReader=Au();nt.util=tr();nt.rpc=Lu();nt.roots=Cu();nt.configure=$u;function $u(){nt.util._configure(),nt.Writer._configure(nt.BufferWriter),nt.Reader._configure(nt.BufferReader)}$u()});var Ru=ye((Yy,Nu)=>{"use strict";Nu.exports=ku()});var Ur=ye((Xy,Mu)=>{"use strict";var xe=Ru(),R=xe.Reader,Le=xe.Writer,y=xe.util,m=xe.roots.default||(xe.roots.default={});m.onnx=function(){var a={};return a.Version=function(){var t={},o=Object.create(t);return o[t[0]="_START_VERSION"]=0,o[t[1]="IR_VERSION_2017_10_10"]=1,o[t[2]="IR_VERSION_2017_10_30"]=2,o[t[3]="IR_VERSION_2017_11_3"]=3,o[t[4]="IR_VERSION_2019_1_22"]=4,o[t[5]="IR_VERSION_2019_3_18"]=5,o[t[6]="IR_VERSION_2019_9_19"]=6,o[t[7]="IR_VERSION_2020_5_8"]=7,o[t[8]="IR_VERSION_2021_7_30"]=8,o[t[9]="IR_VERSION"]=9,o}(),a.AttributeProto=function(){function t(o){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.name="",t.prototype.refAttrName="",t.prototype.docString="",t.prototype.type=0,t.prototype.f=0,t.prototype.i=y.Long?y.Long.fromBits(0,0,!1):0,t.prototype.s=y.newBuffer([]),t.prototype.t=null,t.prototype.g=null,t.prototype.sparseTensor=null,t.prototype.tp=null,t.prototype.floats=y.emptyArray,t.prototype.ints=y.emptyArray,t.prototype.strings=y.emptyArray,t.prototype.tensors=y.emptyArray,t.prototype.graphs=y.emptyArray,t.prototype.sparseTensors=y.emptyArray,t.prototype.typeProtos=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(10).string(e.name),e.f!=null&&Object.hasOwnProperty.call(e,"f")&&r.uint32(21).float(e.f),e.i!=null&&Object.hasOwnProperty.call(e,"i")&&r.uint32(24).int64(e.i),e.s!=null&&Object.hasOwnProperty.call(e,"s")&&r.uint32(34).bytes(e.s),e.t!=null&&Object.hasOwnProperty.call(e,"t")&&m.onnx.TensorProto.encode(e.t,r.uint32(42).fork()).ldelim(),e.g!=null&&Object.hasOwnProperty.call(e,"g")&&m.onnx.GraphProto.encode(e.g,r.uint32(50).fork()).ldelim(),e.floats!=null&&e.floats.length){r.uint32(58).fork();for(var n=0;n<e.floats.length;++n)r.float(e.floats[n]);r.ldelim()}if(e.ints!=null&&e.ints.length){r.uint32(66).fork();for(var n=0;n<e.ints.length;++n)r.int64(e.ints[n]);r.ldelim()}if(e.strings!=null&&e.strings.length)for(var n=0;n<e.strings.length;++n)r.uint32(74).bytes(e.strings[n]);if(e.tensors!=null&&e.tensors.length)for(var n=0;n<e.tensors.length;++n)m.onnx.TensorProto.encode(e.tensors[n],r.uint32(82).fork()).ldelim();if(e.graphs!=null&&e.graphs.length)for(var n=0;n<e.graphs.length;++n)m.onnx.GraphProto.encode(e.graphs[n],r.uint32(90).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(106).string(e.docString),e.tp!=null&&Object.hasOwnProperty.call(e,"tp")&&m.onnx.TypeProto.encode(e.tp,r.uint32(114).fork()).ldelim(),e.typeProtos!=null&&e.typeProtos.length)for(var n=0;n<e.typeProtos.length;++n)m.onnx.TypeProto.encode(e.typeProtos[n],r.uint32(122).fork()).ldelim();if(e.type!=null&&Object.hasOwnProperty.call(e,"type")&&r.uint32(160).int32(e.type),e.refAttrName!=null&&Object.hasOwnProperty.call(e,"refAttrName")&&r.uint32(170).string(e.refAttrName),e.sparseTensor!=null&&Object.hasOwnProperty.call(e,"sparseTensor")&&m.onnx.SparseTensorProto.encode(e.sparseTensor,r.uint32(178).fork()).ldelim(),e.sparseTensors!=null&&e.sparseTensors.length)for(var n=0;n<e.sparseTensors.length;++n)m.onnx.SparseTensorProto.encode(e.sparseTensors[n],r.uint32(186).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.AttributeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.name=e.string();break}case 21:{s.refAttrName=e.string();break}case 13:{s.docString=e.string();break}case 20:{s.type=e.int32();break}case 2:{s.f=e.float();break}case 3:{s.i=e.int64();break}case 4:{s.s=e.bytes();break}case 5:{s.t=m.onnx.TensorProto.decode(e,e.uint32());break}case 6:{s.g=m.onnx.GraphProto.decode(e,e.uint32());break}case 22:{s.sparseTensor=m.onnx.SparseTensorProto.decode(e,e.uint32());break}case 14:{s.tp=m.onnx.TypeProto.decode(e,e.uint32());break}case 7:{if(s.floats&&s.floats.length||(s.floats=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.floats.push(e.float());else s.floats.push(e.float());break}case 8:{if(s.ints&&s.ints.length||(s.ints=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.ints.push(e.int64());else s.ints.push(e.int64());break}case 9:{s.strings&&s.strings.length||(s.strings=[]),s.strings.push(e.bytes());break}case 10:{s.tensors&&s.tensors.length||(s.tensors=[]),s.tensors.push(m.onnx.TensorProto.decode(e,e.uint32()));break}case 11:{s.graphs&&s.graphs.length||(s.graphs=[]),s.graphs.push(m.onnx.GraphProto.decode(e,e.uint32()));break}case 23:{s.sparseTensors&&s.sparseTensors.length||(s.sparseTensors=[]),s.sparseTensors.push(m.onnx.SparseTensorProto.decode(e,e.uint32()));break}case 15:{s.typeProtos&&s.typeProtos.length||(s.typeProtos=[]),s.typeProtos.push(m.onnx.TypeProto.decode(e,e.uint32()));break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!y.isString(e.name))return"name: string expected";if(e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&!y.isString(e.refAttrName))return"refAttrName: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!y.isString(e.docString))return"docString: string expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:break}if(e.f!=null&&e.hasOwnProperty("f")&&typeof e.f!="number")return"f: number expected";if(e.i!=null&&e.hasOwnProperty("i")&&!y.isInteger(e.i)&&!(e.i&&y.isInteger(e.i.low)&&y.isInteger(e.i.high)))return"i: integer|Long expected";if(e.s!=null&&e.hasOwnProperty("s")&&!(e.s&&typeof e.s.length=="number"||y.isString(e.s)))return"s: buffer expected";if(e.t!=null&&e.hasOwnProperty("t")){var r=m.onnx.TensorProto.verify(e.t);if(r)return"t."+r}if(e.g!=null&&e.hasOwnProperty("g")){var r=m.onnx.GraphProto.verify(e.g);if(r)return"g."+r}if(e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")){var r=m.onnx.SparseTensorProto.verify(e.sparseTensor);if(r)return"sparseTensor."+r}if(e.tp!=null&&e.hasOwnProperty("tp")){var r=m.onnx.TypeProto.verify(e.tp);if(r)return"tp."+r}if(e.floats!=null&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var n=0;n<e.floats.length;++n)if(typeof e.floats[n]!="number")return"floats: number[] expected"}if(e.ints!=null&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(var n=0;n<e.ints.length;++n)if(!y.isInteger(e.ints[n])&&!(e.ints[n]&&y.isInteger(e.ints[n].low)&&y.isInteger(e.ints[n].high)))return"ints: integer|Long[] expected"}if(e.strings!=null&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(var n=0;n<e.strings.length;++n)if(!(e.strings[n]&&typeof e.strings[n].length=="number"||y.isString(e.strings[n])))return"strings: buffer[] expected"}if(e.tensors!=null&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(var n=0;n<e.tensors.length;++n){var r=m.onnx.TensorProto.verify(e.tensors[n]);if(r)return"tensors."+r}}if(e.graphs!=null&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(var n=0;n<e.graphs.length;++n){var r=m.onnx.GraphProto.verify(e.graphs[n]);if(r)return"graphs."+r}}if(e.sparseTensors!=null&&e.hasOwnProperty("sparseTensors")){if(!Array.isArray(e.sparseTensors))return"sparseTensors: array expected";for(var n=0;n<e.sparseTensors.length;++n){var r=m.onnx.SparseTensorProto.verify(e.sparseTensors[n]);if(r)return"sparseTensors."+r}}if(e.typeProtos!=null&&e.hasOwnProperty("typeProtos")){if(!Array.isArray(e.typeProtos))return"typeProtos: array expected";for(var n=0;n<e.typeProtos.length;++n){var r=m.onnx.TypeProto.verify(e.typeProtos[n]);if(r)return"typeProtos."+r}}return null},t.fromObject=function(e){if(e instanceof m.onnx.AttributeProto)return e;var r=new m.onnx.AttributeProto;switch(e.name!=null&&(r.name=String(e.name)),e.refAttrName!=null&&(r.refAttrName=String(e.refAttrName)),e.docString!=null&&(r.docString=String(e.docString)),e.type){default:if(typeof e.type=="number"){r.type=e.type;break}break;case"UNDEFINED":case 0:r.type=0;break;case"FLOAT":case 1:r.type=1;break;case"INT":case 2:r.type=2;break;case"STRING":case 3:r.type=3;break;case"TENSOR":case 4:r.type=4;break;case"GRAPH":case 5:r.type=5;break;case"SPARSE_TENSOR":case 11:r.type=11;break;case"TYPE_PROTO":case 13:r.type=13;break;case"FLOATS":case 6:r.type=6;break;case"INTS":case 7:r.type=7;break;case"STRINGS":case 8:r.type=8;break;case"TENSORS":case 9:r.type=9;break;case"GRAPHS":case 10:r.type=10;break;case"SPARSE_TENSORS":case 12:r.type=12;break;case"TYPE_PROTOS":case 14:r.type=14;break}if(e.f!=null&&(r.f=Number(e.f)),e.i!=null&&(y.Long?(r.i=y.Long.fromValue(e.i)).unsigned=!1:typeof e.i=="string"?r.i=parseInt(e.i,10):typeof e.i=="number"?r.i=e.i:typeof e.i=="object"&&(r.i=new y.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),e.s!=null&&(typeof e.s=="string"?y.base64.decode(e.s,r.s=y.newBuffer(y.base64.length(e.s)),0):e.s.length>=0&&(r.s=e.s)),e.t!=null){if(typeof e.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");r.t=m.onnx.TensorProto.fromObject(e.t)}if(e.g!=null){if(typeof e.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");r.g=m.onnx.GraphProto.fromObject(e.g)}if(e.sparseTensor!=null){if(typeof e.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");r.sparseTensor=m.onnx.SparseTensorProto.fromObject(e.sparseTensor)}if(e.tp!=null){if(typeof e.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");r.tp=m.onnx.TypeProto.fromObject(e.tp)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");r.floats=[];for(var n=0;n<e.floats.length;++n)r.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");r.ints=[];for(var n=0;n<e.ints.length;++n)y.Long?(r.ints[n]=y.Long.fromValue(e.ints[n])).unsigned=!1:typeof e.ints[n]=="string"?r.ints[n]=parseInt(e.ints[n],10):typeof e.ints[n]=="number"?r.ints[n]=e.ints[n]:typeof e.ints[n]=="object"&&(r.ints[n]=new y.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");r.strings=[];for(var n=0;n<e.strings.length;++n)typeof e.strings[n]=="string"?y.base64.decode(e.strings[n],r.strings[n]=y.newBuffer(y.base64.length(e.strings[n])),0):e.strings[n].length>=0&&(r.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");r.tensors=[];for(var n=0;n<e.tensors.length;++n){if(typeof e.tensors[n]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");r.tensors[n]=m.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");r.graphs=[];for(var n=0;n<e.graphs.length;++n){if(typeof e.graphs[n]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");r.graphs[n]=m.onnx.GraphProto.fromObject(e.graphs[n])}}if(e.sparseTensors){if(!Array.isArray(e.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");r.sparseTensors=[];for(var n=0;n<e.sparseTensors.length;++n){if(typeof e.sparseTensors[n]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");r.sparseTensors[n]=m.onnx.SparseTensorProto.fromObject(e.sparseTensors[n])}}if(e.typeProtos){if(!Array.isArray(e.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");r.typeProtos=[];for(var n=0;n<e.typeProtos.length;++n){if(typeof e.typeProtos[n]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");r.typeProtos[n]=m.onnx.TypeProto.fromObject(e.typeProtos[n])}}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[],n.typeProtos=[],n.sparseTensors=[]),r.defaults){if(n.name="",n.f=0,y.Long){var s=new y.Long(0,0,!1);n.i=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.i=r.longs===String?"0":0;r.bytes===String?n.s="":(n.s=[],r.bytes!==Array&&(n.s=y.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.tp=null,n.type=r.enums===String?"UNDEFINED":0,n.refAttrName="",n.sparseTensor=null}if(e.name!=null&&e.hasOwnProperty("name")&&(n.name=e.name),e.f!=null&&e.hasOwnProperty("f")&&(n.f=r.json&&!isFinite(e.f)?String(e.f):e.f),e.i!=null&&e.hasOwnProperty("i")&&(typeof e.i=="number"?n.i=r.longs===String?String(e.i):e.i:n.i=r.longs===String?y.Long.prototype.toString.call(e.i):r.longs===Number?new y.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),e.s!=null&&e.hasOwnProperty("s")&&(n.s=r.bytes===String?y.base64.encode(e.s,0,e.s.length):r.bytes===Array?Array.prototype.slice.call(e.s):e.s),e.t!=null&&e.hasOwnProperty("t")&&(n.t=m.onnx.TensorProto.toObject(e.t,r)),e.g!=null&&e.hasOwnProperty("g")&&(n.g=m.onnx.GraphProto.toObject(e.g,r)),e.floats&&e.floats.length){n.floats=[];for(var i=0;i<e.floats.length;++i)n.floats[i]=r.json&&!isFinite(e.floats[i])?String(e.floats[i]):e.floats[i]}if(e.ints&&e.ints.length){n.ints=[];for(var i=0;i<e.ints.length;++i)typeof e.ints[i]=="number"?n.ints[i]=r.longs===String?String(e.ints[i]):e.ints[i]:n.ints[i]=r.longs===String?y.Long.prototype.toString.call(e.ints[i]):r.longs===Number?new y.LongBits(e.ints[i].low>>>0,e.ints[i].high>>>0).toNumber():e.ints[i]}if(e.strings&&e.strings.length){n.strings=[];for(var i=0;i<e.strings.length;++i)n.strings[i]=r.bytes===String?y.base64.encode(e.strings[i],0,e.strings[i].length):r.bytes===Array?Array.prototype.slice.call(e.strings[i]):e.strings[i]}if(e.tensors&&e.tensors.length){n.tensors=[];for(var i=0;i<e.tensors.length;++i)n.tensors[i]=m.onnx.TensorProto.toObject(e.tensors[i],r)}if(e.graphs&&e.graphs.length){n.graphs=[];for(var i=0;i<e.graphs.length;++i)n.graphs[i]=m.onnx.GraphProto.toObject(e.graphs[i],r)}if(e.docString!=null&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.tp!=null&&e.hasOwnProperty("tp")&&(n.tp=m.onnx.TypeProto.toObject(e.tp,r)),e.typeProtos&&e.typeProtos.length){n.typeProtos=[];for(var i=0;i<e.typeProtos.length;++i)n.typeProtos[i]=m.onnx.TypeProto.toObject(e.typeProtos[i],r)}if(e.type!=null&&e.hasOwnProperty("type")&&(n.type=r.enums===String?m.onnx.AttributeProto.AttributeType[e.type]===void 0?e.type:m.onnx.AttributeProto.AttributeType[e.type]:e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")&&(n.sparseTensor=m.onnx.SparseTensorProto.toObject(e.sparseTensor,r)),e.sparseTensors&&e.sparseTensors.length){n.sparseTensors=[];for(var i=0;i<e.sparseTensors.length;++i)n.sparseTensors[i]=m.onnx.SparseTensorProto.toObject(e.sparseTensors[i],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.AttributeProto"},t.AttributeType=function(){var o={},e=Object.create(o);return e[o[0]="UNDEFINED"]=0,e[o[1]="FLOAT"]=1,e[o[2]="INT"]=2,e[o[3]="STRING"]=3,e[o[4]="TENSOR"]=4,e[o[5]="GRAPH"]=5,e[o[11]="SPARSE_TENSOR"]=11,e[o[13]="TYPE_PROTO"]=13,e[o[6]="FLOATS"]=6,e[o[7]="INTS"]=7,e[o[8]="STRINGS"]=8,e[o[9]="TENSORS"]=9,e[o[10]="GRAPHS"]=10,e[o[12]="SPARSE_TENSORS"]=12,e[o[14]="TYPE_PROTOS"]=14,e}(),t}(),a.ValueInfoProto=function(){function t(o){if(o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.name="",t.prototype.type=null,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Le.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(10).string(e.name),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&m.onnx.TypeProto.encode(e.type,r.uint32(18).fork()).ldelim(),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(26).string(e.docString),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.ValueInfoProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.name=e.string();break}case 2:{s.type=m.onnx.TypeProto.decode(e,e.uint32());break}case 3:{s.docString=e.string();break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!y.isString(e.name))return"name: string expected";if(e.type!=null&&e.hasOwnProperty("type")){var r=m.onnx.TypeProto.verify(e.type);if(r)return"type."+r}return e.docString!=null&&e.hasOwnProperty("docString")&&!y.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof m.onnx.ValueInfoProto)return e;var r=new m.onnx.ValueInfoProto;if(e.name!=null&&(r.name=String(e.name)),e.type!=null){if(typeof e.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");r.type=m.onnx.TypeProto.fromObject(e.type)}return e.docString!=null&&(r.docString=String(e.docString)),r},t.toObject=function(e,r){r||(r={});var n={};return r.defaults&&(n.name="",n.type=null,n.docString=""),e.name!=null&&e.hasOwnProperty("name")&&(n.name=e.name),e.type!=null&&e.hasOwnProperty("type")&&(n.type=m.onnx.TypeProto.toObject(e.type,r)),e.docString!=null&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ValueInfoProto"},t}(),a.NodeProto=function(){function t(o){if(this.input=[],this.output=[],this.attribute=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.input=y.emptyArray,t.prototype.output=y.emptyArray,t.prototype.name="",t.prototype.opType="",t.prototype.domain="",t.prototype.attribute=y.emptyArray,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.input!=null&&e.input.length)for(var n=0;n<e.input.length;++n)r.uint32(10).string(e.input[n]);if(e.output!=null&&e.output.length)for(var n=0;n<e.output.length;++n)r.uint32(18).string(e.output[n]);if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(26).string(e.name),e.opType!=null&&Object.hasOwnProperty.call(e,"opType")&&r.uint32(34).string(e.opType),e.attribute!=null&&e.attribute.length)for(var n=0;n<e.attribute.length;++n)m.onnx.AttributeProto.encode(e.attribute[n],r.uint32(42).fork()).ldelim();return e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(50).string(e.docString),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(58).string(e.domain),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.NodeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.input&&s.input.length||(s.input=[]),s.input.push(e.string());break}case 2:{s.output&&s.output.length||(s.output=[]),s.output.push(e.string());break}case 3:{s.name=e.string();break}case 4:{s.opType=e.string();break}case 7:{s.domain=e.string();break}case 5:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(m.onnx.AttributeProto.decode(e,e.uint32()));break}case 6:{s.docString=e.string();break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var r=0;r<e.input.length;++r)if(!y.isString(e.input[r]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(var r=0;r<e.output.length;++r)if(!y.isString(e.output[r]))return"output: string[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!y.isString(e.name))return"name: string expected";if(e.opType!=null&&e.hasOwnProperty("opType")&&!y.isString(e.opType))return"opType: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!y.isString(e.domain))return"domain: string expected";if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(var r=0;r<e.attribute.length;++r){var n=m.onnx.AttributeProto.verify(e.attribute[r]);if(n)return"attribute."+n}}return e.docString!=null&&e.hasOwnProperty("docString")&&!y.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof m.onnx.NodeProto)return e;var r=new m.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");r.input=[];for(var n=0;n<e.input.length;++n)r.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");r.output=[];for(var n=0;n<e.output.length;++n)r.output[n]=String(e.output[n])}if(e.name!=null&&(r.name=String(e.name)),e.opType!=null&&(r.opType=String(e.opType)),e.domain!=null&&(r.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");r.attribute=[];for(var n=0;n<e.attribute.length;++n){if(typeof e.attribute[n]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");r.attribute[n]=m.onnx.AttributeProto.fromObject(e.attribute[n])}}return e.docString!=null&&(r.docString=String(e.docString)),r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.input=[],n.output=[],n.attribute=[]),r.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var s=0;s<e.input.length;++s)n.input[s]=e.input[s]}if(e.output&&e.output.length){n.output=[];for(var s=0;s<e.output.length;++s)n.output[s]=e.output[s]}if(e.name!=null&&e.hasOwnProperty("name")&&(n.name=e.name),e.opType!=null&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length){n.attribute=[];for(var s=0;s<e.attribute.length;++s)n.attribute[s]=m.onnx.AttributeProto.toObject(e.attribute[s],r)}return e.docString!=null&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.NodeProto"},t}(),a.TrainingInfoProto=function(){function t(o){if(this.initializationBinding=[],this.updateBinding=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.initialization=null,t.prototype.algorithm=null,t.prototype.initializationBinding=y.emptyArray,t.prototype.updateBinding=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.initialization!=null&&Object.hasOwnProperty.call(e,"initialization")&&m.onnx.GraphProto.encode(e.initialization,r.uint32(10).fork()).ldelim(),e.algorithm!=null&&Object.hasOwnProperty.call(e,"algorithm")&&m.onnx.GraphProto.encode(e.algorithm,r.uint32(18).fork()).ldelim(),e.initializationBinding!=null&&e.initializationBinding.length)for(var n=0;n<e.initializationBinding.length;++n)m.onnx.StringStringEntryProto.encode(e.initializationBinding[n],r.uint32(26).fork()).ldelim();if(e.updateBinding!=null&&e.updateBinding.length)for(var n=0;n<e.updateBinding.length;++n)m.onnx.StringStringEntryProto.encode(e.updateBinding[n],r.uint32(34).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.TrainingInfoProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.initialization=m.onnx.GraphProto.decode(e,e.uint32());break}case 2:{s.algorithm=m.onnx.GraphProto.decode(e,e.uint32());break}case 3:{s.initializationBinding&&s.initializationBinding.length||(s.initializationBinding=[]),s.initializationBinding.push(m.onnx.StringStringEntryProto.decode(e,e.uint32()));break}case 4:{s.updateBinding&&s.updateBinding.length||(s.updateBinding=[]),s.updateBinding.push(m.onnx.StringStringEntryProto.decode(e,e.uint32()));break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.initialization!=null&&e.hasOwnProperty("initialization")){var r=m.onnx.GraphProto.verify(e.initialization);if(r)return"initialization."+r}if(e.algorithm!=null&&e.hasOwnProperty("algorithm")){var r=m.onnx.GraphProto.verify(e.algorithm);if(r)return"algorithm."+r}if(e.initializationBinding!=null&&e.hasOwnProperty("initializationBinding")){if(!Array.isArray(e.initializationBinding))return"initializationBinding: array expected";for(var n=0;n<e.initializationBinding.length;++n){var r=m.onnx.StringStringEntryProto.verify(e.initializationBinding[n]);if(r)return"initializationBinding."+r}}if(e.updateBinding!=null&&e.hasOwnProperty("updateBinding")){if(!Array.isArray(e.updateBinding))return"updateBinding: array expected";for(var n=0;n<e.updateBinding.length;++n){var r=m.onnx.StringStringEntryProto.verify(e.updateBinding[n]);if(r)return"updateBinding."+r}}return null},t.fromObject=function(e){if(e instanceof m.onnx.TrainingInfoProto)return e;var r=new m.onnx.TrainingInfoProto;if(e.initialization!=null){if(typeof e.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");r.initialization=m.onnx.GraphProto.fromObject(e.initialization)}if(e.algorithm!=null){if(typeof e.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");r.algorithm=m.onnx.GraphProto.fromObject(e.algorithm)}if(e.initializationBinding){if(!Array.isArray(e.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");r.initializationBinding=[];for(var n=0;n<e.initializationBinding.length;++n){if(typeof e.initializationBinding[n]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");r.initializationBinding[n]=m.onnx.StringStringEntryProto.fromObject(e.initializationBinding[n])}}if(e.updateBinding){if(!Array.isArray(e.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");r.updateBinding=[];for(var n=0;n<e.updateBinding.length;++n){if(typeof e.updateBinding[n]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");r.updateBinding[n]=m.onnx.StringStringEntryProto.fromObject(e.updateBinding[n])}}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.initializationBinding=[],n.updateBinding=[]),r.defaults&&(n.initialization=null,n.algorithm=null),e.initialization!=null&&e.hasOwnProperty("initialization")&&(n.initialization=m.onnx.GraphProto.toObject(e.initialization,r)),e.algorithm!=null&&e.hasOwnProperty("algorithm")&&(n.algorithm=m.onnx.GraphProto.toObject(e.algorithm,r)),e.initializationBinding&&e.initializationBinding.length){n.initializationBinding=[];for(var s=0;s<e.initializationBinding.length;++s)n.initializationBinding[s]=m.onnx.StringStringEntryProto.toObject(e.initializationBinding[s],r)}if(e.updateBinding&&e.updateBinding.length){n.updateBinding=[];for(var s=0;s<e.updateBinding.length;++s)n.updateBinding[s]=m.onnx.StringStringEntryProto.toObject(e.updateBinding[s],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TrainingInfoProto"},t}(),a.ModelProto=function(){function t(o){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.irVersion=y.Long?y.Long.fromBits(0,0,!1):0,t.prototype.opsetImport=y.emptyArray,t.prototype.producerName="",t.prototype.producerVersion="",t.prototype.domain="",t.prototype.modelVersion=y.Long?y.Long.fromBits(0,0,!1):0,t.prototype.docString="",t.prototype.graph=null,t.prototype.metadataProps=y.emptyArray,t.prototype.trainingInfo=y.emptyArray,t.prototype.functions=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.irVersion!=null&&Object.hasOwnProperty.call(e,"irVersion")&&r.uint32(8).int64(e.irVersion),e.producerName!=null&&Object.hasOwnProperty.call(e,"producerName")&&r.uint32(18).string(e.producerName),e.producerVersion!=null&&Object.hasOwnProperty.call(e,"producerVersion")&&r.uint32(26).string(e.producerVersion),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(34).string(e.domain),e.modelVersion!=null&&Object.hasOwnProperty.call(e,"modelVersion")&&r.uint32(40).int64(e.modelVersion),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(50).string(e.docString),e.graph!=null&&Object.hasOwnProperty.call(e,"graph")&&m.onnx.GraphProto.encode(e.graph,r.uint32(58).fork()).ldelim(),e.opsetImport!=null&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)m.onnx.OperatorSetIdProto.encode(e.opsetImport[n],r.uint32(66).fork()).ldelim();if(e.metadataProps!=null&&e.metadataProps.length)for(var n=0;n<e.metadataProps.length;++n)m.onnx.StringStringEntryProto.encode(e.metadataProps[n],r.uint32(114).fork()).ldelim();if(e.trainingInfo!=null&&e.trainingInfo.length)for(var n=0;n<e.trainingInfo.length;++n)m.onnx.TrainingInfoProto.encode(e.trainingInfo[n],r.uint32(162).fork()).ldelim();if(e.functions!=null&&e.functions.length)for(var n=0;n<e.functions.length;++n)m.onnx.FunctionProto.encode(e.functions[n],r.uint32(202).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.ModelProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.irVersion=e.int64();break}case 8:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(m.onnx.OperatorSetIdProto.decode(e,e.uint32()));break}case 2:{s.producerName=e.string();break}case 3:{s.producerVersion=e.string();break}case 4:{s.domain=e.string();break}case 5:{s.modelVersion=e.int64();break}case 6:{s.docString=e.string();break}case 7:{s.graph=m.onnx.GraphProto.decode(e,e.uint32());break}case 14:{s.metadataProps&&s.metadataProps.length||(s.metadataProps=[]),s.metadataProps.push(m.onnx.StringStringEntryProto.decode(e,e.uint32()));break}case 20:{s.trainingInfo&&s.trainingInfo.length||(s.trainingInfo=[]),s.trainingInfo.push(m.onnx.TrainingInfoProto.decode(e,e.uint32()));break}case 25:{s.functions&&s.functions.length||(s.functions=[]),s.functions.push(m.onnx.FunctionProto.decode(e,e.uint32()));break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&!y.isInteger(e.irVersion)&&!(e.irVersion&&y.isInteger(e.irVersion.low)&&y.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var r=0;r<e.opsetImport.length;++r){var n=m.onnx.OperatorSetIdProto.verify(e.opsetImport[r]);if(n)return"opsetImport."+n}}if(e.producerName!=null&&e.hasOwnProperty("producerName")&&!y.isString(e.producerName))return"producerName: string expected";if(e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&!y.isString(e.producerVersion))return"producerVersion: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!y.isString(e.domain))return"domain: string expected";if(e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&!y.isInteger(e.modelVersion)&&!(e.modelVersion&&y.isInteger(e.modelVersion.low)&&y.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!y.isString(e.docString))return"docString: string expected";if(e.graph!=null&&e.hasOwnProperty("graph")){var n=m.onnx.GraphProto.verify(e.graph);if(n)return"graph."+n}if(e.metadataProps!=null&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(var r=0;r<e.metadataProps.length;++r){var n=m.onnx.StringStringEntryProto.verify(e.metadataProps[r]);if(n)return"metadataProps."+n}}if(e.trainingInfo!=null&&e.hasOwnProperty("trainingInfo")){if(!Array.isArray(e.trainingInfo))return"trainingInfo: array expected";for(var r=0;r<e.trainingInfo.length;++r){var n=m.onnx.TrainingInfoProto.verify(e.trainingInfo[r]);if(n)return"trainingInfo."+n}}if(e.functions!=null&&e.hasOwnProperty("functions")){if(!Array.isArray(e.functions))return"functions: array expected";for(var r=0;r<e.functions.length;++r){var n=m.onnx.FunctionProto.verify(e.functions[r]);if(n)return"functions."+n}}return null},t.fromObject=function(e){if(e instanceof m.onnx.ModelProto)return e;var r=new m.onnx.ModelProto;if(e.irVersion!=null&&(y.Long?(r.irVersion=y.Long.fromValue(e.irVersion)).unsigned=!1:typeof e.irVersion=="string"?r.irVersion=parseInt(e.irVersion,10):typeof e.irVersion=="number"?r.irVersion=e.irVersion:typeof e.irVersion=="object"&&(r.irVersion=new y.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");r.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if(typeof e.opsetImport[n]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");r.opsetImport[n]=m.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(e.producerName!=null&&(r.producerName=String(e.producerName)),e.producerVersion!=null&&(r.producerVersion=String(e.producerVersion)),e.domain!=null&&(r.domain=String(e.domain)),e.modelVersion!=null&&(y.Long?(r.modelVersion=y.Long.fromValue(e.modelVersion)).unsigned=!1:typeof e.modelVersion=="string"?r.modelVersion=parseInt(e.modelVersion,10):typeof e.modelVersion=="number"?r.modelVersion=e.modelVersion:typeof e.modelVersion=="object"&&(r.modelVersion=new y.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),e.docString!=null&&(r.docString=String(e.docString)),e.graph!=null){if(typeof e.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");r.graph=m.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");r.metadataProps=[];for(var n=0;n<e.metadataProps.length;++n){if(typeof e.metadataProps[n]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");r.metadataProps[n]=m.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}if(e.trainingInfo){if(!Array.isArray(e.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");r.trainingInfo=[];for(var n=0;n<e.trainingInfo.length;++n){if(typeof e.trainingInfo[n]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");r.trainingInfo[n]=m.onnx.TrainingInfoProto.fromObject(e.trainingInfo[n])}}if(e.functions){if(!Array.isArray(e.functions))throw TypeError(".onnx.ModelProto.functions: array expected");r.functions=[];for(var n=0;n<e.functions.length;++n){if(typeof e.functions[n]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");r.functions[n]=m.onnx.FunctionProto.fromObject(e.functions[n])}}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.opsetImport=[],n.metadataProps=[],n.trainingInfo=[],n.functions=[]),r.defaults){if(y.Long){var s=new y.Long(0,0,!1);n.irVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.irVersion=r.longs===String?"0":0;if(n.producerName="",n.producerVersion="",n.domain="",y.Long){var s=new y.Long(0,0,!1);n.modelVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.modelVersion=r.longs===String?"0":0;n.docString="",n.graph=null}if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&(typeof e.irVersion=="number"?n.irVersion=r.longs===String?String(e.irVersion):e.irVersion:n.irVersion=r.longs===String?y.Long.prototype.toString.call(e.irVersion):r.longs===Number?new y.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&(n.domain=e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&(typeof e.modelVersion=="number"?n.modelVersion=r.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=r.longs===String?y.Long.prototype.toString.call(e.modelVersion):r.longs===Number?new y.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&(n.graph=m.onnx.GraphProto.toObject(e.graph,r)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var i=0;i<e.opsetImport.length;++i)n.opsetImport[i]=m.onnx.OperatorSetIdProto.toObject(e.opsetImport[i],r)}if(e.metadataProps&&e.metadataProps.length){n.metadataProps=[];for(var i=0;i<e.metadataProps.length;++i)n.metadataProps[i]=m.onnx.StringStringEntryProto.toObject(e.metadataProps[i],r)}if(e.trainingInfo&&e.trainingInfo.length){n.trainingInfo=[];for(var i=0;i<e.trainingInfo.length;++i)n.trainingInfo[i]=m.onnx.TrainingInfoProto.toObject(e.trainingInfo[i],r)}if(e.functions&&e.functions.length){n.functions=[];for(var i=0;i<e.functions.length;++i)n.functions[i]=m.onnx.FunctionProto.toObject(e.functions[i],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ModelProto"},t}(),a.StringStringEntryProto=function(){function t(o){if(o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Le.create()),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&r.uint32(10).string(e.key),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&r.uint32(18).string(e.value),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.StringStringEntryProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.key=e.string();break}case 2:{s.value=e.string();break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!y.isString(e.key)?"key: string expected":e.value!=null&&e.hasOwnProperty("value")&&!y.isString(e.value)?"value: string expected":null},t.fromObject=function(e){if(e instanceof m.onnx.StringStringEntryProto)return e;var r=new m.onnx.StringStringEntryProto;return e.key!=null&&(r.key=String(e.key)),e.value!=null&&(r.value=String(e.value)),r},t.toObject=function(e,r){r||(r={});var n={};return r.defaults&&(n.key="",n.value=""),e.key!=null&&e.hasOwnProperty("key")&&(n.key=e.key),e.value!=null&&e.hasOwnProperty("value")&&(n.value=e.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.StringStringEntryProto"},t}(),a.TensorAnnotation=function(){function t(o){if(this.quantParameterTensorNames=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.tensorName="",t.prototype.quantParameterTensorNames=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.tensorName!=null&&Object.hasOwnProperty.call(e,"tensorName")&&r.uint32(10).string(e.tensorName),e.quantParameterTensorNames!=null&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)m.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],r.uint32(18).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.TensorAnnotation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.tensorName=e.string();break}case 2:{s.quantParameterTensorNames&&s.quantParameterTensorNames.length||(s.quantParameterTensorNames=[]),s.quantParameterTensorNames.push(m.onnx.StringStringEntryProto.decode(e,e.uint32()));break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.tensorName!=null&&e.hasOwnProperty("tensorName")&&!y.isString(e.tensorName))return"tensorName: string expected";if(e.quantParameterTensorNames!=null&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var r=0;r<e.quantParameterTensorNames.length;++r){var n=m.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[r]);if(n)return"quantParameterTensorNames."+n}}return null},t.fromObject=function(e){if(e instanceof m.onnx.TensorAnnotation)return e;var r=new m.onnx.TensorAnnotation;if(e.tensorName!=null&&(r.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");r.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if(typeof e.quantParameterTensorNames[n]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");r.quantParameterTensorNames[n]=m.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.quantParameterTensorNames=[]),r.defaults&&(n.tensorName=""),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var s=0;s<e.quantParameterTensorNames.length;++s)n.quantParameterTensorNames[s]=m.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[s],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorAnnotation"},t}(),a.GraphProto=function(){function t(o){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.node=y.emptyArray,t.prototype.name="",t.prototype.initializer=y.emptyArray,t.prototype.sparseInitializer=y.emptyArray,t.prototype.docString="",t.prototype.input=y.emptyArray,t.prototype.output=y.emptyArray,t.prototype.valueInfo=y.emptyArray,t.prototype.quantizationAnnotation=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.node!=null&&e.node.length)for(var n=0;n<e.node.length;++n)m.onnx.NodeProto.encode(e.node[n],r.uint32(10).fork()).ldelim();if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(18).string(e.name),e.initializer!=null&&e.initializer.length)for(var n=0;n<e.initializer.length;++n)m.onnx.TensorProto.encode(e.initializer[n],r.uint32(42).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(82).string(e.docString),e.input!=null&&e.input.length)for(var n=0;n<e.input.length;++n)m.onnx.ValueInfoProto.encode(e.input[n],r.uint32(90).fork()).ldelim();if(e.output!=null&&e.output.length)for(var n=0;n<e.output.length;++n)m.onnx.ValueInfoProto.encode(e.output[n],r.uint32(98).fork()).ldelim();if(e.valueInfo!=null&&e.valueInfo.length)for(var n=0;n<e.valueInfo.length;++n)m.onnx.ValueInfoProto.encode(e.valueInfo[n],r.uint32(106).fork()).ldelim();if(e.quantizationAnnotation!=null&&e.quantizationAnnotation.length)for(var n=0;n<e.quantizationAnnotation.length;++n)m.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],r.uint32(114).fork()).ldelim();if(e.sparseInitializer!=null&&e.sparseInitializer.length)for(var n=0;n<e.sparseInitializer.length;++n)m.onnx.SparseTensorProto.encode(e.sparseInitializer[n],r.uint32(122).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.GraphProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.node&&s.node.length||(s.node=[]),s.node.push(m.onnx.NodeProto.decode(e,e.uint32()));break}case 2:{s.name=e.string();break}case 5:{s.initializer&&s.initializer.length||(s.initializer=[]),s.initializer.push(m.onnx.TensorProto.decode(e,e.uint32()));break}case 15:{s.sparseInitializer&&s.sparseInitializer.length||(s.sparseInitializer=[]),s.sparseInitializer.push(m.onnx.SparseTensorProto.decode(e,e.uint32()));break}case 10:{s.docString=e.string();break}case 11:{s.input&&s.input.length||(s.input=[]),s.input.push(m.onnx.ValueInfoProto.decode(e,e.uint32()));break}case 12:{s.output&&s.output.length||(s.output=[]),s.output.push(m.onnx.ValueInfoProto.decode(e,e.uint32()));break}case 13:{s.valueInfo&&s.valueInfo.length||(s.valueInfo=[]),s.valueInfo.push(m.onnx.ValueInfoProto.decode(e,e.uint32()));break}case 14:{s.quantizationAnnotation&&s.quantizationAnnotation.length||(s.quantizationAnnotation=[]),s.quantizationAnnotation.push(m.onnx.TensorAnnotation.decode(e,e.uint32()));break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var r=0;r<e.node.length;++r){var n=m.onnx.NodeProto.verify(e.node[r]);if(n)return"node."+n}}if(e.name!=null&&e.hasOwnProperty("name")&&!y.isString(e.name))return"name: string expected";if(e.initializer!=null&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(var r=0;r<e.initializer.length;++r){var n=m.onnx.TensorProto.verify(e.initializer[r]);if(n)return"initializer."+n}}if(e.sparseInitializer!=null&&e.hasOwnProperty("sparseInitializer")){if(!Array.isArray(e.sparseInitializer))return"sparseInitializer: array expected";for(var r=0;r<e.sparseInitializer.length;++r){var n=m.onnx.SparseTensorProto.verify(e.sparseInitializer[r]);if(n)return"sparseInitializer."+n}}if(e.docString!=null&&e.hasOwnProperty("docString")&&!y.isString(e.docString))return"docString: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var r=0;r<e.input.length;++r){var n=m.onnx.ValueInfoProto.verify(e.input[r]);if(n)return"input."+n}}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(var r=0;r<e.output.length;++r){var n=m.onnx.ValueInfoProto.verify(e.output[r]);if(n)return"output."+n}}if(e.valueInfo!=null&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(var r=0;r<e.valueInfo.length;++r){var n=m.onnx.ValueInfoProto.verify(e.valueInfo[r]);if(n)return"valueInfo."+n}}if(e.quantizationAnnotation!=null&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(var r=0;r<e.quantizationAnnotation.length;++r){var n=m.onnx.TensorAnnotation.verify(e.quantizationAnnotation[r]);if(n)return"quantizationAnnotation."+n}}return null},t.fromObject=function(e){if(e instanceof m.onnx.GraphProto)return e;var r=new m.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");r.node=[];for(var n=0;n<e.node.length;++n){if(typeof e.node[n]!="object")throw TypeError(".onnx.GraphProto.node: object expected");r.node[n]=m.onnx.NodeProto.fromObject(e.node[n])}}if(e.name!=null&&(r.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");r.initializer=[];for(var n=0;n<e.initializer.length;++n){if(typeof e.initializer[n]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");r.initializer[n]=m.onnx.TensorProto.fromObject(e.initializer[n])}}if(e.sparseInitializer){if(!Array.isArray(e.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");r.sparseInitializer=[];for(var n=0;n<e.sparseInitializer.length;++n){if(typeof e.sparseInitializer[n]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");r.sparseInitializer[n]=m.onnx.SparseTensorProto.fromObject(e.sparseInitializer[n])}}if(e.docString!=null&&(r.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");r.input=[];for(var n=0;n<e.input.length;++n){if(typeof e.input[n]!="object")throw TypeError(".onnx.GraphProto.input: object expected");r.input[n]=m.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");r.output=[];for(var n=0;n<e.output.length;++n){if(typeof e.output[n]!="object")throw TypeError(".onnx.GraphProto.output: object expected");r.output[n]=m.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");r.valueInfo=[];for(var n=0;n<e.valueInfo.length;++n){if(typeof e.valueInfo[n]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");r.valueInfo[n]=m.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");r.quantizationAnnotation=[];for(var n=0;n<e.quantizationAnnotation.length;++n){if(typeof e.quantizationAnnotation[n]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");r.quantizationAnnotation[n]=m.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[],n.sparseInitializer=[]),r.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var s=0;s<e.node.length;++s)n.node[s]=m.onnx.NodeProto.toObject(e.node[s],r)}if(e.name!=null&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length){n.initializer=[];for(var s=0;s<e.initializer.length;++s)n.initializer[s]=m.onnx.TensorProto.toObject(e.initializer[s],r)}if(e.docString!=null&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length){n.input=[];for(var s=0;s<e.input.length;++s)n.input[s]=m.onnx.ValueInfoProto.toObject(e.input[s],r)}if(e.output&&e.output.length){n.output=[];for(var s=0;s<e.output.length;++s)n.output[s]=m.onnx.ValueInfoProto.toObject(e.output[s],r)}if(e.valueInfo&&e.valueInfo.length){n.valueInfo=[];for(var s=0;s<e.valueInfo.length;++s)n.valueInfo[s]=m.onnx.ValueInfoProto.toObject(e.valueInfo[s],r)}if(e.quantizationAnnotation&&e.quantizationAnnotation.length){n.quantizationAnnotation=[];for(var s=0;s<e.quantizationAnnotation.length;++s)n.quantizationAnnotation[s]=m.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[s],r)}if(e.sparseInitializer&&e.sparseInitializer.length){n.sparseInitializer=[];for(var s=0;s<e.sparseInitializer.length;++s)n.sparseInitializer[s]=m.onnx.SparseTensorProto.toObject(e.sparseInitializer[s],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.GraphProto"},t}(),a.TensorProto=function(){function t(o){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.dims=y.emptyArray,t.prototype.dataType=0,t.prototype.segment=null,t.prototype.floatData=y.emptyArray,t.prototype.int32Data=y.emptyArray,t.prototype.stringData=y.emptyArray,t.prototype.int64Data=y.emptyArray,t.prototype.name="",t.prototype.docString="",t.prototype.rawData=y.newBuffer([]),t.prototype.externalData=y.emptyArray,t.prototype.dataLocation=0,t.prototype.doubleData=y.emptyArray,t.prototype.uint64Data=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.dims!=null&&e.dims.length){r.uint32(10).fork();for(var n=0;n<e.dims.length;++n)r.int64(e.dims[n]);r.ldelim()}if(e.dataType!=null&&Object.hasOwnProperty.call(e,"dataType")&&r.uint32(16).int32(e.dataType),e.segment!=null&&Object.hasOwnProperty.call(e,"segment")&&m.onnx.TensorProto.Segment.encode(e.segment,r.uint32(26).fork()).ldelim(),e.floatData!=null&&e.floatData.length){r.uint32(34).fork();for(var n=0;n<e.floatData.length;++n)r.float(e.floatData[n]);r.ldelim()}if(e.int32Data!=null&&e.int32Data.length){r.uint32(42).fork();for(var n=0;n<e.int32Data.length;++n)r.int32(e.int32Data[n]);r.ldelim()}if(e.stringData!=null&&e.stringData.length)for(var n=0;n<e.stringData.length;++n)r.uint32(50).bytes(e.stringData[n]);if(e.int64Data!=null&&e.int64Data.length){r.uint32(58).fork();for(var n=0;n<e.int64Data.length;++n)r.int64(e.int64Data[n]);r.ldelim()}if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(66).string(e.name),e.rawData!=null&&Object.hasOwnProperty.call(e,"rawData")&&r.uint32(74).bytes(e.rawData),e.doubleData!=null&&e.doubleData.length){r.uint32(82).fork();for(var n=0;n<e.doubleData.length;++n)r.double(e.doubleData[n]);r.ldelim()}if(e.uint64Data!=null&&e.uint64Data.length){r.uint32(90).fork();for(var n=0;n<e.uint64Data.length;++n)r.uint64(e.uint64Data[n]);r.ldelim()}if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(98).string(e.docString),e.externalData!=null&&e.externalData.length)for(var n=0;n<e.externalData.length;++n)m.onnx.StringStringEntryProto.encode(e.externalData[n],r.uint32(106).fork()).ldelim();return e.dataLocation!=null&&Object.hasOwnProperty.call(e,"dataLocation")&&r.uint32(112).int32(e.dataLocation),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.TensorProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{if(s.dims&&s.dims.length||(s.dims=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.dims.push(e.int64());else s.dims.push(e.int64());break}case 2:{s.dataType=e.int32();break}case 3:{s.segment=m.onnx.TensorProto.Segment.decode(e,e.uint32());break}case 4:{if(s.floatData&&s.floatData.length||(s.floatData=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.floatData.push(e.float());else s.floatData.push(e.float());break}case 5:{if(s.int32Data&&s.int32Data.length||(s.int32Data=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.int32Data.push(e.int32());else s.int32Data.push(e.int32());break}case 6:{s.stringData&&s.stringData.length||(s.stringData=[]),s.stringData.push(e.bytes());break}case 7:{if(s.int64Data&&s.int64Data.length||(s.int64Data=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.int64Data.push(e.int64());else s.int64Data.push(e.int64());break}case 8:{s.name=e.string();break}case 12:{s.docString=e.string();break}case 9:{s.rawData=e.bytes();break}case 13:{s.externalData&&s.externalData.length||(s.externalData=[]),s.externalData.push(m.onnx.StringStringEntryProto.decode(e,e.uint32()));break}case 14:{s.dataLocation=e.int32();break}case 10:{if(s.doubleData&&s.doubleData.length||(s.doubleData=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.doubleData.push(e.double());else s.doubleData.push(e.double());break}case 11:{if(s.uint64Data&&s.uint64Data.length||(s.uint64Data=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.uint64Data.push(e.uint64());else s.uint64Data.push(e.uint64());break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var r=0;r<e.dims.length;++r)if(!y.isInteger(e.dims[r])&&!(e.dims[r]&&y.isInteger(e.dims[r].low)&&y.isInteger(e.dims[r].high)))return"dims: integer|Long[] expected"}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&!y.isInteger(e.dataType))return"dataType: integer expected";if(e.segment!=null&&e.hasOwnProperty("segment")){var n=m.onnx.TensorProto.Segment.verify(e.segment);if(n)return"segment."+n}if(e.floatData!=null&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(var r=0;r<e.floatData.length;++r)if(typeof e.floatData[r]!="number")return"floatData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(var r=0;r<e.int32Data.length;++r)if(!y.isInteger(e.int32Data[r]))return"int32Data: integer[] expected"}if(e.stringData!=null&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(var r=0;r<e.stringData.length;++r)if(!(e.stringData[r]&&typeof e.stringData[r].length=="number"||y.isString(e.stringData[r])))return"stringData: buffer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(var r=0;r<e.int64Data.length;++r)if(!y.isInteger(e.int64Data[r])&&!(e.int64Data[r]&&y.isInteger(e.int64Data[r].low)&&y.isInteger(e.int64Data[r].high)))return"int64Data: integer|Long[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!y.isString(e.name))return"name: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!y.isString(e.docString))return"docString: string expected";if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||y.isString(e.rawData)))return"rawData: buffer expected";if(e.externalData!=null&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(var r=0;r<e.externalData.length;++r){var n=m.onnx.StringStringEntryProto.verify(e.externalData[r]);if(n)return"externalData."+n}}if(e.dataLocation!=null&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:break}if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(var r=0;r<e.doubleData.length;++r)if(typeof e.doubleData[r]!="number")return"doubleData: number[] expected"}if(e.uint64Data!=null&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(var r=0;r<e.uint64Data.length;++r)if(!y.isInteger(e.uint64Data[r])&&!(e.uint64Data[r]&&y.isInteger(e.uint64Data[r].low)&&y.isInteger(e.uint64Data[r].high)))return"uint64Data: integer|Long[] expected"}return null},t.fromObject=function(e){if(e instanceof m.onnx.TensorProto)return e;var r=new m.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");r.dims=[];for(var n=0;n<e.dims.length;++n)y.Long?(r.dims[n]=y.Long.fromValue(e.dims[n])).unsigned=!1:typeof e.dims[n]=="string"?r.dims[n]=parseInt(e.dims[n],10):typeof e.dims[n]=="number"?r.dims[n]=e.dims[n]:typeof e.dims[n]=="object"&&(r.dims[n]=new y.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(e.dataType!=null&&(r.dataType=e.dataType|0),e.segment!=null){if(typeof e.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");r.segment=m.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");r.floatData=[];for(var n=0;n<e.floatData.length;++n)r.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");r.int32Data=[];for(var n=0;n<e.int32Data.length;++n)r.int32Data[n]=e.int32Data[n]|0}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");r.stringData=[];for(var n=0;n<e.stringData.length;++n)typeof e.stringData[n]=="string"?y.base64.decode(e.stringData[n],r.stringData[n]=y.newBuffer(y.base64.length(e.stringData[n])),0):e.stringData[n].length>=0&&(r.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");r.int64Data=[];for(var n=0;n<e.int64Data.length;++n)y.Long?(r.int64Data[n]=y.Long.fromValue(e.int64Data[n])).unsigned=!1:typeof e.int64Data[n]=="string"?r.int64Data[n]=parseInt(e.int64Data[n],10):typeof e.int64Data[n]=="number"?r.int64Data[n]=e.int64Data[n]:typeof e.int64Data[n]=="object"&&(r.int64Data[n]=new y.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(e.name!=null&&(r.name=String(e.name)),e.docString!=null&&(r.docString=String(e.docString)),e.rawData!=null&&(typeof e.rawData=="string"?y.base64.decode(e.rawData,r.rawData=y.newBuffer(y.base64.length(e.rawData)),0):e.rawData.length>=0&&(r.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");r.externalData=[];for(var n=0;n<e.externalData.length;++n){if(typeof e.externalData[n]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");r.externalData[n]=m.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){default:if(typeof e.dataLocation=="number"){r.dataLocation=e.dataLocation;break}break;case"DEFAULT":case 0:r.dataLocation=0;break;case"EXTERNAL":case 1:r.dataLocation=1;break}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");r.doubleData=[];for(var n=0;n<e.doubleData.length;++n)r.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");r.uint64Data=[];for(var n=0;n<e.uint64Data.length;++n)y.Long?(r.uint64Data[n]=y.Long.fromValue(e.uint64Data[n])).unsigned=!0:typeof e.uint64Data[n]=="string"?r.uint64Data[n]=parseInt(e.uint64Data[n],10):typeof e.uint64Data[n]=="number"?r.uint64Data[n]=e.uint64Data[n]:typeof e.uint64Data[n]=="object"&&(r.uint64Data[n]=new y.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),r.defaults&&(n.dataType=0,n.segment=null,n.name="",r.bytes===String?n.rawData="":(n.rawData=[],r.bytes!==Array&&(n.rawData=y.newBuffer(n.rawData))),n.docString="",n.dataLocation=r.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var s=0;s<e.dims.length;++s)typeof e.dims[s]=="number"?n.dims[s]=r.longs===String?String(e.dims[s]):e.dims[s]:n.dims[s]=r.longs===String?y.Long.prototype.toString.call(e.dims[s]):r.longs===Number?new y.LongBits(e.dims[s].low>>>0,e.dims[s].high>>>0).toNumber():e.dims[s]}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&(n.segment=m.onnx.TensorProto.Segment.toObject(e.segment,r)),e.floatData&&e.floatData.length){n.floatData=[];for(var s=0;s<e.floatData.length;++s)n.floatData[s]=r.json&&!isFinite(e.floatData[s])?String(e.floatData[s]):e.floatData[s]}if(e.int32Data&&e.int32Data.length){n.int32Data=[];for(var s=0;s<e.int32Data.length;++s)n.int32Data[s]=e.int32Data[s]}if(e.stringData&&e.stringData.length){n.stringData=[];for(var s=0;s<e.stringData.length;++s)n.stringData[s]=r.bytes===String?y.base64.encode(e.stringData[s],0,e.stringData[s].length):r.bytes===Array?Array.prototype.slice.call(e.stringData[s]):e.stringData[s]}if(e.int64Data&&e.int64Data.length){n.int64Data=[];for(var s=0;s<e.int64Data.length;++s)typeof e.int64Data[s]=="number"?n.int64Data[s]=r.longs===String?String(e.int64Data[s]):e.int64Data[s]:n.int64Data[s]=r.longs===String?y.Long.prototype.toString.call(e.int64Data[s]):r.longs===Number?new y.LongBits(e.int64Data[s].low>>>0,e.int64Data[s].high>>>0).toNumber():e.int64Data[s]}if(e.name!=null&&e.hasOwnProperty("name")&&(n.name=e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&(n.rawData=r.bytes===String?y.base64.encode(e.rawData,0,e.rawData.length):r.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length){n.doubleData=[];for(var s=0;s<e.doubleData.length;++s)n.doubleData[s]=r.json&&!isFinite(e.doubleData[s])?String(e.doubleData[s]):e.doubleData[s]}if(e.uint64Data&&e.uint64Data.length){n.uint64Data=[];for(var s=0;s<e.uint64Data.length;++s)typeof e.uint64Data[s]=="number"?n.uint64Data[s]=r.longs===String?String(e.uint64Data[s]):e.uint64Data[s]:n.uint64Data[s]=r.longs===String?y.Long.prototype.toString.call(e.uint64Data[s]):r.longs===Number?new y.LongBits(e.uint64Data[s].low>>>0,e.uint64Data[s].high>>>0).toNumber(!0):e.uint64Data[s]}if(e.docString!=null&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length){n.externalData=[];for(var s=0;s<e.externalData.length;++s)n.externalData[s]=m.onnx.StringStringEntryProto.toObject(e.externalData[s],r)}return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=r.enums===String?m.onnx.TensorProto.DataLocation[e.dataLocation]===void 0?e.dataLocation:m.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorProto"},t.DataType=function(){var o={},e=Object.create(o);return e[o[0]="UNDEFINED"]=0,e[o[1]="FLOAT"]=1,e[o[2]="UINT8"]=2,e[o[3]="INT8"]=3,e[o[4]="UINT16"]=4,e[o[5]="INT16"]=5,e[o[6]="INT32"]=6,e[o[7]="INT64"]=7,e[o[8]="STRING"]=8,e[o[9]="BOOL"]=9,e[o[10]="FLOAT16"]=10,e[o[11]="DOUBLE"]=11,e[o[12]="UINT32"]=12,e[o[13]="UINT64"]=13,e[o[14]="COMPLEX64"]=14,e[o[15]="COMPLEX128"]=15,e[o[16]="BFLOAT16"]=16,e[o[17]="FLOAT8E4M3FN"]=17,e[o[18]="FLOAT8E4M3FNUZ"]=18,e[o[19]="FLOAT8E5M2"]=19,e[o[20]="FLOAT8E5M2FNUZ"]=20,e}(),t.Segment=function(){function o(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return o.prototype.begin=y.Long?y.Long.fromBits(0,0,!1):0,o.prototype.end=y.Long?y.Long.fromBits(0,0,!1):0,o.create=function(r){return new o(r)},o.encode=function(r,n){return n||(n=Le.create()),r.begin!=null&&Object.hasOwnProperty.call(r,"begin")&&n.uint32(8).int64(r.begin),r.end!=null&&Object.hasOwnProperty.call(r,"end")&&n.uint32(16).int64(r.end),n},o.encodeDelimited=function(r,n){return this.encode(r,n).ldelim()},o.decode=function(r,n){r instanceof R||(r=R.create(r));for(var s=n===void 0?r.len:r.pos+n,i=new m.onnx.TensorProto.Segment;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{i.begin=r.int64();break}case 2:{i.end=r.int64();break}default:r.skipType(u&7);break}}return i},o.decodeDelimited=function(r){return r instanceof R||(r=new R(r)),this.decode(r,r.uint32())},o.verify=function(r){return typeof r!="object"||r===null?"object expected":r.begin!=null&&r.hasOwnProperty("begin")&&!y.isInteger(r.begin)&&!(r.begin&&y.isInteger(r.begin.low)&&y.isInteger(r.begin.high))?"begin: integer|Long expected":r.end!=null&&r.hasOwnProperty("end")&&!y.isInteger(r.end)&&!(r.end&&y.isInteger(r.end.low)&&y.isInteger(r.end.high))?"end: integer|Long expected":null},o.fromObject=function(r){if(r instanceof m.onnx.TensorProto.Segment)return r;var n=new m.onnx.TensorProto.Segment;return r.begin!=null&&(y.Long?(n.begin=y.Long.fromValue(r.begin)).unsigned=!1:typeof r.begin=="string"?n.begin=parseInt(r.begin,10):typeof r.begin=="number"?n.begin=r.begin:typeof r.begin=="object"&&(n.begin=new y.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber())),r.end!=null&&(y.Long?(n.end=y.Long.fromValue(r.end)).unsigned=!1:typeof r.end=="string"?n.end=parseInt(r.end,10):typeof r.end=="number"?n.end=r.end:typeof r.end=="object"&&(n.end=new y.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber())),n},o.toObject=function(r,n){n||(n={});var s={};if(n.defaults){if(y.Long){var i=new y.Long(0,0,!1);s.begin=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else s.begin=n.longs===String?"0":0;if(y.Long){var i=new y.Long(0,0,!1);s.end=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else s.end=n.longs===String?"0":0}return r.begin!=null&&r.hasOwnProperty("begin")&&(typeof r.begin=="number"?s.begin=n.longs===String?String(r.begin):r.begin:s.begin=n.longs===String?y.Long.prototype.toString.call(r.begin):n.longs===Number?new y.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber():r.begin),r.end!=null&&r.hasOwnProperty("end")&&(typeof r.end=="number"?s.end=n.longs===String?String(r.end):r.end:s.end=n.longs===String?y.Long.prototype.toString.call(r.end):n.longs===Number?new y.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber():r.end),s},o.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},o.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TensorProto.Segment"},o}(),t.DataLocation=function(){var o={},e=Object.create(o);return e[o[0]="DEFAULT"]=0,e[o[1]="EXTERNAL"]=1,e}(),t}(),a.SparseTensorProto=function(){function t(o){if(this.dims=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.values=null,t.prototype.indices=null,t.prototype.dims=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.values!=null&&Object.hasOwnProperty.call(e,"values")&&m.onnx.TensorProto.encode(e.values,r.uint32(10).fork()).ldelim(),e.indices!=null&&Object.hasOwnProperty.call(e,"indices")&&m.onnx.TensorProto.encode(e.indices,r.uint32(18).fork()).ldelim(),e.dims!=null&&e.dims.length){r.uint32(26).fork();for(var n=0;n<e.dims.length;++n)r.int64(e.dims[n]);r.ldelim()}return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.SparseTensorProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.values=m.onnx.TensorProto.decode(e,e.uint32());break}case 2:{s.indices=m.onnx.TensorProto.decode(e,e.uint32());break}case 3:{if(s.dims&&s.dims.length||(s.dims=[]),(i&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.dims.push(e.int64());else s.dims.push(e.int64());break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.values!=null&&e.hasOwnProperty("values")){var r=m.onnx.TensorProto.verify(e.values);if(r)return"values."+r}if(e.indices!=null&&e.hasOwnProperty("indices")){var r=m.onnx.TensorProto.verify(e.indices);if(r)return"indices."+r}if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var n=0;n<e.dims.length;++n)if(!y.isInteger(e.dims[n])&&!(e.dims[n]&&y.isInteger(e.dims[n].low)&&y.isInteger(e.dims[n].high)))return"dims: integer|Long[] expected"}return null},t.fromObject=function(e){if(e instanceof m.onnx.SparseTensorProto)return e;var r=new m.onnx.SparseTensorProto;if(e.values!=null){if(typeof e.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");r.values=m.onnx.TensorProto.fromObject(e.values)}if(e.indices!=null){if(typeof e.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");r.indices=m.onnx.TensorProto.fromObject(e.indices)}if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");r.dims=[];for(var n=0;n<e.dims.length;++n)y.Long?(r.dims[n]=y.Long.fromValue(e.dims[n])).unsigned=!1:typeof e.dims[n]=="string"?r.dims[n]=parseInt(e.dims[n],10):typeof e.dims[n]=="number"?r.dims[n]=e.dims[n]:typeof e.dims[n]=="object"&&(r.dims[n]=new y.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.dims=[]),r.defaults&&(n.values=null,n.indices=null),e.values!=null&&e.hasOwnProperty("values")&&(n.values=m.onnx.TensorProto.toObject(e.values,r)),e.indices!=null&&e.hasOwnProperty("indices")&&(n.indices=m.onnx.TensorProto.toObject(e.indices,r)),e.dims&&e.dims.length){n.dims=[];for(var s=0;s<e.dims.length;++s)typeof e.dims[s]=="number"?n.dims[s]=r.longs===String?String(e.dims[s]):e.dims[s]:n.dims[s]=r.longs===String?y.Long.prototype.toString.call(e.dims[s]):r.longs===Number?new y.LongBits(e.dims[s].low>>>0,e.dims[s].high>>>0).toNumber():e.dims[s]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.SparseTensorProto"},t}(),a.TensorShapeProto=function(){function t(o){if(this.dim=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.dim=y.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.dim!=null&&e.dim.length)for(var n=0;n<e.dim.length;++n)m.onnx.TensorShapeProto.Dimension.encode(e.dim[n],r.uint32(10).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.TensorShapeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.dim&&s.dim.length||(s.dim=[]),s.dim.push(m.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()));break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dim!=null&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var r=0;r<e.dim.length;++r){var n=m.onnx.TensorShapeProto.Dimension.verify(e.dim[r]);if(n)return"dim."+n}}return null},t.fromObject=function(e){if(e instanceof m.onnx.TensorShapeProto)return e;var r=new m.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");r.dim=[];for(var n=0;n<e.dim.length;++n){if(typeof e.dim[n]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");r.dim[n]=m.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var s=0;s<e.dim.length;++s)n.dim[s]=m.onnx.TensorShapeProto.Dimension.toObject(e.dim[s],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorShapeProto"},t.Dimension=function(){function o(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}o.prototype.dimValue=null,o.prototype.dimParam=null,o.prototype.denotation="";var e;return Object.defineProperty(o.prototype,"value",{get:y.oneOfGetter(e=["dimValue","dimParam"]),set:y.oneOfSetter(e)}),o.create=function(n){return new o(n)},o.encode=function(n,s){return s||(s=Le.create()),n.dimValue!=null&&Object.hasOwnProperty.call(n,"dimValue")&&s.uint32(8).int64(n.dimValue),n.dimParam!=null&&Object.hasOwnProperty.call(n,"dimParam")&&s.uint32(18).string(n.dimParam),n.denotation!=null&&Object.hasOwnProperty.call(n,"denotation")&&s.uint32(26).string(n.denotation),s},o.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},o.decode=function(n,s){n instanceof R||(n=R.create(n));for(var i=s===void 0?n.len:n.pos+s,u=new m.onnx.TensorShapeProto.Dimension;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:{u.dimValue=n.int64();break}case 2:{u.dimParam=n.string();break}case 3:{u.denotation=n.string();break}default:n.skipType(l&7);break}}return u},o.decodeDelimited=function(n){return n instanceof R||(n=new R(n)),this.decode(n,n.uint32())},o.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var s={};if(n.dimValue!=null&&n.hasOwnProperty("dimValue")&&(s.value=1,!y.isInteger(n.dimValue)&&!(n.dimValue&&y.isInteger(n.dimValue.low)&&y.isInteger(n.dimValue.high))))return"dimValue: integer|Long expected";if(n.dimParam!=null&&n.hasOwnProperty("dimParam")){if(s.value===1)return"value: multiple values";if(s.value=1,!y.isString(n.dimParam))return"dimParam: string expected"}return n.denotation!=null&&n.hasOwnProperty("denotation")&&!y.isString(n.denotation)?"denotation: string expected":null},o.fromObject=function(n){if(n instanceof m.onnx.TensorShapeProto.Dimension)return n;var s=new m.onnx.TensorShapeProto.Dimension;return n.dimValue!=null&&(y.Long?(s.dimValue=y.Long.fromValue(n.dimValue)).unsigned=!1:typeof n.dimValue=="string"?s.dimValue=parseInt(n.dimValue,10):typeof n.dimValue=="number"?s.dimValue=n.dimValue:typeof n.dimValue=="object"&&(s.dimValue=new y.LongBits(n.dimValue.low>>>0,n.dimValue.high>>>0).toNumber())),n.dimParam!=null&&(s.dimParam=String(n.dimParam)),n.denotation!=null&&(s.denotation=String(n.denotation)),s},o.toObject=function(n,s){s||(s={});var i={};return s.defaults&&(i.denotation=""),n.dimValue!=null&&n.hasOwnProperty("dimValue")&&(typeof n.dimValue=="number"?i.dimValue=s.longs===String?String(n.dimValue):n.dimValue:i.dimValue=s.longs===String?y.Long.prototype.toString.call(n.dimValue):s.longs===Number?new y.LongBits(n.dimValue.low>>>0,n.dimValue.high>>>0).toNumber():n.dimValue,s.oneofs&&(i.value="dimValue")),n.dimParam!=null&&n.hasOwnProperty("dimParam")&&(i.dimParam=n.dimParam,s.oneofs&&(i.value="dimParam")),n.denotation!=null&&n.hasOwnProperty("denotation")&&(i.denotation=n.denotation),i},o.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},o.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TensorShapeProto.Dimension"},o}(),t}(),a.TypeProto=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}t.prototype.tensorType=null,t.prototype.sequenceType=null,t.prototype.mapType=null,t.prototype.optionalType=null,t.prototype.sparseTensorType=null,t.prototype.denotation="";var o;return Object.defineProperty(t.prototype,"value",{get:y.oneOfGetter(o=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:y.oneOfSetter(o)}),t.create=function(r){return new t(r)},t.encode=function(r,n){return n||(n=Le.create()),r.tensorType!=null&&Object.hasOwnProperty.call(r,"tensorType")&&m.onnx.TypeProto.Tensor.encode(r.tensorType,n.uint32(10).fork()).ldelim(),r.sequenceType!=null&&Object.hasOwnProperty.call(r,"sequenceType")&&m.onnx.TypeProto.Sequence.encode(r.sequenceType,n.uint32(34).fork()).ldelim(),r.mapType!=null&&Object.hasOwnProperty.call(r,"mapType")&&m.onnx.TypeProto.Map.encode(r.mapType,n.uint32(42).fork()).ldelim(),r.denotation!=null&&Object.hasOwnProperty.call(r,"denotation")&&n.uint32(50).string(r.denotation),r.sparseTensorType!=null&&Object.hasOwnProperty.call(r,"sparseTensorType")&&m.onnx.TypeProto.SparseTensor.encode(r.sparseTensorType,n.uint32(66).fork()).ldelim(),r.optionalType!=null&&Object.hasOwnProperty.call(r,"optionalType")&&m.onnx.TypeProto.Optional.encode(r.optionalType,n.uint32(74).fork()).ldelim(),n},t.encodeDelimited=function(r,n){return this.encode(r,n).ldelim()},t.decode=function(r,n){r instanceof R||(r=R.create(r));for(var s=n===void 0?r.len:r.pos+n,i=new m.onnx.TypeProto;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{i.tensorType=m.onnx.TypeProto.Tensor.decode(r,r.uint32());break}case 4:{i.sequenceType=m.onnx.TypeProto.Sequence.decode(r,r.uint32());break}case 5:{i.mapType=m.onnx.TypeProto.Map.decode(r,r.uint32());break}case 9:{i.optionalType=m.onnx.TypeProto.Optional.decode(r,r.uint32());break}case 8:{i.sparseTensorType=m.onnx.TypeProto.SparseTensor.decode(r,r.uint32());break}case 6:{i.denotation=r.string();break}default:r.skipType(u&7);break}}return i},t.decodeDelimited=function(r){return r instanceof R||(r=new R(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var n={};if(r.tensorType!=null&&r.hasOwnProperty("tensorType")){n.value=1;{var s=m.onnx.TypeProto.Tensor.verify(r.tensorType);if(s)return"tensorType."+s}}if(r.sequenceType!=null&&r.hasOwnProperty("sequenceType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=m.onnx.TypeProto.Sequence.verify(r.sequenceType);if(s)return"sequenceType."+s}}if(r.mapType!=null&&r.hasOwnProperty("mapType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=m.onnx.TypeProto.Map.verify(r.mapType);if(s)return"mapType."+s}}if(r.optionalType!=null&&r.hasOwnProperty("optionalType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=m.onnx.TypeProto.Optional.verify(r.optionalType);if(s)return"optionalType."+s}}if(r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=m.onnx.TypeProto.SparseTensor.verify(r.sparseTensorType);if(s)return"sparseTensorType."+s}}return r.denotation!=null&&r.hasOwnProperty("denotation")&&!y.isString(r.denotation)?"denotation: string expected":null},t.fromObject=function(r){if(r instanceof m.onnx.TypeProto)return r;var n=new m.onnx.TypeProto;if(r.tensorType!=null){if(typeof r.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");n.tensorType=m.onnx.TypeProto.Tensor.fromObject(r.tensorType)}if(r.sequenceType!=null){if(typeof r.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");n.sequenceType=m.onnx.TypeProto.Sequence.fromObject(r.sequenceType)}if(r.mapType!=null){if(typeof r.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");n.mapType=m.onnx.TypeProto.Map.fromObject(r.mapType)}if(r.optionalType!=null){if(typeof r.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");n.optionalType=m.onnx.TypeProto.Optional.fromObject(r.optionalType)}if(r.sparseTensorType!=null){if(typeof r.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");n.sparseTensorType=m.onnx.TypeProto.SparseTensor.fromObject(r.sparseTensorType)}return r.denotation!=null&&(n.denotation=String(r.denotation)),n},t.toObject=function(r,n){n||(n={});var s={};return n.defaults&&(s.denotation=""),r.tensorType!=null&&r.hasOwnProperty("tensorType")&&(s.tensorType=m.onnx.TypeProto.Tensor.toObject(r.tensorType,n),n.oneofs&&(s.value="tensorType")),r.sequenceType!=null&&r.hasOwnProperty("sequenceType")&&(s.sequenceType=m.onnx.TypeProto.Sequence.toObject(r.sequenceType,n),n.oneofs&&(s.value="sequenceType")),r.mapType!=null&&r.hasOwnProperty("mapType")&&(s.mapType=m.onnx.TypeProto.Map.toObject(r.mapType,n),n.oneofs&&(s.value="mapType")),r.denotation!=null&&r.hasOwnProperty("denotation")&&(s.denotation=r.denotation),r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")&&(s.sparseTensorType=m.onnx.TypeProto.SparseTensor.toObject(r.sparseTensorType,n),n.oneofs&&(s.value="sparseTensorType")),r.optionalType!=null&&r.hasOwnProperty("optionalType")&&(s.optionalType=m.onnx.TypeProto.Optional.toObject(r.optionalType,n),n.oneofs&&(s.value="optionalType")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto"},t.Tensor=function(){function e(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(n){return new e(n)},e.encode=function(n,s){return s||(s=Le.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&s.uint32(8).int32(n.elemType),n.shape!=null&&Object.hasOwnProperty.call(n,"shape")&&m.onnx.TensorShapeProto.encode(n.shape,s.uint32(18).fork()).ldelim(),s},e.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},e.decode=function(n,s){n instanceof R||(n=R.create(n));for(var i=s===void 0?n.len:n.pos+s,u=new m.onnx.TypeProto.Tensor;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:{u.elemType=n.int32();break}case 2:{u.shape=m.onnx.TensorShapeProto.decode(n,n.uint32());break}default:n.skipType(l&7);break}}return u},e.decodeDelimited=function(n){return n instanceof R||(n=new R(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")&&!y.isInteger(n.elemType))return"elemType: integer expected";if(n.shape!=null&&n.hasOwnProperty("shape")){var s=m.onnx.TensorShapeProto.verify(n.shape);if(s)return"shape."+s}return null},e.fromObject=function(n){if(n instanceof m.onnx.TypeProto.Tensor)return n;var s=new m.onnx.TypeProto.Tensor;if(n.elemType!=null&&(s.elemType=n.elemType|0),n.shape!=null){if(typeof n.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");s.shape=m.onnx.TensorShapeProto.fromObject(n.shape)}return s},e.toObject=function(n,s){s||(s={});var i={};return s.defaults&&(i.elemType=0,i.shape=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(i.elemType=n.elemType),n.shape!=null&&n.hasOwnProperty("shape")&&(i.shape=m.onnx.TensorShapeProto.toObject(n.shape,s)),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},e.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Tensor"},e}(),t.Sequence=function(){function e(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return e.prototype.elemType=null,e.create=function(n){return new e(n)},e.encode=function(n,s){return s||(s=Le.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&m.onnx.TypeProto.encode(n.elemType,s.uint32(10).fork()).ldelim(),s},e.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},e.decode=function(n,s){n instanceof R||(n=R.create(n));for(var i=s===void 0?n.len:n.pos+s,u=new m.onnx.TypeProto.Sequence;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:{u.elemType=m.onnx.TypeProto.decode(n,n.uint32());break}default:n.skipType(l&7);break}}return u},e.decodeDelimited=function(n){return n instanceof R||(n=new R(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")){var s=m.onnx.TypeProto.verify(n.elemType);if(s)return"elemType."+s}return null},e.fromObject=function(n){if(n instanceof m.onnx.TypeProto.Sequence)return n;var s=new m.onnx.TypeProto.Sequence;if(n.elemType!=null){if(typeof n.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");s.elemType=m.onnx.TypeProto.fromObject(n.elemType)}return s},e.toObject=function(n,s){s||(s={});var i={};return s.defaults&&(i.elemType=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(i.elemType=m.onnx.TypeProto.toObject(n.elemType,s)),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},e.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Sequence"},e}(),t.Map=function(){function e(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return e.prototype.keyType=0,e.prototype.valueType=null,e.create=function(n){return new e(n)},e.encode=function(n,s){return s||(s=Le.create()),n.keyType!=null&&Object.hasOwnProperty.call(n,"keyType")&&s.uint32(8).int32(n.keyType),n.valueType!=null&&Object.hasOwnProperty.call(n,"valueType")&&m.onnx.TypeProto.encode(n.valueType,s.uint32(18).fork()).ldelim(),s},e.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},e.decode=function(n,s){n instanceof R||(n=R.create(n));for(var i=s===void 0?n.len:n.pos+s,u=new m.onnx.TypeProto.Map;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:{u.keyType=n.int32();break}case 2:{u.valueType=m.onnx.TypeProto.decode(n,n.uint32());break}default:n.skipType(l&7);break}}return u},e.decodeDelimited=function(n){return n instanceof R||(n=new R(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.keyType!=null&&n.hasOwnProperty("keyType")&&!y.isInteger(n.keyType))return"keyType: integer expected";if(n.valueType!=null&&n.hasOwnProperty("valueType")){var s=m.onnx.TypeProto.verify(n.valueType);if(s)return"valueType."+s}return null},e.fromObject=function(n){if(n instanceof m.onnx.TypeProto.Map)return n;var s=new m.onnx.TypeProto.Map;if(n.keyType!=null&&(s.keyType=n.keyType|0),n.valueType!=null){if(typeof n.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");s.valueType=m.onnx.TypeProto.fromObject(n.valueType)}return s},e.toObject=function(n,s){s||(s={});var i={};return s.defaults&&(i.keyType=0,i.valueType=null),n.keyType!=null&&n.hasOwnProperty("keyType")&&(i.keyType=n.keyType),n.valueType!=null&&n.hasOwnProperty("valueType")&&(i.valueType=m.onnx.TypeProto.toObject(n.valueType,s)),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},e.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Map"},e}(),t.Optional=function(){function e(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return e.prototype.elemType=null,e.create=function(n){return new e(n)},e.encode=function(n,s){return s||(s=Le.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&m.onnx.TypeProto.encode(n.elemType,s.uint32(10).fork()).ldelim(),s},e.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},e.decode=function(n,s){n instanceof R||(n=R.create(n));for(var i=s===void 0?n.len:n.pos+s,u=new m.onnx.TypeProto.Optional;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:{u.elemType=m.onnx.TypeProto.decode(n,n.uint32());break}default:n.skipType(l&7);break}}return u},e.decodeDelimited=function(n){return n instanceof R||(n=new R(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")){var s=m.onnx.TypeProto.verify(n.elemType);if(s)return"elemType."+s}return null},e.fromObject=function(n){if(n instanceof m.onnx.TypeProto.Optional)return n;var s=new m.onnx.TypeProto.Optional;if(n.elemType!=null){if(typeof n.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");s.elemType=m.onnx.TypeProto.fromObject(n.elemType)}return s},e.toObject=function(n,s){s||(s={});var i={};return s.defaults&&(i.elemType=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(i.elemType=m.onnx.TypeProto.toObject(n.elemType,s)),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},e.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Optional"},e}(),t.SparseTensor=function(){function e(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(n){return new e(n)},e.encode=function(n,s){return s||(s=Le.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&s.uint32(8).int32(n.elemType),n.shape!=null&&Object.hasOwnProperty.call(n,"shape")&&m.onnx.TensorShapeProto.encode(n.shape,s.uint32(18).fork()).ldelim(),s},e.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},e.decode=function(n,s){n instanceof R||(n=R.create(n));for(var i=s===void 0?n.len:n.pos+s,u=new m.onnx.TypeProto.SparseTensor;n.pos<i;){var l=n.uint32();switch(l>>>3){case 1:{u.elemType=n.int32();break}case 2:{u.shape=m.onnx.TensorShapeProto.decode(n,n.uint32());break}default:n.skipType(l&7);break}}return u},e.decodeDelimited=function(n){return n instanceof R||(n=new R(n)),this.decode(n,n.uint32())},e.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")&&!y.isInteger(n.elemType))return"elemType: integer expected";if(n.shape!=null&&n.hasOwnProperty("shape")){var s=m.onnx.TensorShapeProto.verify(n.shape);if(s)return"shape."+s}return null},e.fromObject=function(n){if(n instanceof m.onnx.TypeProto.SparseTensor)return n;var s=new m.onnx.TypeProto.SparseTensor;if(n.elemType!=null&&(s.elemType=n.elemType|0),n.shape!=null){if(typeof n.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");s.shape=m.onnx.TensorShapeProto.fromObject(n.shape)}return s},e.toObject=function(n,s){s||(s={});var i={};return s.defaults&&(i.elemType=0,i.shape=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(i.elemType=n.elemType),n.shape!=null&&n.hasOwnProperty("shape")&&(i.shape=m.onnx.TensorShapeProto.toObject(n.shape,s)),i},e.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},e.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.SparseTensor"},e}(),t}(),a.OperatorSetIdProto=function(){function t(o){if(o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.domain="",t.prototype.version=y.Long?y.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=Le.create()),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(10).string(e.domain),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(16).int64(e.version),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.OperatorSetIdProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.domain=e.string();break}case 2:{s.version=e.int64();break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.domain!=null&&e.hasOwnProperty("domain")&&!y.isString(e.domain)?"domain: string expected":e.version!=null&&e.hasOwnProperty("version")&&!y.isInteger(e.version)&&!(e.version&&y.isInteger(e.version.low)&&y.isInteger(e.version.high))?"version: integer|Long expected":null},t.fromObject=function(e){if(e instanceof m.onnx.OperatorSetIdProto)return e;var r=new m.onnx.OperatorSetIdProto;return e.domain!=null&&(r.domain=String(e.domain)),e.version!=null&&(y.Long?(r.version=y.Long.fromValue(e.version)).unsigned=!1:typeof e.version=="string"?r.version=parseInt(e.version,10):typeof e.version=="number"?r.version=e.version:typeof e.version=="object"&&(r.version=new y.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),r},t.toObject=function(e,r){r||(r={});var n={};if(r.defaults)if(n.domain="",y.Long){var s=new y.Long(0,0,!1);n.version=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.version=r.longs===String?"0":0;return e.domain!=null&&e.hasOwnProperty("domain")&&(n.domain=e.domain),e.version!=null&&e.hasOwnProperty("version")&&(typeof e.version=="number"?n.version=r.longs===String?String(e.version):e.version:n.version=r.longs===String?y.Long.prototype.toString.call(e.version):r.longs===Number?new y.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.OperatorSetIdProto"},t}(),a.OperatorStatus=function(){var t={},o=Object.create(t);return o[t[0]="EXPERIMENTAL"]=0,o[t[1]="STABLE"]=1,o}(),a.FunctionProto=function(){function t(o){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],o)for(var e=Object.keys(o),r=0;r<e.length;++r)o[e[r]]!=null&&(this[e[r]]=o[e[r]])}return t.prototype.name="",t.prototype.input=y.emptyArray,t.prototype.output=y.emptyArray,t.prototype.attribute=y.emptyArray,t.prototype.attributeProto=y.emptyArray,t.prototype.node=y.emptyArray,t.prototype.docString="",t.prototype.opsetImport=y.emptyArray,t.prototype.domain="",t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=Le.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(10).string(e.name),e.input!=null&&e.input.length)for(var n=0;n<e.input.length;++n)r.uint32(34).string(e.input[n]);if(e.output!=null&&e.output.length)for(var n=0;n<e.output.length;++n)r.uint32(42).string(e.output[n]);if(e.attribute!=null&&e.attribute.length)for(var n=0;n<e.attribute.length;++n)r.uint32(50).string(e.attribute[n]);if(e.node!=null&&e.node.length)for(var n=0;n<e.node.length;++n)m.onnx.NodeProto.encode(e.node[n],r.uint32(58).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(66).string(e.docString),e.opsetImport!=null&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)m.onnx.OperatorSetIdProto.encode(e.opsetImport[n],r.uint32(74).fork()).ldelim();if(e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(82).string(e.domain),e.attributeProto!=null&&e.attributeProto.length)for(var n=0;n<e.attributeProto.length;++n)m.onnx.AttributeProto.encode(e.attributeProto[n],r.uint32(90).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof R||(e=R.create(e));for(var n=r===void 0?e.len:e.pos+r,s=new m.onnx.FunctionProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:{s.name=e.string();break}case 4:{s.input&&s.input.length||(s.input=[]),s.input.push(e.string());break}case 5:{s.output&&s.output.length||(s.output=[]),s.output.push(e.string());break}case 6:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(e.string());break}case 11:{s.attributeProto&&s.attributeProto.length||(s.attributeProto=[]),s.attributeProto.push(m.onnx.AttributeProto.decode(e,e.uint32()));break}case 7:{s.node&&s.node.length||(s.node=[]),s.node.push(m.onnx.NodeProto.decode(e,e.uint32()));break}case 8:{s.docString=e.string();break}case 9:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(m.onnx.OperatorSetIdProto.decode(e,e.uint32()));break}case 10:{s.domain=e.string();break}default:e.skipType(i&7);break}}return s},t.decodeDelimited=function(e){return e instanceof R||(e=new R(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!y.isString(e.name))return"name: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var r=0;r<e.input.length;++r)if(!y.isString(e.input[r]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(var r=0;r<e.output.length;++r)if(!y.isString(e.output[r]))return"output: string[] expected"}if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(var r=0;r<e.attribute.length;++r)if(!y.isString(e.attribute[r]))return"attribute: string[] expected"}if(e.attributeProto!=null&&e.hasOwnProperty("attributeProto")){if(!Array.isArray(e.attributeProto))return"attributeProto: array expected";for(var r=0;r<e.attributeProto.length;++r){var n=m.onnx.AttributeProto.verify(e.attributeProto[r]);if(n)return"attributeProto."+n}}if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var r=0;r<e.node.length;++r){var n=m.onnx.NodeProto.verify(e.node[r]);if(n)return"node."+n}}if(e.docString!=null&&e.hasOwnProperty("docString")&&!y.isString(e.docString))return"docString: string expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var r=0;r<e.opsetImport.length;++r){var n=m.onnx.OperatorSetIdProto.verify(e.opsetImport[r]);if(n)return"opsetImport."+n}}return e.domain!=null&&e.hasOwnProperty("domain")&&!y.isString(e.domain)?"domain: string expected":null},t.fromObject=function(e){if(e instanceof m.onnx.FunctionProto)return e;var r=new m.onnx.FunctionProto;if(e.name!=null&&(r.name=String(e.name)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.FunctionProto.input: array expected");r.input=[];for(var n=0;n<e.input.length;++n)r.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.FunctionProto.output: array expected");r.output=[];for(var n=0;n<e.output.length;++n)r.output[n]=String(e.output[n])}if(e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");r.attribute=[];for(var n=0;n<e.attribute.length;++n)r.attribute[n]=String(e.attribute[n])}if(e.attributeProto){if(!Array.isArray(e.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");r.attributeProto=[];for(var n=0;n<e.attributeProto.length;++n){if(typeof e.attributeProto[n]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");r.attributeProto[n]=m.onnx.AttributeProto.fromObject(e.attributeProto[n])}}if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.FunctionProto.node: array expected");r.node=[];for(var n=0;n<e.node.length;++n){if(typeof e.node[n]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");r.node[n]=m.onnx.NodeProto.fromObject(e.node[n])}}if(e.docString!=null&&(r.docString=String(e.docString)),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");r.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if(typeof e.opsetImport[n]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");r.opsetImport[n]=m.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}return e.domain!=null&&(r.domain=String(e.domain)),r},t.toObject=function(e,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.input=[],n.output=[],n.attribute=[],n.node=[],n.opsetImport=[],n.attributeProto=[]),r.defaults&&(n.name="",n.docString="",n.domain=""),e.name!=null&&e.hasOwnProperty("name")&&(n.name=e.name),e.input&&e.input.length){n.input=[];for(var s=0;s<e.input.length;++s)n.input[s]=e.input[s]}if(e.output&&e.output.length){n.output=[];for(var s=0;s<e.output.length;++s)n.output[s]=e.output[s]}if(e.attribute&&e.attribute.length){n.attribute=[];for(var s=0;s<e.attribute.length;++s)n.attribute[s]=e.attribute[s]}if(e.node&&e.node.length){n.node=[];for(var s=0;s<e.node.length;++s)n.node[s]=m.onnx.NodeProto.toObject(e.node[s],r)}if(e.docString!=null&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var s=0;s<e.opsetImport.length;++s)n.opsetImport[s]=m.onnx.OperatorSetIdProto.toObject(e.opsetImport[s],r)}if(e.domain!=null&&e.hasOwnProperty("domain")&&(n.domain=e.domain),e.attributeProto&&e.attributeProto.length){n.attributeProto=[];for(var s=0;s<e.attributeProto.length;++s)n.attributeProto[s]=m.onnx.AttributeProto.toObject(e.attributeProto[s],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,xe.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.FunctionProto"},t}(),a}();Mu.exports=m});function zr(a,t){if(!a)throw new Error(typeof t=="string"?t:t())}function dn(a){return new TextDecoder().decode(a)}var we,xr,xi,Ke,ro,Ve,ot,z,pn,wr,vr,_r,fe=L(()=>{"use strict";Jn();ai();we=Nr(Ur());Or();xr=class{static arraysEqual(t,o){if(t.length!==o.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==o[e])return!1;return!0}},xi=class{static preprocessInputShapes(t,o){let e=t.length===1?[1,t[0]]:t,r=o.length===1?[o[0],1]:o;return[e,r]}static postprocessOutputShape(t,o,e){o===1&&t.splice(t.length-2,1),e===1&&t.pop()}static calcMatMulShape(t,o){return t[1]!==o[0]?void 0:[t[0],o[1]]}},Ke=class a{static calcShape(t,o,e=!1){let r=t.length,n=o.length;if(r===0)return o;if(n===0)return t;let s=Math.max(t.length,o.length),i=new Array(s);if(e){if(r<2||n<2)return;let u=xi.calcMatMulShape([t[r-2],t[r-1]],[o[n-2],o[n-1]]);if(u===void 0)return;[i[s-2],i[s-1]]=u}for(let u=e?3:1;u<=s;u++){let l=r-u<0?1:t[r-u],c=n-u<0?1:o[n-u];if(l!==c&&l>1&&c>1)return;i[s-u]=Math.max(l,c)}return i}static index(t,o){let e=new Array(o.length);return a.fillIndex(t,o,e),e}static fillIndex(t,o,e){let r=t.length-o.length;for(let n=0;n<o.length;n++)e[n]=t[r+n]%o[n]}static calc(t,o,e,r,n){let s=a.calcShape(t.dims,o.dims);if(s){if(r&&!z.areEqual(s,t.dims))return;let i=z.size(s),u=r?t:new $e(s,n||t.type);if(s.length===0)u.set([],e(t.get([]),o.get([])));else{let l=new Array(s.length),c=new Array(t.dims.length),d=new Array(o.dims.length),b=0,x=0,v=!1,_=!1;t.dims.length===0&&(b=t.get([]),v=!0),o.dims.length===0&&(x=o.get([]),_=!0);let S;for(let E=0;E<i;E++){S=E;for(let C=s.length-1;C>=0;C--)l[C]=S%s[C],S=Math.floor(S/s[C]);v||(a.fillIndex(l,t.dims,c),b=t.get(c)),_||(a.fillIndex(l,o.dims,d),x=o.get(d)),u.set(l,e(b,x))}}return u}}static isValidBroadcast(t,o){let e=t.length,r=o.length;if(e>r)return!1;for(let n=1;n<=e;n++)if(t[e-n]!==1&&t[e-n]!==o[r-n])return!1;return!0}static getBroadcastDims(t,o){let e=t.length,r=[];for(let n=0;n<e;n++){let s=e-1-n,i=t[s]||1;(o[o.length-1-n]||1)>1&&i===1&&r.unshift(s)}return r}},ro=class{static getShapeOfGemmResult(t,o,e,r,n){if(t.length!==2||e.length!==2)throw new Error("shape need to be of size 2");let s,i,u;o?(s=t[1],i=t[0]):(s=t[0],i=t[1]);let l=-1;if(r?(u=e[0],l=1):(u=e[1],l=0),e[l]!==i)throw new Error("dimension mismatch");if(s<=0||u<=0||i<=0)throw new Error("invalid shape specified");if(n&&!Ke.isValidBroadcast(n,[s,u]))throw new Error("gemm: invalid bias shape for broadcast");return[s,u,i]}},Ve=class a{static tensorDataTypeFromProto(t){switch(t){case we.onnx.TensorProto.DataType.INT8:return"int8";case we.onnx.TensorProto.DataType.UINT8:return"uint8";case we.onnx.TensorProto.DataType.BOOL:return"bool";case we.onnx.TensorProto.DataType.INT16:return"int16";case we.onnx.TensorProto.DataType.UINT16:return"uint16";case we.onnx.TensorProto.DataType.INT32:return"int32";case we.onnx.TensorProto.DataType.UINT32:return"uint32";case we.onnx.TensorProto.DataType.FLOAT:return"float32";case we.onnx.TensorProto.DataType.DOUBLE:return"float64";case we.onnx.TensorProto.DataType.STRING:return"string";case we.onnx.TensorProto.DataType.INT64:return"int32";case we.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${we.onnx.TensorProto.DataType[t]}`)}}static tensorDataTypeStringToEnum(t){switch(t){case"int8":return we.onnx.TensorProto.DataType.INT8;case"uint8":return we.onnx.TensorProto.DataType.UINT8;case"bool":return we.onnx.TensorProto.DataType.BOOL;case"int16":return we.onnx.TensorProto.DataType.INT16;case"uint16":return we.onnx.TensorProto.DataType.UINT16;case"int32":return we.onnx.TensorProto.DataType.INT32;case"uint32":return we.onnx.TensorProto.DataType.UINT32;case"float32":return we.onnx.TensorProto.DataType.FLOAT;case"float64":return we.onnx.TensorProto.DataType.DOUBLE;case"string":return we.onnx.TensorProto.DataType.STRING;case"int64":return we.onnx.TensorProto.DataType.INT64;case"uint64":return we.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${t}`)}}static tensorDimsFromProto(t){return t.map(o=>qt.isLong(o)?o.toNumber():o)}static tensorValueTypeFromProto(t){return{tensorType:a.tensorDataTypeFromProto(t.elemType),shape:{dims:a.tensorDimsFromProto(t.shape.dim.map(o=>o.dimValue))}}}static tensorDimsFromORTFormat(t){let o=[];for(let e=0;e<t.dimsLength();e++)o.push(ot.longToNumber(t.dims(e)));return o}static tensorAttributesFromORTFormat(t){let o=[];for(let e=0;e<t.attributesLength();e++)o.push(t.attributes(e));return o}},ot=class{static longToNumber(t,o){return qt.isLong(t)?t.toNumber():t instanceof I.Long?qt.fromValue({low:t.low,high:t.high,unsigned:o??!1}).toNumber():t}static isLong(t){return qt.isLong(t)||t instanceof I.Long}},z=class a{static size(t){return a.getSizeFromDimensionRange(t,0,t.length)}static sizeFromDimension(t,o){if(o<0||o>t.length)throw new Error(`invalid dimension of ${o} for sizeFromDimension as Tensor has ${t.length} dimensions.`);return a.getSizeFromDimensionRange(t,o,t.length)}static sizeToDimension(t,o){if(o<0||o>t.length)throw new Error(`invalid dimension of ${o} for sizeToDimension as Tensor has ${t.length} dimensions.`);return a.getSizeFromDimensionRange(t,0,o)}static getSizeFromDimensionRange(t,o,e){let r=1;for(let n=o;n<e;n++){if(t[n]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=t[n]}return r}static computeStrides(t){let o=t.length;if(o===0)return[];if(o===1)return[1];let e=new Array(o);e[o-1]=1,e[o-2]=t[o-1];for(let r=o-3;r>=0;--r)e[r]=e[r+1]*t[r+1];return e}static transpose(t){return t.slice().reverse()}static indicesToOffset(t,o,e){e===void 0&&(e=t.length);let r=0;for(let n=0;n<e;++n)r+=o[n]*t[n];return r}static offsetToIndices(t,o){let e=o.length;if(e===0)return[];if(e===1)return[t*o[0]];let r=new Array(o.length);for(let n=0;n<r.length-1;++n)r[n]=Math.floor(t/o[n]),t-=r[n]*o[n];return r[r.length-1]=t,r}static normalizeAxis(t,o){if(t<-o&&t>=o)throw new Error("unsupported axis for this operation.");return t<0?t+o:t}static normalizeAxes(t,o){return t.map(e=>this.normalizeAxis(e,o))}static incrementIndex(t,o,e){if(o.length===0||t.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(e===void 0)e=o.length;else if(e<=0||e>o.length)throw new Error("Incorrect axis to increment on");for(let r=e-1;r>=0&&(t[r]++,!(t[r]<o[r]));--r)t[r]=0}static calculateReshapedDims(t,o){if(o.length===0){if(t.length===0||a.size(t)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}let e=o.length,r=new Array(e),n=-1,s=1;for(let u=0;u<e;u++){if(o[u]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(o[u]===-1){if(n!==-1)throw new Error("at most one dimension in shape hints can be -1");n=u}else{if(o[u]===0){if(u>=t.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[u]=t[u]}else r[u]=o[u];s*=r[u]}}let i=a.size(t);if(n!==-1){if(i%s!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${t}] Output shape: [${o}]`);r[n]=i/s}else if(s!==i)throw new Error("reshapedDims and originalDims don\'t have matching sizes");return r}static sortBasedOnPerm(t,o){return o?o.map(e=>t[e]):t.slice().reverse()}static padShape(t,o){let e=t.length;return t.map((r,n)=>r+o[n]+o[n+e])}static areEqual(t,o){return t.length!==o.length?!1:t.every((e,r)=>e===o[r])}static validateDimsAndCalcSize(t){if(t.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let o=1;for(let e of t){if(!Number.isInteger(e))throw new TypeError(`Invalid shape: ${e} is not an integer`);if(e<0||e>2147483647)throw new TypeError(`Invalid shape: length ${e} is not allowed`);o*=e}return o}static flattenShape(t,o){o<0&&(o+=t.length);let e=t.reduce((s,i)=>s*i,1),r=t.slice(o).reduce((s,i)=>s*i,1);return[e/r,r]}static squeezeShape(t,o){let e=new Array;o=a.normalizeAxes(o,t.length);for(let r=0;r<t.length;r++){let n=o.indexOf(r)>=0;if(n&&t[r]!==1)throw new Error("squeeze an axis of size different than 1");(o.length===0&&t[r]>1||o.length>0&&!n)&&e.push(t[r])}return e}static unsqueezeShape(t,o){let e=new Array(t.length+o.length);e.fill(0);for(let n=0;n<o.length;n++){let s=a.normalizeAxis(o[n],e.length);if(s>=e.length)throw new Error("\'axes\' has an out of range axis");if(e[s]!==0)throw new Error("\'axes\' has a duplicate axis");e[s]=1}let r=0;for(let n=0;n<e.length;n++)e[n]===0&&(e[n]=t[r++]);if(r!==t.length)throw new Error("the unsqueezed dimension could not be established");return e}},pn=class a{static splitShape(t,o,e,r){if(e.length===0){if(!r)throw new Error("need to know number of outputs when the \'split\' attribute is not specified");a.determineSplit(t[o],r,e)}let n=[],s=[0];for(let i=0;i<e.length;++i){i!==0&&s.push(s[i-1]+e[i-1]);let u=t.slice();u[o]=e[i],n.push(u)}return[n,s]}static determineSplit(t,o,e){if(t%o!==0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<o;++r)e.push(t/o)}},wr=class a{static adjustPoolAttributes(t,o,e,r,n,s){if(!t&&e.length!==o.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(let i=0;i<o.length-2;i++)i>=e.length?e.push(o[i+2]):e[i]=o[i+2];for(let i=0;i<e.length;i++)if(i<r.length){if(r[i]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let i=0;i<e.length;i++)if(i<n.length){if(n[i]<0)throw new Error("dilations should be greater than or equal to 1")}else n.push(1);for(let i=0;i<e.length*2;i++)if(i<s.length){if(s[i]<0)throw new Error("pad should be greater than or equal to 1")}else s.push(0);for(let i=0;i<e.length;i++){if(e[i]<=0)throw new Error("kernel shapes need to be greater than 0");if(s[i]>=e[i]||s[i+e.length]>=e[i])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,o,e,r,n,s){if(s){if(n.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(o.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let i=0;i<t.length-2;i++)a.adjustPadAndReturnShape(t[i+2],o[i],e[i],r[i],n,i,i+t.length-2,s)}}static computePoolOutputShape(t,o,e,r,n,s,i){if(o.length<=0)throw new Error("input shape must be of size greater than 0");let u=[o[0],o[1]];return a.computeShapeHelper(t,o,u,e,r,n,s,i),u}static computeConvOutputShape(t,o,e,r,n,s,i){if(t.length<=0||o.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let u=[t[0],o[0]];return a.computeShapeHelper(!1,t,u,e,r,n,s,i),u}static computeShapeHelper(t,o,e,r,n,s,i,u){if(t)for(let l=0;l<o.length-2;l++)e.push(1);else for(let l=0;l<o.length-2;l++)e.push(a.adjustPadAndReturnShape(o[l+2],r[l],n[l],s[l],i,l,l+o.length-2,u))}static adjustPadAndReturnShape(t,o,e,r,n,s,i,u){let l=e*(r-1)+1;if(u&&u!=="NOTSET")switch(u){case"VALID":return n[s]=0,n[i]=0,Math.floor((t-l)/o+1);case"SAME_LOWER":case"SAME_UPPER":if(e!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let d=((t+o-1)/o-1)*o+r-t;return n[s]=Math.floor(u==="SAME_LOWER"?(d+1)/2:d/2),n[i]=d-n[s],Math.floor((t+d-r)/o+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((t+n[s]+n[i]-l)/o+1)}},vr=-34028234663852886e22,_r=34028234663852886e22});function rh(a){switch(a){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${a}`)}}function Gu(a){switch(a){case re.onnx.TensorProto.DataType.UINT8:case re.onnx.TensorProto.DataType.INT8:case re.onnx.TensorProto.DataType.BOOL:return 1;case re.onnx.TensorProto.DataType.UINT16:case re.onnx.TensorProto.DataType.INT16:return 2;case re.onnx.TensorProto.DataType.FLOAT:case re.onnx.TensorProto.DataType.INT32:case re.onnx.TensorProto.DataType.UINT32:return 4;case re.onnx.TensorProto.DataType.INT64:case re.onnx.TensorProto.DataType.DOUBLE:case re.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${re.onnx.TensorProto.DataType[a]}`)}}function nh(a,t){return new(Wu(t))(a)}function Wu(a){switch(a){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function vi(a,t){if(t===re.onnx.TensorProto.DataType.INT64||t===wi.TensorDataType.INT64){if(a.greaterThanOrEqual(2147483648)||a.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else if(t===re.onnx.TensorProto.DataType.UINT32||t===wi.TensorDataType.UINT32||t===re.onnx.TensorProto.DataType.UINT64||t===wi.TensorDataType.UINT64){if(a.greaterThanOrEqual(4294967296)||a.lessThan(0))throw new TypeError("uint64 is not supported")}else throw new TypeError(`not a LONG type: ${re.onnx.TensorProto.DataType[t]}`);return a.toNumber()}function Uu(a,t,o){switch(t){case re.onnx.TensorProto.DataType.BOOL:case re.onnx.TensorProto.DataType.UINT8:return a.getUint8(o);case re.onnx.TensorProto.DataType.INT8:return a.getInt8(o);case re.onnx.TensorProto.DataType.UINT16:return a.getUint16(o,!0);case re.onnx.TensorProto.DataType.INT16:return a.getInt16(o,!0);case re.onnx.TensorProto.DataType.FLOAT:return a.getFloat32(o,!0);case re.onnx.TensorProto.DataType.INT32:return a.getInt32(o,!0);case re.onnx.TensorProto.DataType.UINT32:return a.getUint32(o,!0);case re.onnx.TensorProto.DataType.INT64:return vi(qt.fromBits(a.getUint32(o,!0),a.getUint32(o+4,!0),!1),t);case re.onnx.TensorProto.DataType.DOUBLE:return a.getFloat64(o,!0);case re.onnx.TensorProto.DataType.UINT64:return vi(qt.fromBits(a.getUint32(o,!0),a.getUint32(o+4,!0),!0),t);default:throw new Error(`cannot read from DataView for type ${re.onnx.TensorProto.DataType[t]}`)}}var zu,re,wi,$e,Or=L(()=>{"use strict";zu=Nr(Ls());ai();un();re=Nr(Ur());fe();wi=H.experimental.fbs,$e=class a{constructor(t,o,e,r,n,s=zu.Guid.create()){this.dims=t;this.type=o;this.dataProvider=e;this.asyncDataProvider=r;this.cache=n;this.dataId=s;this.size=z.validateDimsAndCalcSize(t);let i=this.size,u=e===void 0&&r===void 0&&n===void 0;if(n!==void 0&&n.length!==i)throw new RangeError("Input dims doesn\'t match data length.");if(o==="string"){if(n!==void 0&&(!Array.isArray(n)||!n.every(l=>typeof l=="string")))throw new TypeError("cache should be a string array");u&&(this.cache=new Array(i))}else{if(n!==void 0){let l=Wu(o);if(!(n instanceof l))throw new TypeError(`cache should be type ${l.name}`)}if(u){let l=new ArrayBuffer(i*rh(o));this.cache=nh(l,o)}}}get data(){if(this.cache===void 0){let t=this.dataProvider(this.dataId);if(t.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=t}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(t){return this.data[z.indicesToOffset(t,this.strides)]}set(t,o){this.data[z.indicesToOffset(t,this.strides)]=o}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=z.computeStrides(this.dims)),this._strides}static fromProto(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let o=Ve.tensorDataTypeFromProto(t.dataType),e=Ve.tensorDimsFromProto(t.dims),r=new a(e,o);if(o==="string")t.stringData.forEach((n,s)=>{r.data[s]=dn(n)});else if(t.rawData&&typeof t.rawData.byteLength=="number"&&t.rawData.byteLength>0){let n=r.data,s=new DataView(t.rawData.buffer,t.rawData.byteOffset,t.rawData.byteLength),i=Gu(t.dataType),u=t.rawData.byteLength/i;if(t.rawData.byteLength%i!==0)throw new Error("invalid buffer length");if(n.length!==u)throw new Error("buffer length mismatch");for(let l=0;l<u;l++){let c=Uu(s,t.dataType,l*i);n[l]=c}}else{let n;switch(t.dataType){case re.onnx.TensorProto.DataType.FLOAT:n=t.floatData;break;case re.onnx.TensorProto.DataType.INT32:case re.onnx.TensorProto.DataType.INT16:case re.onnx.TensorProto.DataType.UINT16:case re.onnx.TensorProto.DataType.INT8:case re.onnx.TensorProto.DataType.UINT8:case re.onnx.TensorProto.DataType.BOOL:n=t.int32Data;break;case re.onnx.TensorProto.DataType.INT64:n=t.int64Data;break;case re.onnx.TensorProto.DataType.DOUBLE:n=t.doubleData;break;case re.onnx.TensorProto.DataType.UINT32:case re.onnx.TensorProto.DataType.UINT64:n=t.uint64Data;break;default:throw new Error("unspecific error")}if(n==null)throw new Error("failed to populate data from a tensorproto value");let s=r.data;if(s.length!==n.length)throw new Error("array length mismatch");for(let i=0;i<n.length;i++){let u=n[i];qt.isLong(u)?s[i]=vi(u,t.dataType):s[i]=u}}return r}static fromData(t,o,e){return new a(o,e,void 0,void 0,t)}static fromOrtTensor(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let o=Ve.tensorDimsFromORTFormat(t),e=Ve.tensorDataTypeFromProto(t.dataType()),r=new a(o,e);if(e==="string")for(let n=0;n<t.stringDataLength();n++)r.data[n]=t.stringData(n);else if(t.rawDataArray()&&typeof t.rawDataLength()=="number"&&t.rawDataLength()>0){let n=r.data,s=new DataView(t.rawDataArray().buffer,t.rawDataArray().byteOffset,t.rawDataLength()),i=Gu(t.dataType()),u=t.rawDataLength()/i;if(t.rawDataLength()%i!==0)throw new Error("invalid buffer length");if(n.length!==u)throw new Error("buffer length mismatch");for(let l=0;l<u;l++){let c=Uu(s,t.dataType(),l*i);n[l]=c}}return r}}});function q(a){return a===1?oh:ih}function Vu(a){let t=q(a);return`${t.version}\n      precision highp float;\n      ${t.attribute} vec3 position;\n      ${t.attribute} vec2 textureCoord;\n\n      ${t.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`}function Hu(a){let t=q(a);return`${t.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${t.varyingFrag} vec2 TexCoords;\n    ${t.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `}function ju(a,t){let o=q(a);return`\n  void main() {\n    int indices[${t}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${o.output} = result;\n  }\n  `}var oh,ih,ve=L(()=>{"use strict";oh={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},ih={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"}});var ae=L(()=>{"use strict"});async function _i(a,t=e=>0,o){return new Promise((e,r)=>{let n=0,s=()=>{if(a()){e();return}n++;let i=t(n);if(o!=null&&n>=o){r();return}setTimeout(s,i)};s()})}function no(a){return zr(typeof a<"u"&&a.length!==0,()=>"empty string found for sampler name"),"get"+a.charAt(0).toUpperCase()+a.slice(1)}function qu(a){return zr(typeof a<"u"&&a.length!==0,()=>"empty string found for sampler name"),"get"+a.charAt(0).toUpperCase()+a.slice(1)+"AtOutCoords"}function Wr(a,t){let o=JSON.parse(JSON.stringify(a));return o=t,o}function Vr(a,t){return t.map(o=>a[o]).join(", ")}function Je(a){if(a<=1)return"int";if(a===2)return"ivec2";if(a===3)return"ivec3";if(a===4)return"ivec4";if(a===5)return"ivec5";if(a===6)return"ivec6";throw Error(`GPU for rank ${a} is not yet supported`)}function Dt(a=6){return["x","y","z","w","u","v"].slice(0,a)}var Bt=L(()=>{"use strict";fe()});function ah(a,t){return Dt(t).map(o=>`${a}.${o}`)}function Hr(a,t){return t===1?[a]:ah(a,t)}function kt(){return`\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  `}var Ir=L(()=>{"use strict";Bt()});function uh(a,t,o){if(a===0)return"false";if(a===1)return`rc > ${t[0]}`;let e="";for(let r=a-2;r<a;r++)e+=`${o[r]} >= ${t[r-a+2]}`,r<a-1&&(e+="||");return e}function lh(a,t){let o=a.length;if(o===0)return"getA(), 0, 0, 0";if(o===1)return`getA(rc),\n            rc + 1 >= ${a[0]} ? 0. : getA(rc + 1),\n            0, 0`;let e="r, c",r="r, cp1",n="rp1, c",s="rp1, cp1",i="";if(o>2)for(let u=0;u<o-2;++u)i=i+`${t[u]},`;return`getA(${i}${e}),\n          rEdge ? 0. : getA(${i}${n}),\n          cEdge ? 0. : getA(${i}${r}),\n          rEdge || cEdge ? 0. : getA(${i}${s})`}function fh(a,t,o,e){return a===0||a===1?"":`\n    int r = ${t[a-2]};\n    int c = ${t[a-1]};\n    int rp1 = ${t[a-2]} + 1;\n    int cp1 = ${t[a-1]} + 1;\n    bool rEdge = rp1 >= ${e};\n    bool cEdge = cp1 >= ${o};\n    `}var Yu,sh,Xu,Ku=L(()=>{"use strict";ve();ae();Bt();Ir();Yu={name:"pack",inputNames:["A"],inputTypes:[1]},sh=(a,t)=>{let o=q(a.session.backend.glContext.version),e=t.dims,r=e.length,n=t.dims.length,s=Je(n),i=Hr("rc",n),u=fh(n,i,e[e.length-2],e[e.length-1]),l;r===0?l=[1,1]:r===1?l=[e[0],1]:l=[e[n-1],e[n-2]];let c=uh(n,l,i),d=lh(e,i),b=`\n        void main() {\n          ${s} rc = getOutputCoords();\n\n          if(${c}) {\n            ${o.output} = vec4(0);\n          } else {\n            ${u}\n\n            ${o.output} = vec4(${d});\n          }\n        }\n      `;return{...Yu,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:2},shaderSource:b}},Xu=(a,t)=>({...Yu,get:()=>sh(a,t)})});function Oi(a){if(a.length===0)return[1,1,1];let t=1;for(let o=0;o<a.length-2;++o)t*=a[o];return[t,a.length>1?a[a.length-2]:1,a[a.length-1]]}function Zu(a,t){let o=!1;return a.length===0||t.length===0?o=!0:a.length<2||t.length<2?o=a[a.length-1]===t[t.length-1]:o=a[a.length-1]===t[t.length-1]&&a[a.length-2]===t[t.length-2],o}function dh(a){let t=z.computeStrides(a),o=["b","r","c"],e="index";return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t.map((n,s)=>{let i=`int ${o[s]} = ${e} / ${n}`,u=s===t.length-1?`int ${o[s+1]} = ${e} - ${o[s]} * ${n}`:`index -= ${o[s]} * ${n}`;return`${i}; ${u};`}).join("")}\n      return ivec3(b, r, c);\n    }\n  `}function hh(a){let t=z.computeStrides(a);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${t[0]} + coords.z * ${t[1]} + coords.y;\n  }\n`}var ch,ph,Ju,Qu=L(()=>{"use strict";fe();ve();ae();Ir();ch=a=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${a}`}),ph=(a,t,o,e)=>{let r=t.dims,n=e,s="";for(let l=0;l<4;l++){let c="";switch(l){case 0:c="outputCoords = rc;";break;case 1:c="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:c="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:c="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}s+=`\n        ${c}\n        ${l>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${l}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${l>0?"}":""}\n      `}let i=q(a.session.backend.glContext.version),u=`\n      ${dh(r)}\n      ${hh(n)}\n      ${kt()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${n[2]};\n        int cols = ${n[1]};\n\n        ${s}\n        ${i.output} = result;\n      }\n    `;return{...o,output:{dims:n,type:t.type,textureType:2},shaderSource:u,hasMain:!0}},Ju=(a,t,o)=>{let e=ch(o);return{...e,get:()=>ph(a,t,e,o)}}});var Ii,el=L(()=>{"use strict";ve();ae();Ii=(a,t)=>{let o=t.shape,e=q(a.session.backend.glContext.version),r=`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${e.texture2D}(X,TexCoords).r;\n      ${e.output} = encodeAsUint8(value);\n    }`,n={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:o,type:t.tensor.type,textureType:3},shaderSource:r,hasMain:!0};return a.executeProgram(n,[t.tensor])}});function bh(a,t){if(a===1)return"rc";let o="";for(let e=0;e<a;e++)o+=t[e],e<a-1&&(o+=",");return o}var tl,mh,rl,nl=L(()=>{"use strict";ve();ae();Bt();Ir();tl={name:"unpack",inputNames:["A"],inputTypes:[2]},mh=(a,t)=>{let o=t.dims.length,e=Hr("rc",o),r=e.slice(-2),n=Je(o),s=kt(),u=t.dims.length===0?"":bh(o,e),l=o<=1?"rc":`vec2(${r.join(",")})`,c=q(a.session.backend.glContext.version),d=`\n    ${s}\n    void main() {\n      ${n} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${u});\n\n       ${c.output} = vec4(getChannel(packedInput, ${l}), 0, 0, 0);\n     }\n   `;return{...tl,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:d}},rl=(a,t)=>({...tl,get:()=>mh(a,t)})});var oo,hn,io,mn=L(()=>{"use strict";dt();oo=class{constructor(t,o=1){if(o===1)this.internalFormat=t.R32F,this.format=t.RED,this.textureType=t.FLOAT,this.channelSize=o;else if(o===4)this.internalFormat=t.RGBA32F,this.format=t.RGBA,this.textureType=t.FLOAT,this.channelSize=o;else throw new Error(`Invalid number of channels: ${o}`)}encode(t,o){let e,r;return t.constructor!==Float32Array&&(pe.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(t)),o*this.channelSize>t.length?(pe.warning("Encoder","Source data too small. Allocating larger array"),r=t,e=this.allocate(o*this.channelSize),r.forEach((n,s)=>e[s]=n)):(r=t,e=r),e}allocate(t){return new Float32Array(t*4)}decode(t,o){return this.channelSize===1?t.filter((r,n)=>n%4===0).subarray(0,o):t.subarray(0,o)}},hn=class{constructor(t,o=1,e){if(o!==1&&o!==4)throw new Error(`Invalid number of channels: ${o}`);this.internalFormat=t.RGBA,this.format=t.RGBA,this.channelSize=o,this.textureType=e||t.FLOAT}encode(t,o){let e=t;return this.channelSize===1&&(pe.verbose("Encoder","Exploding into a larger array"),e=this.allocate(o),t.forEach((r,n)=>e[n*4]=r)),e}allocate(t){return new Float32Array(t*4)}decode(t,o){return this.channelSize===1?t.filter((r,n)=>n%4===0).subarray(0,o):t.subarray(0,o)}},io=class{constructor(t,o=1){this.channelSize=4;if(o===1)this.internalFormat=t.ALPHA,this.format=t.ALPHA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=o;else if(o===4)this.internalFormat=t.RGBA,this.format=t.RGBA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=o;else throw new Error(`Invalid number of channels: ${o}`)}encode(t,o){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}allocate(t){return new Uint8Array(t*this.channelSize)}decode(t,o){if(t instanceof Uint8Array)return t.subarray(0,o);throw new Error(`Invalid array type: ${t.constructor}`)}}});var bn,ol,Si,il=L(()=>{"use strict";fe();ae();bn=(a,t,o)=>{let e=o===0||o===1?1:4,r=o===2,n=o===1||o===2,s=o===4?t.length-1:void 0,i=o===4?t.map((u,l)=>l===t.length-1?u*4:u):void 0;return Si(a,t,e,i,{isPacked:r,reverseWH:n,breakAxis:s})},ol=(a,t,o)=>{let e=bn(a,t,o);return[e.width,e.height]},Si=(a,t,o=1,e,r)=>{let n=!!(r&&r.isPacked),[s,i]=a.computeTextureWH(n&&e||t,r),u=t.length,l=t.slice(0);if(u===0&&(l=[1]),o===1)e=t;else if(n){if(o!==4)throw new Error("a packed texture must be 4-channel");e=t,u>0&&(l[u-1]=Math.ceil(l[u-1]/2)),u>1&&(l[u-2]=Math.ceil(l[u-2]/2))}else if(!e)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:i,channels:o,isPacked:n,shape:l,strides:z.computeStrides(l),unpackedShape:e,reversedWH:r&&r.reverseWH}}});var yh,ao,sl=L(()=>{"use strict";dt();Or();fe();Ku();Qu();el();nl();mn();il();ae();yh=(a,t)=>{let o=t.map(r=>`${r.unpackedShape.join(",")};${r.width}x${r.height}`).join("_"),e=a.name;return a.cacheHint&&(e+="["+a.cacheHint+"]"),e+=":"+o,e},ao=class{constructor(t){this.session=t;this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(t,o){return ol(this.session.layoutStrategy,t,o)}executeProgram(t,o){if(o.length<t.inputNames.length)throw new Error(`Input size mustn\'t be less than ${t.inputNames.length}.`);if(t.inputNames.length!==t.inputTypes.length)throw new Error("input names size does not match input types");let e=[];for(let l=0;l<t.inputNames.length;++l)e[l]=this.getOrCreateTextureData(o[l],t.inputTypes[l]);let r=yh(t,e),n=this.session.programManager.getArtifact(r),s=n?n.programInfo:typeof t.get=="function"?t.get():t,i=bn(this.session.layoutStrategy,s.output.dims,s.output.textureType),u=this.createTextureData(i,s.output.type);return n||(n=this.session.programManager.build(s,e,u),this.session.programManager.setArtifact(r,n)),this.runProgram(n,e,u),u}run(t,o){return this.executeProgram(t,o).tensor}runProgram(t,o,e){for(let r=0;r<o.length;++r)if(!!o[r].isPacked!=(t.programInfo.inputTypes[r]===2))throw new Error(`input[${r}] property packed inconsistent`);if(!!e.isPacked!=(t.programInfo.output.textureType===2))throw new Error("output property packed inconsistent");this.session.programManager.run(t,o,e)}getOrCreateTextureData(t,o){let e=this.getTextureData(t.dataId,o===2);if(!e&&(e=this.getTextureData(t.dataId,o!==2),e))return o===2?this.pack(e):this.unpack(e);if(!e){let r=bn(this.session.layoutStrategy,t.dims,o);if(o===4){let i=t.dims;if(i.length===4){let u=[i[0],Math.ceil(i[1]*i[2]*i[3]/4)],l=bn(this.session.layoutStrategy,u,o),c=t.numberData;if(i[1]*i[2]*i[3]%4!==0){let d=i[0],b=i[1]*i[2]*i[3],x=Math.ceil(b*1/4)*4,v=d*x;c=new Float32Array(v);for(let _=0;_<d;++_){let S=_*b,E=_*x+_%1*b;c.set(t.numberData.subarray(S,S+b),E)}}return this.createTextureData(l,t.type,c,t,1)}}if(o===2){let n=Si(this.session.layoutStrategy,t.dims,1,[],{reverseWH:!0}),s=this.createTextureData(n,t.type,t.numberData,t,1);e=this.pack(s)}else e=this.createTextureData(r,t.type,t.numberData,t,1)}return e}createTextureDataFromLayoutBindTensor(t,o,e,r){return this.createTextureData(t,o,e,r,1)}createTextureData(t,o,e,r,n){pe.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(t)}]`);let s=this.session.textureManager.createTextureFromLayout(o,t,e,n);return this.createTextureDataFromTexture(t,o,s,r)}reshapeUnpacked(t,o){let e=this.getOrCreateTextureData(t,0),r={channels:e.channels,height:e.height,width:e.width,shape:o.length!==0?o:[1],strides:z.computeStrides(o),unpackedShape:o};return this.createTextureDataFromTexture(r,t.type,e.texture).tensor}reshapePacked(t,o){let e=this.getOrCreateTextureData(t,2);if(Zu(t.dims,o)){let l={channels:e.channels,height:e.height,width:e.width,shape:o.length!==0?o:[1],strides:z.computeStrides(o),unpackedShape:o,isPacked:!0};return this.createTextureDataFromTexture(l,t.type,e.texture).tensor}let r=Oi(t.dims),n=Oi(o),s=this.reshapePacked(t,r),i=this.run(Ju(this,s,n),[s]);return this.reshapePacked(i,o)}cast(t,o){let e=this.getOrCreateTextureData(t,0);return this.createTextureDataFromTexture(e,o,e.texture).tensor}createTextureDataFromTexture(t,o,e,r,n){let s={...t,tensor:r||new $e(t.unpackedShape,o,i=>this.readTexture(s),async i=>this.readTextureAsync(s),void 0,n),texture:e};return this.setTextureData(s.tensor.dataId,s,t.isPacked),s}getTextureData(t,o=!1){return this.session.isInitializer(t)?this.session.getTextureData(t,o):o?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)}setTextureData(t,o,e=!1){this.session.isInitializer(t)?this.session.setTextureData(t,o,e):(e?this.packedTextureDataCache:this.unpackedTextureDataCache).set(t,o)}isTextureLayoutCached(t,o=!1){return!!this.getTextureData(t.dataId,o)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(t=>this.session.textureManager.releaseTexture(t)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(t=>this.session.textureManager.releaseTexture(t)),this.unpackedTextureDataCache=new Map}readTexture(t){return t.isPacked?this.readTexture(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat(Ii(this,t))}async readTextureAsync(t){return t.isPacked?this.readTextureAsync(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat(Ii(this,t))}pack(t){return this.executeProgram(Xu(this,t.tensor),[t.tensor])}unpack(t){return this.executeProgram(rl(this,t.tensor),[t.tensor])}}});var Ai,te,Me=L(()=>{"use strict";Ai=class{constructor(t){Object.assign(this,t)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(t=>`${this[t]}`).join(";")),this.key}},te=a=>new Ai(a)});var ul,ll,fl,Th,xh,cl=L(()=>{"use strict";Me();ve();ae();ul={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},ll=(a,t,o)=>(xh(t),[a.run({...ul,cacheHint:o.cacheKey,get:()=>Th(a,t,o)},t)]),fl=a=>{let t=a.attributes.getFloat("epsilon",1e-5),o=a.attributes.getFloat("momentum",.9),e=a.attributes.getInt("spatial",1);return te({epsilon:t,momentum:o,spatial:e})},Th=(a,t,o)=>{let e=q(a.session.backend.glContext.version),r=t[0].dims.length,[n,s]=a.calculateTextureWidthAndHeight(t[1].dims,0),i=`\n  float process(int[${r}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${n}, ${s});\n    float scale = getColorAsFloat(${e.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${e.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${e.texture2D}(Variance, position));\n    float b = getColorAsFloat(${e.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${o.epsilon})) ) + b;\n  }`;return{...ul,output:{dims:t[0].dims,type:t[0].type,textureType:0},shaderSource:i}},xh=a=>{if(!a||a.length!==5)throw new Error("BatchNormalization requires 5 inputs.");let t=a[0],o=a[1],e=a[2],r=a[3],n=a[4];if(t.dims.length<3||o.dims.length!==1||e.dims.length!==1||r.dims.length!==1||n.dims.length!==1)throw new Error("invalid input shape.");if(o.dims[0]!==t.dims[1]||e.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||n.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if(t.type!=="float32"&&t.type!=="float64"||o.type!=="float32"&&o.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||n.type!=="float32"&&n.type!=="float64")throw new Error("invalid input tensor types.")}});var so,gt,G,gn,uo,Yt=L(()=>{"use strict";so=class{constructor(t,o,e,r){this.glContext=t;this.programInfo=o;this.inputTextureLayouts=e;this.outputTextureLayout=r}},gt=class{constructor(t){this.context=t}},G=class{constructor(t,o){this.routineBody=t;this.dependencies=o}},gn=class{constructor(t,o,e){this.name=t;e?this.dependencies=e:this.dependencies=[],o&&(this.routineBody=o)}addDependency(t){t&&this.dependencies.push(t)}},uo=class{static returnOrderedNodes(t){if(!t||t.length===0)return[];if(t.length===1)return t;let o=new Set,e=new Set,r=new Array;return this.createOrderedNodes(t,o,e,r),r}static createOrderedNodes(t,o,e,r){for(let n=0;n<t.length;++n)this.dfsTraverse(t[n],o,e,r)}static dfsTraverse(t,o,e,r){if(!t||e.has(t.name))return;if(o.has(t.name))throw new Error("Cyclic dependency detected. Can\'t topologically sort routines needed for shader.");o.add(t.name);let n=t.dependencies;if(n&&n.length>0)for(let s=0;s<n.length;++s)this.dfsTraverse(n[s],o,e,r);r.push(t),e.add(t.name),o.delete(t.name)}}});function vh(){let a="add_";return{body:`\n  float ${a}(float a, float b) {\n    return a + b;\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  `,name:a,type:0}}function _h(){let a="div_";return{body:`\n  float ${a}(float a, float b) {\n    return a / b;\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  `,name:a,type:0}}function Oh(){let a="mul_";return{body:`\n  float ${a}(float a, float b) {\n    return a * b;\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  `,name:a,type:0}}function Ih(){let a="sub_";return{body:`\n  float ${a}(float a, float b) {\n    return a - b;\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  `,name:a,type:0}}function Sh(){let a="equal_";return{body:`\n  float ${a}(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  `,name:a,type:0}}function Ah(){let a="greater_";return{body:`\n  float ${a}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:a,type:0}}function Eh(){let a="less_";return{body:`\n  float ${a}(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  `,name:a,type:0}}function Ph(){let a="and_";return{body:`\n  float ${a}(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  `,name:a,type:0}}function Dh(){let a="or_";return{body:`\n  float ${a}(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  `,name:a,type:0}}function Lh(){let a="xor_";return{body:`\n  float ${a}(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  `,name:a,type:0}}function Fh(){return $h("pow")}function Ch(){let a="prelu_";return{body:`\n  float ${a}(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ${a}(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  `,name:a,type:0}}function $h(a){let t=`${a}_`;return{body:`\n  float ${t}(float a, float b) {\n    return ${a}(a, b);\n  }\n  vec4 ${t}(vec4 v1, vec4 v2) {\n    return ${a}(v1, v2);\n  }\n  `,name:t,type:0}}var yt,Bh,pl,dl,hl,ml,bl,gl,yl,Tl,xl,wl,vl,_l,Ol=L(()=>{"use strict";fe();Yt();ve();ae();yt=(a,t,o,e=t[0].type,r)=>{let n=a.session.pack?2:0;return{name:o.name,inputNames:["A","B"],inputTypes:[n,n],cacheHint:r,get:()=>Bh(a,t,o,e)}},Bh=(a,t,o,e=t[0].type)=>{let r=a.session.pack?2:0,n=!z.areEqual(t[0].dims,t[1].dims),s=t[0].dims,i=a.session.pack;if(n){let c=Ke.calcShape(t[0].dims,t[1].dims,!1);if(!c)throw new Error("Can\'t perform binary op on the given tensors");s=c;let d=s.length,b=t[0].dims.length!==0?t[0].dims.length:1,x=t[1].dims.length!==0?t[1].dims.length:1,v=t[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",_=t[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",S=q(a.session.backend.glContext.version),E=i?`\n      ${o.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${o.name}(a, b);\n        ${S.output} = result;\n      }`:`\n      ${o.body}\n      float process(int indices[${d}]) {\n        int aindices[${b}];\n        int bindices[${x}];\n        ${v}\n        ${_}\n        return ${o.name}(_A(aindices), _B(bindices));\n      }`;return{name:o.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:s,type:e,textureType:r},shaderSource:E,hasMain:i}}let u=q(a.session.backend.glContext.version),l=`\n    ${o.body}\n    void main() {\n      vec4 v1 = ${u.texture2D}(A, TexCoords);\n      vec4 v2 = ${u.texture2D}(B, TexCoords);\n      vec4 result = ${o.name}(v1, v2);\n      ${u.output} = result;\n    }\n    `;return{name:o.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:t[0].dims,type:e,textureType:r},shaderSource:l,hasMain:!0}},pl=(a,t)=>[a.run(yt(a,t,vh()),t)],dl=(a,t)=>[a.run(yt(a,t,Ph(),"bool"),t)],hl=(a,t)=>[a.run(yt(a,t,_h()),t)],ml=(a,t)=>[a.run(yt(a,t,Sh(),"bool"),t)],bl=(a,t)=>[a.run(yt(a,t,Ah(),"bool"),t)],gl=(a,t)=>[a.run(yt(a,t,Eh(),"bool"),t)],yl=(a,t)=>[a.run(yt(a,t,Oh()),t)],Tl=(a,t)=>[a.run(yt(a,t,Dh(),"bool"),t)],xl=(a,t)=>[a.run(yt(a,t,Fh()),t)],wl=(a,t)=>[a.run(yt(a,t,Ch()),t)],vl=(a,t)=>[a.run(yt(a,t,Ih()),t)],_l=(a,t)=>[a.run(yt(a,t,Lh(),"bool"),t)]});var Il,Sl,Nh,Al=L(()=>{"use strict";fe();Il=(a,t,o)=>(Nh(t),[a.cast(t[0],o)]),Sl=a=>Ve.tensorDataTypeFromProto(a.attributes.getInt("to")),Nh=a=>{if(!a||a.length!==1)throw new Error("Cast requires 1 input.");if(a[0].type==="string")throw new Error("Invalid input type.")}});var Rh,Mh,El,lo,Pl=L(()=>{"use strict";ve();ae();Bt();Ir();Rh=(a,t)=>({name:"Concat (packed)",inputNames:Array.from({length:a},(o,e)=>`X${e}`),inputTypes:Array(a).fill(2),cacheHint:t}),Mh=(a,t,o,e)=>{let r=o[0].dims.slice();if(e>=r.length||e<-1*r.length)throw new Error("axis specified for concat doesn\'t match input dimensionality");e<0&&(e=r.length+e);let n=r.slice(0);for(let Y=1;Y<o.length;Y++){let U=o[Y].dims.slice();for(let ie=0;ie<r.length;ie++)if(ie===e)n[e]+=U[ie];else if(r[ie]!==U[ie])throw new Error("non concat dimensions must match")}let s=n.length,i=Hr("coords",s),u=Je(s),l=kt(),c=o.map(Y=>Y.dims),d=Dt(s),b=new Array(c.length-1);b[0]=c[0][e];for(let Y=1;Y<b.length;Y++)b[Y]=b[Y-1]+c[Y][e];let x=d[e],v=d.slice(-2),_=d.join(),S=`if (${x} < ${b[0]}) {\n        return getChannel(\n            getX0(${_}), vec2(${v.join()}));\n        }`;for(let Y=1;Y<b.length;Y++){let U=b[Y-1];S+=`\n            if (${x} < ${b[Y]}  && ${x} >= ${b[Y-1]}) {\n              return getChannel(\n                getX${Y}(${lo(d,x,U)}),\n                vec2(${lo(v,x,U)}));\n            }`}let E=b.length,C=b[b.length-1];S+=`\n            return getChannel(\n              getX${E}(${lo(d,x,C)}),\n              vec2(${lo(v,x,C)}));`;let N=q(a.session.backend.glContext.version),J=`\n          ${l}\n          float getValue(${d.map(Y=>"int "+Y)}) {\n            ${S}\n          }\n\n          void main() {\n            ${u} coords = getOutputCoords();\n            int lastDim = coords.${d[s-1]};\n            coords.${d[s-1]} = coords.${d[s-2]};\n            coords.${d[s-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${i}), 0., 0., 0.);\n\n            ${i[s-1]} = ${i[s-1]} + 1;\n            if (${i[s-1]} < ${n[s-1]}) {\n              result.g = getValue(${i});\n            }\n\n            ${i[s-2]} = ${i[s-2]} + 1;\n            if (${i[s-2]} < ${n[s-2]}) {\n              result.a = getValue(${i});\n            }\n\n            ${i[s-1]} = ${i[s-1]} - 1;\n            if (${i[s-2]} < ${n[s-2]} &&\n                ${i[s-1]} < ${n[s-1]}) {\n              result.b = getValue(${i});\n            }\n            ${N.output} = result;\n          }\n        `;return{...t,output:{dims:n,type:o[0].type,textureType:2},shaderSource:J,hasMain:!0}},El=(a,t,o)=>{let e=Rh(t.length,o.cacheKey);return{...e,get:()=>Mh(a,e,t,o.axis)}},lo=(a,t,o)=>{let e=a.indexOf(t);return a.map((n,s)=>s===e?`${n} - ${o}`:n).join()}});var Dl,Gh,Uh,zh,Ll,Wh,Vh,Hh,Fl,jh,Cl=L(()=>{"use strict";Me();ae();Pl();Dl=(a,t,o)=>(jh(t),a.session.pack&&t[0].dims.length>1?[a.run(El(a,t,o),t)]:[a.run(zh(a,t,o),t)]),Gh=(a,t)=>({name:"Concat",inputNames:Array.from({length:a},(o,e)=>`X${e}`),inputTypes:Array(a).fill(0),cacheHint:t}),Uh=(a,t,o,e)=>{let r=o[0].dims.slice();if(e>=r.length||e<-1*r.length)throw new Error("axis specified for concat doesn\'t match input dimensionality");e<0&&(e=r.length+e);let n=r.slice(0);for(let x=1;x<o.length;x++){let v=o[x].dims.slice();for(let _=0;_<r.length;_++)if(_===e)n[e]+=v[_];else if(r[_]!==v[_])throw new Error("non concat dimensions must match")}let s=n.length,i=new Array(o.length),u=0;for(let x=0;x<i.length;++x)u+=o[x].dims[e],i[x]=u;let l="";o.length<5?l=Ll(i):l=Wh(i);let c=Vh(o.length,s),d=Hh(i),b=`\n        ${c}\n        ${d}\n        ${l}\n        float process(int indices[${s}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${e}]);\n\n          if(textureIndex != 0) {\n            indices[${e}] = indices[${e}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return{...t,output:{dims:n,type:o[0].type,textureType:0},shaderSource:b}},zh=(a,t,o)=>{let e=Gh(t.length,o.cacheKey);return{...e,get:()=>Uh(a,e,t,o.axis)}},Ll=a=>`int getTextureWhereDataResides(int index) {\n      ${a.map((o,e)=>`if(index<${o}) {return ${e};}\n`).join("")}\n    }`,Wh=a=>Ll(a),Vh=(a,t)=>{let o=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let e=0;e<a;++e)e===0?o.push(`\tif (textureIndex == ${e}) { return _X${e}(indices); }`):e===a-1?o.push(`\telse { return _X${e}(indices); }`):o.push(`\telse if (textureIndex == ${e}) { return _X${e}(indices); }`);return o.push("\t}"),o.join(`\n`)},Hh=a=>{let t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let o=0;o<a.length;++o)o===0?t.push(`\tif (index == ${o}) { return ${a[o]}; }`):o===a.length-1?t.push(`\telse { return ${a[o]}; }`):t.push(`\telse if (index == ${o}) { return ${a[o]}; }`);return t.push("\t}"),t.join(`\n`)},Fl=a=>te({axis:a.attributes.getInt("axis")}),jh=a=>{if(!a||a.length<1)throw new Error("too few inputs");let t=a[0].type,o=a[0].dims.length;if(t==="string")throw new Error("string tensor is not supported yet");for(let e of a){if(e.type!==t)throw new Error("input tensors should be one type");if(e.dims.length!==o)throw new Error("input tensors should have the same shape")}}});function qh(){return Tt("abs")}function Yh(){return Tt("acos")}function Xh(){return Tt("asin")}function Kh(){return Tt("atan")}function Jh(){return Tt("ceil")}function Zh(){return Tt("cos")}function Qh(a){let t="elu";return{body:`\n  const float alpha = float(${a});\n\n  float ${t}_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:0}}function em(){return Tt("exp")}function tm(){return Tt("floor")}function Ei(a,t){let o="clip";return{body:`\n  const float min = float(${a});\n  const float max = float(${t});\n\n  float ${o}_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ${o}_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:o,type:0}}function rm(){let a="indentity";return{body:`\n  float ${a}_(float a) {\n    return a;\n  }\n  vec4 ${a}_(vec4 v) {\n    return v;\n  }\n  `,name:a,type:0}}function nm(a){let t="leakyRelu";return{body:`\n  const float alpha = float(${a});\n\n  float ${t}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:0}}function om(){return Tt("log")}function im(){let a="neg";return{body:`\n  float ${a}_(float a) {\n    return -a;\n  }\n  vec4 ${a}_(vec4 v) {\n    return -v;\n  }\n  `,name:a,type:0}}function am(){let a="not";return{body:`\n  float ${a}_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ${a}_(bool a) {\n    return !a;\n  }\n  vec4 ${a}_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ${a}_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  `,name:a,type:0}}function sm(){return Tt("sin")}function Pi(){let a="relu";return{body:`\n  float ${a}_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ${a}_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  `,name:a,type:0}}function Di(){let a="sigmoid";return{body:`\n  float ${a}_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ${a}_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  `,name:a,type:0}}function um(){return Tt("sqrt")}function lm(){return Tt("tan")}function fm(){let a="tanh";return{body:`\n  float ${a}_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ${a}_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  `,name:a,type:0}}function Tt(a){return{body:`\n  float ${a}_(float a) {\n    return ${a}(a);\n  }\n  vec4 ${a}_(vec4 v) {\n    return ${a}(v);\n  }\n  `,name:a,type:0}}var cm,Fe,$l,Bl,kl,Nl,Li,Rl,Ml,pm,Gl,Ul,zl,Wl,Vl,Hl,Fi,jl,ql,Yl,Xl,Kl,Jl,Zl,Ql,ef,tf,rf,Ci=L(()=>{"use strict";Me();fe();Yt();ve();ae();cm=(a,t,o,e)=>{let r=a.session.pack?2:0,n=q(a.session.backend.glContext.version);return{...t,output:{dims:o.dims,type:o.type,textureType:r},shaderSource:`\n     ${e.body}\n     void main() {\n       vec4 v = ${n.texture2D}(A, TexCoords);\n       v = ${e.name}_(v);\n       ${n.output} = v;\n     }\n     `,hasMain:!0}},Fe=(a,t,o,e)=>{let r=a.session.pack?2:0,n={name:o.name,inputTypes:[r],inputNames:["A"],cacheHint:e};return{...n,get:()=>cm(a,n,t,o)}},$l=(a,t)=>[a.run(Fe(a,t[0],qh()),t)],Bl=(a,t)=>[a.run(Fe(a,t[0],Yh()),t)],kl=(a,t)=>[a.run(Fe(a,t[0],Xh()),t)],Nl=(a,t)=>[a.run(Fe(a,t[0],Kh()),t)],Li=(a,t,o)=>[a.run(Fe(a,t[0],Ei(o.min,o.max),o.cacheKey),t)],Rl=a=>te({min:a.attributes.getFloat("min",vr),max:a.attributes.getFloat("max",_r)}),Ml=(a,t)=>{let o=pm(a,t);return Li(a,[t[0]],o)},pm=(a,t)=>{if(t.length>=3&&(!a.session.isInitializer(t[1].dataId)||!a.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");let o=t.length>=3?t[1].numberData[0]:vr,e=t.length>=3?t[2].numberData[0]:_r;return te({min:o,max:e})},Gl=(a,t)=>[a.run(Fe(a,t[0],Jh()),t)],Ul=(a,t)=>[a.run(Fe(a,t[0],Zh()),t)],zl=(a,t,o)=>[a.run(Fe(a,t[0],Qh(o.alpha),o.cacheKey),t)],Wl=a=>te({alpha:a.attributes.getFloat("alpha",1)}),Vl=(a,t)=>[a.run(Fe(a,t[0],em()),t)],Hl=(a,t)=>[a.run(Fe(a,t[0],tm()),t)],Fi=(a,t)=>[a.run(Fe(a,t[0],rm()),t)],jl=(a,t,o)=>[a.run(Fe(a,t[0],nm(o.alpha),o.cacheKey),t)],ql=a=>te({alpha:a.attributes.getFloat("alpha",.01)}),Yl=(a,t)=>[a.run(Fe(a,t[0],om()),t)],Xl=(a,t)=>[a.run(Fe(a,t[0],im()),t)],Kl=(a,t)=>[a.run(Fe(a,t[0],am()),t)],Jl=(a,t)=>[a.run(Fe(a,t[0],Pi()),t)],Zl=(a,t)=>[a.run(Fe(a,t[0],Di()),t)],Ql=(a,t)=>[a.run(Fe(a,t[0],sm()),t)],ef=(a,t)=>[a.run(Fe(a,t[0],um()),t)],tf=(a,t)=>[a.run(Fe(a,t[0],lm()),t)],rf=(a,t)=>[a.run(Fe(a,t[0],fm()),t)]});function Nt(a){let t;switch(a.activation){case"Relu":t=Pi();break;case"Sigmoid":t=Di();break;case"Clip":t=Ei(a.clipMin,a.clipMax);break;default:return{activationFunction:"",applyActivation:""}}let o=t.name,e=t.body,r=`value = ${o}_(value);`;return{activationFunction:e,applyActivation:r}}var jr,Sr=L(()=>{"use strict";fe();Ci();jr=a=>{let t=a.getString("activation","");if(t==="Clip"){let[o,e]=a.getFloats("activation_params",[vr,_r]);return{activation:t,clipMax:e,clipMin:o,activationCacheKey:`${t}:${o},${e}`}}return{activation:t,activationCacheKey:t}}});var hm,mm,nf,of=L(()=>{"use strict";dt();ve();ae();fo();Sr();hm=(a,t)=>({name:"GroupedConv",inputNames:a?["X","W","Bias"]:["X","W"],inputTypes:a?[0,0,0]:[0,0],cacheHint:t}),mm=(a,t,o,e)=>{let n=t.length>2?"value += getBias(output_channel);":"",s=t[0].dims.slice(),i=t[1].dims.slice(),u=i[0]/e.group;pe.verbose("GroupedConv",`autpPad:${e.autoPad}, dilations:${e.dilations}, group:${e.group}, kernelShape:${e.kernelShape}, pads:${e.pads}, strides:${e.strides}`);let l=qr(s,i,e.dilations,e.pads,e.strides),c=q(a.session.backend.glContext.version),{activationFunction:d,applyActivation:b}=Nt(e),x=`\n  const ivec2 strides = ivec2(${e.strides[0]}, ${e.strides[1]});\n  const ivec2 pads = ivec2(${e.pads[0]}, ${e.pads[1]});\n  ${d}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${u};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${i[1]}; wInChannel++) {\n      int input_channel = group_id * ${i[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${i[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${e.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${s[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${i[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${e.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${s[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${n}\n    ${b}\n    ${c.output} = vec4(value, .0, .0, .0);\n  }\n`;return{...o,output:{dims:l,type:t[0].type,textureType:0},shaderSource:x,hasMain:!0}},nf=(a,t,o)=>{let e=hm(t.length>2,o.cacheKey);return{...e,get:()=>mm(a,t,e,o)}}});var bm,gm,af,sf=L(()=>{"use strict";ve();ae();Ir();bm=a=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:a}),gm=(a,t,o,e,r,n)=>{let s=o.dims,i=e.dims,u=2,l=3,c=r.length,d=[i[1]*i[2]*i[3],r[2]*r[3]],b=i[2]*i[3],x=kt(),v=q(a.session.backend.glContext.version),_="";for(let E=0;E<=1;E++)for(let C=0;C<=1;C++)_+=`\n            blockIndex = rc.x + ${C};\n            pos = rc.y + ${E};\n\n            if(blockIndex < ${d[1]} && pos < ${d[0]}) {\n              offsetY = int(blockIndex / (${r[c-1]})) * ${n.strides[0]} -\n                ${n.pads[0]};\n              d0 = offsetY + ${n.dilations[0]} * (imod(pos, ${b}) / ${i[2]});\n\n              if(d0 < ${s[u]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${r[c-1]}) * ${n.strides[1]} -\n                  ${n.pads[1]};\n                d1 = offsetX + ${n.dilations[1]} * imod(imod(pos, ${b}), ${i[2]});\n\n                if(d1 < ${s[l]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${b}.);\n                    innerDims = vec2(d0, d1);\n                    result[${E*2+C}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;let S=`\n      ${x}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${_}\n          ${v.output} = result;\n      }\n            `;return{...t,output:{dims:d,type:o.type,textureType:2},shaderSource:S,hasMain:!0}},af=(a,t,o,e,r)=>{let n=bm(r.cacheKey);return{...n,get:()=>gm(a,n,t,o,e,r)}}});function Tm(a,t,o){let e=t[0].dims,r=t[1].dims,n=Ke.calcShape(e,r,!0);if(!n)throw new Error("Can\'t use matmul on the given tensors");let s=Je(n.length),i=Dt(),{activationFunction:u,applyActivation:l}=Nt(o),c=t.length>2,d=c?"value += getBiasForMatmul();":"",b=c?`${Bi(s,i,t[2].dims,n,!1)}`:"",x=n.length,v=e.length,_=r.length,S=e[e.length-1],E=`\n    ${u}\n    ${b}\n    float process(int indices[${x}]) {\n        int a[${v}];\n        int b[${_}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${S}; ++k) {\n            a[${v-1}] = k;\n            b[${_-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${d}\n        ${l}\n        return value;\n    }`;return{...a,output:{dims:n,type:t[0].type,textureType:0},shaderSource:E}}function $i(a,t){let o=ym(a.length>2,t.activationCacheKey);return{...o,get:()=>Tm(o,a,t)}}function Bi(a,t,o,e,r){let n="",s=o.length,i=e.length,u=i-s;i<2&&s>0?n="coords":n=o.map((_,S)=>`coords.${t[S+u]}`).join(", ");let c=Ke.getBroadcastDims(o,e).map(_=>`coords.${t[_+u]} = 0;`).join(`\n`),b=z.size(o)===1,x="vec4(outputValue.xx, outputValue.yy)";return b&&(x="vec4(outputValue.x)"),r?`\nvec4 getBiasForMatmul() {\n  ${a} coords = getOutputCoords();\n  ${c}\n  vec4 outputValue = getBias(${n});\n  return ${x};\n}`:`\nfloat getBiasForMatmul() {\n  ${a} coords = getOutputCoords();\n  ${c}\n  return getBias(coords.x);\n}`}var uf,lf,ym,xm,co=L(()=>{"use strict";fe();ae();Bt();Sr();ki();uf=(a,t,o)=>(xm(t),a.session.pack?[a.run(po(a,t,o),t)]:[a.run($i(t,o),t)]),lf=a=>jr(a.attributes),ym=(a,t)=>({name:"MatMul",inputNames:a?["A","B","Bias"]:["A","B"],inputTypes:a?[0,0,0]:[0,0],cacheHint:t});xm=a=>{if(!a||a.length!==2)throw new Error("MatMul requires 2 inputs.");if(a[0].dims[a[0].dims.length-1]!==a[1].dims[a[1].dims.length-2])throw new Error("shared dimension does not match.");if(a[0].type!=="float32"&&a[0].type!=="float64"||a[1].type!=="float32"&&a[1].type!=="float64")throw new Error("inputs should be float type");if(a[0].type!==a[1].type)throw new Error("inputs types should match")}});function _m(a,t,o,e){let r=[],n=[],s=o[0].dims,i=o[1].dims,u=s.length,l=i.length,c=e.length,d=c-u,b=c-l;r=s.map((N,J)=>`coords.${t[J+d]}`),r[u-1]="i*2",r.join(", "),n=i.map((N,J)=>`coords.${t[J+b]}`),n[l-2]="i*2",n.join(", ");let x=Ke.getBroadcastDims(s,e),v=Ke.getBroadcastDims(i,e),_=x.map(N=>`coords.${t[N+d]} = 0;`).join(`\n`),S=v.map(N=>`coords.${t[N+b]} = 0;`).join(`\n`),E=`int lastDim = coords.${t[c-1]};\n  coords.${t[c-1]} = coords.${t[c-2]};\n  coords.${t[c-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${a} coords = getOutputCoords();\n  ${E}\n  ${_}\n  vec4 outputValue = getA(${r});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${a} coords = getOutputCoords();\n  ${E}\n  ${S}\n  vec4 outputValue = getB(${n});\n  return outputValue;\n}`}function Om(a,t){let o="";for(let e=0;e<t-2;e++)o+=`rc.${a[e]}, `;return o+=`rc.${a[t-2]}, i*2`,o}function Im(a,t){let o="";for(let e=0;e<t-2;e++)o+=`rc.${a[e]}, `;return o+=`i*2, rc.${a[t-1]}`,o}var wm,vm,po,ki=L(()=>{"use strict";fe();ve();ae();Bt();Sr();co();wm=(a,t)=>({name:"MatMul (packed)",inputNames:a?["A","B","Bias"]:["A","B"],inputTypes:a?[2,2,2]:[2,2],cacheHint:t}),vm=(a,t,o,e)=>{let r=o.length>2,n=r?"value += getBiasForMatmul();":"",s=o[0].dims,i=o[1].dims,u=Ke.calcShape(s,i,!0),l=!z.areEqual(o[0].dims,o[1].dims);if(!u)throw new Error("Can\'t use matmul on the given tensors");let c=s[s.length-1],d=Math.ceil(c/2),b=s.length,x=i.length,v=q(a.session.backend.glContext.version),_=Je(u.length),S=u.length,E=Dt(),{activationFunction:C,applyActivation:N}=Nt(e),J=r?`${Bi(_,E,o[2].dims,u,!0)}`:"",Y=l?`${_m(_,E,o,u)}`:"",U=l?"getAAtOutCoordsMatmul(i)":`getA(${Om(E,b)})`,ie=l?"getBAtOutCoordsMatmul(i)":`getB(${Im(E,x)})`,Be=l?"":`${_} rc =\n          getOutputCoords(); int lastDim = rc.${E[S-1]}; rc.${E[S-1]} =\n          rc.${E[S-2]}; rc.${E[S-2]} = lastDim;\n      `,je=`\n            ${Y}\n            ${J}\n            ${C}\n            void main() {\n              ${Be}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${d}; i++) {\n                vec4 a = ${U};\n                vec4 b = ${ie};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${n}\n              ${N}\n              ${v.output} = value;\n            }`;return{...t,output:{dims:u,type:o[0].type,textureType:2},shaderSource:je,hasMain:!0}},po=(a,t,o)=>{let e=wm(t.length>2,o.activationCacheKey);return{...e,get:()=>vm(a,e,t,o)}}});var ff,cf=L(()=>{"use strict";fo();sf();ki();ff=(a,t,o)=>{let e=t[0].dims,r=t[1].dims,n=qr(e,r,o.dilations,o.pads,o.strides),s=a.run(af(a,t[0],t[1],n,o),[t[0]]),i=a.reshapePacked(t[1],[r[0],r[1]*r[2]*r[3]]),u=t.length===3?[i,s,t[2]]:[i,s],l=a.run(po(a,u,o),u);return a.reshapePacked(l,n)}});var Sm,Am,pf,Ni,Ri=L(()=>{"use strict";ae();Sm=a=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:a}),Am=(a,t,o,e,r,n)=>{let s=o.dims,i=e.dims,u=r.length,l=Ni(s,i,r,4),c=`\n        const int XC = ${s[1]};\n        const int XH = ${s[2]};\n        const int XW = ${s[3]};\n        const int KH = ${n.kernelShape[0]};\n        const int KW = ${n.kernelShape[1]};\n        const int dilationH = ${n.dilations[0]};\n        const int dilationW = ${n.dilations[1]};\n        const int strideH = ${n.strides[0]};\n        const int strideW = ${n.strides[1]};\n        const int padH = ${n.pads[0]};\n        const int padW = ${n.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${u}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${s.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return{...t,output:{dims:l,type:o.type,textureType:4},shaderSource:c}},pf=(a,t,o,e,r)=>{let n=Sm(r.cacheKey);return{...n,get:()=>Am(a,n,t,o,e,r)}},Ni=(a,t,o,e=4)=>[o[0],o[2],o[3],Math.ceil(a[1]*t[2]*t[3]/e)]});var Em,Pm,df,hf=L(()=>{"use strict";fe();ve();ae();Sr();Ri();Em=(a,t)=>({name:"ConvDotProduct",inputNames:a?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:a?[0,4,0]:[0,4],cacheKey:t.activationCacheKey}),Pm=(a,t,o,e,r)=>{let n=o[0].dims,s=o[1].dims,i=[s[0],Math.ceil(n[1]*s[2]*s[3]/4)],u=Ni(n,s,e),[l,c]=a.calculateTextureWidthAndHeight(i,4),d=z.computeStrides(u),[b,x]=a.calculateTextureWidthAndHeight(u,4),v=e.length,_=o.length<3?"0.0":"_B(b)",S=Math.ceil(n[1]*s[2]*s[3]/4),{activationFunction:E,applyActivation:C}=Nt(r),N=q(a.session.backend.glContext.version),J=`\n${E}\nfloat process(int indices[${v}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${d[0]} + im2col[1] * ${d[1]} + im2col[2] * ${d[2]};\n  int kernelOffset = indices[1] * ${i[1]};\n  float value = ${_};\n  for (int i = 0; i < ${S}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${b}, ${x});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${l}, ${c});\n    value += dot(${N.texture2D}(Im2Col, im2colCoords), ${N.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${C}\n  return value;\n}`;return{...t,output:{dims:e,type:o[0].type,textureType:0},shaderSource:J}},df=(a,t,o,e)=>{let r=Em(t.length>2,e);return{...r,get:()=>Pm(a,r,t,o,e)}}});var qr,Mi,Dm,Lm,Fm,Cm,Gi,$m,fo=L(()=>{"use strict";Me();fe();of();cf();hf();Sr();Ri();co();qr=(a,t,o,e,r)=>{let n=a[0],s=a.slice(2),i=s.length,u=t[0],c=t.slice(2).map((v,_)=>v+(v-1)*(o[_]-1)),b=s.map((v,_)=>v+e[_]+e[_+i]).map((v,_)=>Math.floor((v-c[_]+r[_])/r[_]));return[n,u].concat(...b)},Mi=(a,t,o)=>($m(t,o),Dm(a,t,o)),Dm=(a,t,o)=>{let e=Cm(o,t),r=a.session.pack,n=e.kernelShape[0]===1&&e.kernelShape[1]===1;return e.group>1?[a.run(nf(a,t,e),t)]:n&&r?[Lm(a,t,e)]:r&&t[0].dims.length===4&&t[0].dims[0]===1&&!n?[ff(a,t,e)]:[Fm(a,t,e)]},Lm=(a,t,o)=>{let e=t[0].dims,r=t[1].dims,n=qr(e,r,o.dilations,o.pads,o.strides),s=a.reshapeUnpacked(t[0],[e[1],e[2]*e[3]]),i=a.reshapeUnpacked(t[1],[r[0],r[1]]),u=t.length>2?[i,s,t[2]]:[i,s],l=a.run($i(u,o),u);return a.reshapeUnpacked(l,n)},Fm=(a,t,o)=>{let e=t[0].dims,r=t[1].dims,n=qr(e,r,o.dilations,o.pads,o.strides),s=a.run(pf(a,t[0],t[1],n,o),[t[0]]),i=t.length===3?[s,t[1],t[2]]:[s,t[1]];return a.run(df(a,t,n,o),i)},Cm=(a,t)=>{let o=a.kernelShape.slice();if(a.kernelShape.length===0)for(let n=2;n<t[1].dims.length;++n)o.push(t[1].dims[n]);let e=a.pads.slice();wr.adjustPadsBasedOnAutoPad(t[0].dims,a.strides,a.dilations,o,e,a.autoPad);let r=Object.assign({},a);return Object.assign(r,{kernelShape:o,pads:e,cacheKey:a.cacheKey}),r},Gi=a=>{let t=a.attributes,o=jr(t),e=t.getString("auto_pad","NOTSET"),r=t.getInts("dilations",[1,1]),n=t.getInt("group",1),s=t.getInts("kernel_shape",[]),i=t.getInts("pads",[0,0,0,0]),u=t.getInts("strides",[1,1]);return te({autoPad:e,dilations:r,group:n,kernelShape:s,pads:i,strides:u,...o})},$m=(a,t)=>{if(!a||a.length!==2&&a.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(a[0].dims.length!==4||a[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let o=a[0].dims[1],e=a[1].dims[1]*t.group;if(o!==e)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(a.length===3&&(a[2].dims.length!==1||a[1].dims[0]!==a[2].dims[0]))throw new Error("invalid bias");let r=a[0].dims.length-2;if(t.dilations.length!==r)throw new Error(`dilations should be ${r}D`);if(t.strides.length!==r)throw new Error(`strides should be ${r}D`);if(t.pads.length!==r*2)throw new Error(`pads should be ${r*2}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==a[1].dims.length-2)throw new Error("invalid kernel shape");if(a[0].type!=="float32"||a[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(a.length===3&&a[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}});var Bm,km,Nm,mf,Rm,Mm,Gm,Um,zm,Wm,bf,Vm,gf=L(()=>{"use strict";Me();ve();ae();Sr();Bm=(a,t,o,e,r,n)=>(a-1)*t+o+(e-1)*r+1-n,km=(a,t,o,e,r)=>{let n=Math.floor(a/2);t==="SAME_UPPER"?(o[e]=n,o[r]=a-n):t==="SAME_LOWER"&&(o[e]=a-n,o[r]=n)},Nm=(a,t,o,e,r,n,s,i)=>{let u=a.length-2,l=i.length===0;for(let c=0;c<u;++c){let d=l?a[c+2]*n[c]:i[c],b=Bm(a[c+2],n[c],r[c],t[c],o[c],d);km(b,e,r,c,c+u),l&&i.push(n[c]*(a[c+2]-1)+s[c]+(t[c]-1)*o[c]+1-r[c]-r[c+u])}},mf=(a,t,o)=>(Vm(t,o),Rm(a,t,o)),Rm=(a,t,o)=>{let e=Wm(o,t);return[zm(a,t,e)]},Mm=(a,t)=>({name:"ConvTranspose",inputNames:a?["X","W","B"]:["X","W"],inputTypes:a?[0,0,0]:[0,0],cacheHint:t}),Gm=(a,t,o,e)=>{let n=t.length>2?"getB(output_channel)":"0.0",s=t[0].dims,i=t[1].dims,u=i[1],l=i[0]/e.group,c=[t[0].dims[0],t[1].dims[1]*e.group,...e.outputShape],d=q(a.session.backend.glContext.version),{activationFunction:b,applyActivation:x}=Nt(e),v=`\n  const ivec2 strides = ivec2(${e.strides[0]}, ${e.strides[1]});\n  const ivec2 pads = ivec2(${e.pads[0]}, ${e.pads[1]});\n  ${b}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ${u};\n    int wOutChannel = output_channel - group_id * ${u};\n\n    float value = ${n};\n    for (int inChannelOffset = 0; inChannelOffset < ${l}; inChannelOffset++) {\n      int input_channel = group_id * ${l} + inChannelOffset;\n      for (int wWOff = 0; wWOff < ${i[2]}; wWOff++) {\n        for (int wHOff = 0; wHOff < ${i[3]}; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ${e.dilations[0]}, wHOff * ${e.dilations[1]});\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ${s[2]} &&\n            wLocIn.y >= 0 && wLocIn.y < ${s[3]}\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ${x}\n    ${d.output} = vec4(value, .0, .0, .0);\n  }\n`;return{...o,output:{dims:c,type:t[0].type,textureType:0},shaderSource:v,hasMain:!0}},Um=(a,t,o)=>{let e=Mm(t.length>2,o.cacheKey);return{...e,get:()=>Gm(a,t,e,o)}},zm=(a,t,o)=>a.run(Um(a,t,o),t),Wm=(a,t)=>{let o=a.kernelShape.slice();if(a.kernelShape.length===0)for(let i=2;i<t[1].dims.length;++i)o.push(t[1].dims[i]);let e=a.pads.slice(),r=a.outputShape.slice(),n=t[0].dims;Nm(n,o,a.dilations,a.autoPad,e,a.strides,a.outputPadding,r);let s=Object.assign({},a);return Object.assign(s,{kernelShape:o,pads:e,outputShape:r,cacheKey:a.cacheKey}),s},bf=a=>{let t=a.attributes,o=jr(t),e=t.getString("auto_pad","NOTSET"),r=t.getInts("dilations",[1,1]),n=t.getInt("group",1),s=t.getInts("kernel_shape",[]),i=t.getInts("output_padding",[0,0]),u=t.getInts("output_shape",[]),l=t.getInts("pads",[0,0,0,0]),c=t.getInts("strides",[1,1]);return te({autoPad:e,dilations:r,group:n,kernelShape:s,outputPadding:i,outputShape:u,pads:l,strides:c,...o})},Vm=(a,t)=>{if(!a||a.length!==2&&a.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(a[0].dims.length!==4||a[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let o=a[0].dims[1],e=a[1].dims[0];if(o!==e)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let r=a[1].dims[1]*t.group;if(a.length===3&&(a[2].dims.length!==1||a[2].dims[0]!==r))throw new Error("invalid bias");let n=a[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==n*2)throw new Error(`pads should be ${n*2}D`);if(t.outputPadding.length!==n)throw new Error(`output_padding should be ${n}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==a[1].dims.length-2)throw new Error("invalid kernel shape");if(t.outputShape.length!==0&&t.outputShape.length!==a[0].dims.length-2)throw new Error("invalid output shape");if(a[0].type!=="float32"||a[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(a.length===3&&a[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}});var yf,Ar,Tf,Hm,xf,jm,qm,Ym,ho=L(()=>{"use strict";Me();fe();ae();yf={name:"Transpose",inputNames:["A"],inputTypes:[0]},Ar=(a,t,o)=>(Ym(t),[a.run({...yf,cacheHint:o.cacheKey,get:()=>Hm(a,t[0],o.perm)},t)]),Tf=a=>te({perm:a.attributes.getInts("perm",[])}),Hm=(a,t,o)=>{let e=t.dims;o=xf(e,o);let r=jm(e,o),n=e.length,s=`\n      ${qm("perm",o,n)}\n      float process(int indices[${n}]) {\n        int a[${n}];\n        perm(a, indices);\n        return _A(a);\n      }`;return{...yf,output:{dims:r,type:t.type,textureType:0},shaderSource:s}},xf=(a,t)=>(t&&t.length!==a.length&&(t=[...a.keys()].reverse()),t),jm=(a,t)=>(t=xf(a,t),z.sortBasedOnPerm(a,t)),qm=(a,t,o)=>{let e=[];e.push(`void ${a}(out int a[${o}], int src[${o}]) {`);for(let r=0;r<o;++r)e.push(`\ta[${t[r]}]=src[${r}];`);return e.push("\t}"),e.join(`\n`)},Ym=a=>{if(!a||a.length!==1)throw new Error("Transpose requires 1 input.");if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("input should be float tensor")}});var wf,vf,Xm,_f=L(()=>{"use strict";ho();wf=(a,t,o)=>{Xm(t);let e=o.blocksize,r=e*e,n=o.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],s=o.mode==="DCR"?[t[0].dims[0],e,e,t[0].dims[1]/r,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/r,e,e,t[0].dims[2],t[0].dims[3]],i=a.reshapeUnpacked(t[0],s),u={perm:n,cacheKey:`${n}`},[l]=Ar(a,[i],u),c=[t[0].dims[0],t[0].dims[1]/r,t[0].dims[2]*e,t[0].dims[3]*e];return[a.reshapeUnpacked(l,c)]},vf=a=>{let t=a.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);let o=a.attributes.getString("mode","DCR");if(o!=="DCR"&&o!=="CRD")throw new Error(`unrecognized mode: ${o} for DepthToSpace`);return{mode:o,blocksize:t}},Xm=a=>{if(a.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${a.length}`);if(a[0].type==="string"||a[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}});var Of,If,Km,Sf=L(()=>{"use strict";fe();Of=(a,t,o)=>{Km(t,o);let e=z.flattenShape(t[0].dims,o);return[a.reshapeUnpacked(t[0],e)]},If=a=>a.attributes.getInt("axis",1),Km=(a,t)=>{if(!a||a.length!==1)throw new Error("Flatten requires 1 input.");let o=a[0].dims.length;if(o===0)throw new Error("scalar tensor is not supported.");if(t<-o||t>o)throw new Error("Invalid axis");if(a[0].type==="string")throw new Error("string tensor is not supported.")}});var nr,yn=L(()=>{"use strict";nr=["float32","float64","int32","int16","int8","uint16","uint32","uint8"]});var Af,Ef,Jm,Zm,Qm,eb,Pf=L(()=>{"use strict";Me();yn();fe();ae();Af=(a,t,o)=>(eb(t,o.axis),[a.run(Qm(a,t,o),t)]),Ef=a=>te({axis:a.attributes.getInt("axis",0)}),Jm={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},Zm=(a,t,o,e)=>{let r=o[0].dims.slice(),n=o[1].dims.slice(),s=new Array(r.length+n.length-1);e=z.normalizeAxis(e,r.length);let i=[];for(let b=0;b<s.length;b++)b<e?(s[b]=r[b],i.push(`inputIdx[${b}] = outputIdx[${b}];`)):b<e+n.length?(s[b]=n[b-e],i.push(`indexDataIdx[${b-e}] = outputIdx[${b}];`)):(s[b]=r[b-n.length+1],i.push(`inputIdx[${b-n.length+1}] = outputIdx[${b}];`));let u=s.length||1,l=r.length,c=n.length||1,d=`\n      float process(int outputIdx[${u}]) {\n        int inputIdx[${l}];\n        int indexDataIdx[${c}];\n        indexDataIdx[0] = 0;\n        ${i.join(`\n        `)}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${e}] = idx < 0 ? idx + ${r[e]} : idx;\n        return _A(inputIdx);\n      }`;return{...t,output:{dims:s,type:o[0].type,textureType:0},shaderSource:d}},Qm=(a,t,o)=>{let e={...Jm,cacheHint:o.cacheKey};return{...e,get:()=>Zm(a,e,t,o.axis)}},eb=(a,t)=>{if(!a||a.length!==2)throw new Error("Gather requires 2 inputs.");let o=a[0].dims.length;if(o<1)throw new Error("Invalid input shape.");if(t<-o||t>o-1)throw new Error("Invalid axis.");if(nr.indexOf(a[0].type)===-1)throw new Error("Invaid input type.");if(a[1].type!=="int32"&&a[1].type!=="int16")throw new Error("Invaid input type.")}});var Ui,Df,Lf,Ff,tb,rb,nb,Cf=L(()=>{"use strict";Me();fe();ae();Ui=(a,t,o)=>(nb(t,o),[a.run(tb(t,o),t)]),Df=(a,t)=>{let o=a.attributes.getInt("transA",0)!==0,e=a.attributes.getInt("transB",0)!==0,r=a.attributes.getFloat("alpha",1),n=a.attributes.getFloat("beta",1);return te({transA:o,transB:e,alpha:r,beta:n,isOptionalC:t})},Lf=a=>Df(a,!1),Ff=a=>Df(a,!0),tb=(a,t)=>{let o={name:"Gemm",inputNames:a.length===3?["A","B","C"]:["A","B"],inputTypes:a.length===3?[0,0,0]:[0,0],key:t.cacheKey};return{...o,get:()=>rb(o,a,t)}},rb=(a,t,o)=>{let e=t[0].dims.slice(),r=t[1].dims.slice(),[n,s]=ro.getShapeOfGemmResult(e,o.transA,r,o.transB,t.length===3?t[2].dims:void 0),i=[n,s];if(!i)throw new Error("Can\'t use gemm on the given tensors");let u=e[e.length-1],l="";o.transA&&(u=e[0]),o.transA&&o.transB?l="value += _A_T(a) * _B_T(b);":o.transA&&!o.transB?l="value += _A_T(a) * _B(b);":!o.transA&&o.transB?l="value += _A(a) * _B_T(b);":!o.transA&&!o.transB&&(l="value += _A(a) * _B(b);");let c=i.length,d=t.length===3?`int c[${t[2].dims.length}];`:"",b=t.length===3?"bcastIndices_C(indices, c);":"",x=t.length===3?"value += beta * _C(c);":"",v=`\n      float process(int indices[${c}]) {\n          int a[${c}];\n          int b[${c}];\n          ${d}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${b}\n\n          float value = 0.0;\n          for (int k=0; k<${u}; ++k) {\n              a[${c-1}] = k;\n              b[${c-2}] = k;\n              ${l}\n          }\n\n          value = value * alpha;\n          ${x}\n          return value;\n      }`;return{...a,output:{dims:i,type:t[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:o.alpha},{name:"beta",type:"float",data:o.beta}],shaderSource:v}},nb=(a,t)=>{if(!a)throw new Error("Input is missing");if(t.isOptionalC&&(a.length<2||a.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&a.length!==3)throw new Error("Gemm requires 3 inputs");if(a.length===3&&a[2].dims.length!==1&&a[2].dims.length!==2)throw new Error("Invalid input shape of C");if(a[0].type!=="float32"&&a[0].type!=="float64"||a[1].type!=="float32"&&a[1].type!=="float64"||a.length===3&&a[2].type!=="float32"&&a[2].type!=="float64")throw new Error("Invalid input type.");if(a[0].type!==a[1].type||a.length===3&&a[0].type!==a[2].type)throw new Error("Input types are mismatched")}});var $f,Bf,ob,ib,ab,sb,ub,kf=L(()=>{"use strict";Me();ae();$f=(a,t,o)=>(ub(t),[a.run(ab(a,t,o),t)]),Bf=a=>{let t=a.attributes.getFloat("scale"),o=a.attributes.getFloats("bias");return te({scale:t,bias:o})},ob={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},ib=(a,t,o,e)=>{let r=o[0].dims.slice(),n=r.length,i=`\n      ${sb(e.bias.length)}\n      float process(int indices[${n}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return{...t,output:{dims:r,type:o[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:e.bias.length,data:e.bias},{name:"scale",type:"float",data:e.scale}],shaderSource:i}},ab=(a,t,o)=>{let e={...ob,cacheHint:o.cacheKey};return{...e,get:()=>ib(a,e,t,o)}},sb=a=>{let t=[`float getBias(float bias[${a}], int channel) {`];for(let o=0;o<a;++o)o===0?t.push(`\tif (channel == ${o}) { return bias[${o}]; }`):o===a-1?t.push(`\telse { return bias[${o}]; }`):t.push(`\telse if (channel == ${o}) { return bias[${o}]; }`);return t.push("\t}"),t.join(`\n`)},ub=a=>{if(!a||a.length!==1)throw new Error("ImageScaler requires 1 input.");if(a[0].dims.length!==4)throw new Error("Invalid input shape.");if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("Invalid input type.")}});var Rf,Mf,Nf,lb,fb,cb,pb,db,hb,Gf=L(()=>{"use strict";ve();ae();Rf=(a,t,o)=>{hb(t);let e=a.run(fb(t[0]),t);return[a.run(db(a,t[0],o,e.dims),[t[0],e,t[1],t[2]])]},Mf=a=>a.attributes.getFloat("epsilon",1e-5),Nf={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},lb=(a,t)=>{let o=t.dims.slice(),e=o[1],r=o[2]*o[3],n=[o[0],e],s=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${o[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${o[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${r});\n        temp = 0.0;\n        for(int a2=0; a2<${o[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${o[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${r});\n\n        return v;\n      }`;return{...a,output:{dims:n,type:t.type,textureType:4},shaderSource:s}},fb=a=>({...Nf,get:()=>lb(Nf,a)}),cb={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},pb=(a,t,o,e,r)=>{let n=q(a.session.backend.glContext.version),[s,i]=a.calculateTextureWidthAndHeight(r,4),[u,l]=[s/4,i],c=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${u}, ${l});\n        return ${n.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return{...t,output:{dims:o.dims,type:o.type,textureType:0},variables:[{name:"epsilon",type:"float",data:e}],shaderSource:c}},db=(a,t,o,e)=>{let r={...cb,cacheHint:`${o}`};return{...r,get:()=>pb(a,r,t,o,e)}},hb=a=>{if(!a||a.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");let t=a[0],o=a[1],e=a[2];if(t.dims.length<3||o.dims.length!==1||e.dims.length!==1)throw new Error("Invalid input shape.");if(o.dims[0]!==t.dims[1]||e.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if(t.type!=="float32"&&t.type!=="float64"||o.type!=="float32"&&o.type!=="float64"||e.type!=="float32"&&e.type!=="float64")throw new Error("Invalid input type.");if(a[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}});function mb(a,t){let o=a[0].dims[1],e=a[0].dims.length,r=-Math.floor((t.size-1)/2),n=Math.ceil((t.size-1)/2),s=`float(${t.alpha}) / float(${t.size})`,i=`float(${t.bias})`,u=`float(${t.beta})`,l=`\n    float process(int indices[${e}]) {\n        int c = indices[1];\n        float x = _X(indices);\n        float square_sum = 0.0;\n\n        for (int i = ${r}; i <= ${n}; i++) {\n          int idx = c + i;\n          if (c >= 0 && c < ${o}) {\n            indices[1] = idx;\n            float j = _X(indices);\n            square_sum += j * j;\n          }\n        }\n        return x / pow(${i} + ${s} * square_sum, ${u});\n    }`;return{...Wf,cacheHint:t.cacheKey,output:{dims:a[0].dims,type:a[0].type,textureType:0},shaderSource:l}}function bb(a,t){return{...Wf,cacheHint:t.cacheKey,get:()=>mb(a,t)}}var Uf,zf,Wf,gb,Vf=L(()=>{"use strict";Me();ae();Uf=(a,t,o)=>(gb(t),[a.run(bb(t,o),t)]),zf=a=>{let t=a.attributes.getFloat("alpha",1e-4),o=a.attributes.getFloat("beta",.75),e=a.attributes.getFloat("bias",1),r=a.attributes.getInt("size");return te({alpha:t,beta:o,bias:e,size:r})},Wf={name:"LRN",inputNames:["X"],inputTypes:[0]};gb=a=>{if(!a||a.length!==1)throw new Error("LRN requires 1 input.");if(a[0].dims.length!==4)throw new Error(\'currently only support LRN for input with "NCHW" format\');if(a[0].type!=="float32")throw new Error("input should be float type")}});var yb,zi,Hf,jf,qf,Tb,xb,wb,vb,_b,Ob,Ib,Sb,Yf=L(()=>{"use strict";Me();fe();ve();ae();yb={name:"Pad",inputNames:["A"],inputTypes:[0]},zi=(a,t,o)=>(wb(t),[a.run({...yb,cacheHint:o.cacheKey,get:()=>xb(a,t[0],o)},t)]),Hf=a=>{let t=a.attributes.getString("mode","constant"),o=a.attributes.getFloat("value",0),e=a.attributes.getInts("pads");return te({mode:t,value:o,pads:e})},jf=(a,t,o)=>{vb(t);let e=Tb(a,t,o);return zi(a,[t[0]],e)},qf=a=>a.attributes.getString("mode","constant"),Tb=(a,t,o)=>{if(!a.session.isInitializer(t[1].dataId)||t.length>=3&&!a.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");let e=Array.from(t[1].integerData),r=t.length>=3?t[2].floatData[0]:0;return te({mode:o,pads:e,value:r})},xb=(a,t,o)=>{let e=z.padShape(t.dims.slice(),o.pads),r=e.length,s=`\n      ${_b(a,t,o)}\n      float process(int[${r}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:e,type:t.type,textureType:0},shaderSource:s}},wb=a=>{if(!a||a.length!==1)throw new Error("Pad requires 1 input");if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("Invalid input type.")},vb=a=>{if(!a||a.length!==2&&a.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(a[1].type!=="int32")throw new Error("Invalid input type.");if(a.length>=3&&a[2].type==="string")throw new Error("Invalid input type.")},_b=(a,t,o)=>{let e=q(a.session.backend.glContext.version),[r,n]=a.calculateTextureWidthAndHeight(t.dims,0),s=z.computeStrides(t.dims);switch(o.mode){case"constant":return Ob(e,t.dims,s,r,n,o.pads,o.value);case"reflect":return Ib(e,t.dims,s,r,n,o.pads);case"edge":return Sb(e,t.dims,s,r,n,o.pads);default:throw new Error("Invalid mode")}},Ob=(a,t,o,e,r,n,s)=>{let i=t.length,u="";for(let l=i-1;l>=0;--l)u+=`\n        k = m[${l}] - ${n[l]};\n        if (k < 0)  return constant;\n        if (k >= ${t[l]}) return constant;\n        offset += k * ${o[l]};\n        `;return`\n      float padA(int m[${i}]) {\n        const float constant = float(${s});\n        int offset = 0;\n        int k = 0;\n        ${u}\n        vec2 coords = offsetToCoords(offset, ${e}, ${r});\n        float value = getColorAsFloat(${a.texture2D}(A, coords));\n        return value;\n      }\n      `},Ib=(a,t,o,e,r,n)=>{let s=t.length,i="";for(let u=s-1;u>=0;--u)i+=`\n        k = m[${u}] - ${n[u]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(t[u]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${t[u]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${o[u]};\n        `;return`\n      float padA(int m[${s}]) {\n        int offset = 0;\n        int k = 0;\n        ${i}\n        vec2 coords = offsetToCoords(offset, ${e}, ${r});\n        float value = getColorAsFloat(${a.texture2D}(A, coords));\n        return value;\n      }\n      `},Sb=(a,t,o,e,r,n)=>{let s=t.length,i="";for(let u=s-1;u>=0;--u)i+=`\n        k = m[${u}] - ${n[u]};\n        if (k < 0)  k = 0;\n        if (k >= ${t[u]}) k = ${t[u]-1};\n        offset += k * ${o[u]};\n      `;return`\n      float padA(int m[${s}]) {\n        int offset = 0;\n        int k = 0;\n        ${i}\n        vec2 coords = offsetToCoords(offset, ${e}, ${r});\n        float value = getColorAsFloat(${a.texture2D}(A, coords));\n        return value;\n      }\n      `}});var Kf,Jf,Zf,Qf,ec,tc,rc,nc,oc,Ab,Xf,ic,bo,ac,mo,Eb,sc=L(()=>{"use strict";Me();fe();ae();Kf=(a,t,o)=>{bo(t);let e={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:o.cacheKey};return[a.run({...e,get:()=>Zf(t,e,!1,o)},t)]},Jf=a=>{let t=a.attributes.getString("auto_pad","NOTSET"),o=a.attributes.getInt("ceil_mode",0),e=a.attributes.getInt("count_include_pad",0)!==0,r=a.attributes.getInts("kernel_shape"),n=a.attributes.getInts("strides",[]),s=a.attributes.getInts("pads",[]);if(o!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return te({autoPad:t,ceilMode:o,countIncludePad:e,kernelShape:r,strides:n,pads:s})},Zf=(a,t,o,e)=>{let[r,n]=oc(a,e,o),s=z.size(r.kernelShape),i="value += _X(x);",u="";r.countIncludePad?u+=`value /= float(${s});`:u+=`value /= float(${s} - pad);`;let c=`\n        ${ac(a[0].dims,r,i,u,"0.0")}\n      `;return{...t,output:{dims:n,type:a[0].type,textureType:0},shaderSource:c}},Qf=(a,t,o)=>{bo(t);let e={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${o.countIncludePad}`};return[a.run({...e,get:()=>Zf(t,e,!0,o)},t)]},ec=a=>{let t=a.attributes.getInt("count_include_pad",0)!==0;return te({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},tc=(a,t,o)=>{bo(t);let e={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:o.cacheKey};return[a.run({...e,get:()=>nc(t,e,!1,o)},t)]},rc=a=>{let t=a.attributes.getString("auto_pad","NOTSET"),o=a.attributes.getInt("ceil_mode",0),e=a.attributes.getInts("kernel_shape"),r=a.attributes.getInts("strides",[]),n=a.attributes.getInts("pads",[]),s=a.attributes.getInt("storage_order",0),i=a.attributes.getInts("dilations",[]);if(s!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(o!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return te({autoPad:t,ceilMode:o,countIncludePad:!1,kernelShape:e,strides:r,pads:n,storageOrder:s,dilations:i})},nc=(a,t,o,e)=>{let[r,n]=oc(a,e,o),s=`\n      value = max(_X(x), value);\n    `,i="",l=`\n      ${ac(a[0].dims,r,s,i,"-1e5")}\n    `;return{...t,output:{dims:n,type:a[0].type,textureType:0},shaderSource:l}},oc=(a,t,o)=>{let e=a[0].dims.slice(),r=Object.hasOwnProperty.call(t,"dilations"),n=t.kernelShape.slice(),s=t.strides.slice(),i=r?t.dilations.slice():[],u=t.pads.slice();wr.adjustPoolAttributes(o,e,n,s,i,u);let l=wr.computePoolOutputShape(o,e,s,i,n,u,t.autoPad),c=Object.assign({},t);return r?Object.assign(c,{kernelShape:n,strides:s,pads:u,dilations:i,cacheKey:t.cacheKey}):Object.assign(c,{kernelShape:n,strides:s,pads:u,cacheKey:t.cacheKey}),[c,l]},Ab={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Xf={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},ic=(a,t)=>(bo(t),[a.run({...Xf,get:()=>nc(t,Xf,!0,Ab)},t)]),bo=a=>{if(!a||a.length!==1)throw new Error("Pool ops requires 1 input.");if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("Invalid input type.")},ac=(a,t,o,e,r)=>{let n=a.length;if(t.kernelShape.length<=2){let s=t.kernelShape[t.kernelShape.length-1],i=t.strides[t.strides.length-1],u=t.pads[t.pads.length/2-1],l=t.pads[t.pads.length-1],c=a[n-1],d="",b="",x="";if(u+l!==0?d=`\n          for (int i = 0; i < ${s}; i++) {\n            x[${n} - 1] = indices[${n} - 1] * ${i} - ${u} + i;\n            if (x[${n} - 1] < 0 || x[${n} - 1] >= ${c}) {\n              pad++;\n              continue;\n            }\n            ${o}\n          }`:d=`\n          for (int i = 0; i < ${s}; i++) {\n            x[${n} - 1] = indices[${n} - 1] * ${i} - ${u} + i;\n            ${o}\n          }`,t.kernelShape.length===2){let _=t.kernelShape[t.kernelShape.length-2],S=t.strides[t.strides.length-2],E=t.pads[t.pads.length/2-2],C=t.pads[t.pads.length-2],N=a[n-2];E+C!==0?b=`\n            for (int j = 0; j < ${_}; j++) {\n              x[${n} - 2] = indices[${n} - 2] * ${S} - ${E} + j;\n              if (x[${n} - 2] < 0 || x[${n} - 2] >= ${N}) {\n                pad+= ${s};\n                continue;\n              }\n          `:b=`\n            for (int j = 0; j < ${_}; j++) {\n              x[${n} - 2] = indices[${n} - 2] * ${S} - ${E} + j;\n            `,x=`\n          }\n        `}return`\n        float process(int indices[${n}]) {\n          int x[${n}];\n          copyVec(indices, x);\n\n          float value = ${r};\n          int pad = 0;\n          ${b}\n          ${d}\n          ${x}\n          ${e}\n          return value;\n        }\n      `}else{let s=z.size(t.kernelShape),i=z.computeStrides(t.kernelShape),u=i.length,l=t.pads.length,c=Eb(u),d=mo(a,"inputDims"),b=mo(t.pads,"pads"),x=mo(i,"kernelStrides"),v=mo(t.strides,"strides"),_=t.pads.reduce((C,N)=>C+N),S="";return _?S=`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${o}\n          }`:S=`\n          }\n          ${o}\n        `,`\n        ${c}\n        float process(int indices[${n}]) {\n          int x[${n}];\n          copyVec(indices, x);\n          int offset[${u}];\n          int pads[${l}];\n          int inputDims[${n}];\n          int kernelStrides[${u}];\n          int strides[${u}];\n          ${b}\n          ${d}\n          ${v}\n          ${x}\n\n          float value = ${r};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${s}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${n} - ${u}; j < ${n}; j++) {\n              x[j] = indices[j] * strides[j - ${n} + ${u}]\n                + offset[j - ${n} + ${u}] - pads[j - 2];\n              ${S}\n          }\n          ${e}\n\n          return value;\n        }\n      `}},mo=(a,t)=>{let o="";for(let e=0;e<a.length;e++)o+=`\n      ${t}[${e}] = ${a[e]};\n    `;return o},Eb=a=>`\n  void offsetToIndices(int offset, int[${a}] strides, out int[${a}] indices) {\n    if (${a} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${a} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${a} - 1] = offset;\n  }`});var Er,or,Pb,Db,uc,lc,fc,cc,pc,dc,hc,mc=L(()=>{"use strict";Me();yn();fe();ae();Er=(a,t,o,e,r)=>{Db(t);let n={name:e,inputNames:["A"],inputTypes:[0]};return[a.run({...n,cacheHint:o.cacheKey,get:()=>Pb(a,t,o,e,r,n)},t)]},or=a=>{let t=a.attributes.getInts("axes",[]),o=a.attributes.getInt("keepdims",1)===1;return te({axes:t,keepDims:o})},Pb=(a,t,o,e,r,n)=>{let s=[],i=t[0].dims.length||1,u=[],l=z.normalizeAxes(o.axes,t[0].dims.length),c=r(t,l),d=c[1];for(let v=0;v<t[0].dims.length;v++)l.indexOf(v)>=0||l.length===0?(o.keepDims&&s.push(1),d=`\n          for(int j${v} = 0; j${v} < ${t[0].dims[v]}; j${v}++) {\n            inputIdx[${v}] = j${v};\n            ${d}\n          }`):(u.push(`inputIdx[${v}] = outputIdx[${s.length}];`),s.push(t[0].dims[v]));let x=`\n      float process(int outputIdx[${s.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${i}];      // addressing input data\n        ${u.join(`\n`)}\n        ${c[0]}       // init ops for reduce max/min\n        ${d}\n        ${c[2]}       // final computation for reduce mean\n        return value;\n      }`;return{...n,output:{dims:s,type:t[0].type,textureType:0},shaderSource:x}},Db=a=>{if(!a||a.length!==1)throw new Error("Reduce op requires 1 input.");if(nr.indexOf(a[0].type)===-1)throw new Error("Invalid input type.")},uc=(a,t,o)=>Er(a,t,o,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),lc=(a,t,o)=>Er(a,t,o,"ReduceMean",(r,n)=>{let s=1;for(let i=0;i<r[0].dims.length;i++)(n.indexOf(i)>=0||n.length===0)&&(s*=r[0].dims[i]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${s}.;`]}),fc=(a,t,o)=>Er(a,t,o,"ReduceMax",(r,n)=>{let s=[];for(let i=0;i<r[0].dims.length;i++)(n.indexOf(i)>=0||n.length===0)&&s.push(`inputIdx[${i}] = 0;`);return[`${s.join(`\n`)}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),cc=(a,t,o)=>Er(a,t,o,"ReduceMin",(r,n)=>{let s=[];for(let i=0;i<r[0].dims.length;i++)(n.indexOf(i)>=0||n.length===0)&&s.push(`inputIdx[${i}] = 0;`);return[`${s.join(`\n`)}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),pc=(a,t,o)=>Er(a,t,o,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),dc=(a,t,o)=>Er(a,t,o,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),hc=(a,t,o)=>Er(a,t,o,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])});var bc,gc=L(()=>{"use strict";fe();bc=(a,t)=>{let o=z.calculateReshapedDims(t[0].dims,t[1].integerData);return a.session.pack?[a.reshapePacked(t[0],o)]:[a.reshapeUnpacked(t[0],o)]}});var yc,Wi,Tc,xc,Tn,Lb,Vi,go,Hi=L(()=>{"use strict";Me();ve();ae();yc={name:"Upsample",inputNames:["X"],inputTypes:[0]},Wi=(a,t,o)=>(Vi(t,o),[a.run({...yc,cacheHint:o.cacheKey,get:()=>Lb(a,t,o)},t)]),Tc=a=>Tn(a,7),xc=a=>Tn(a,9),Tn=(a,t)=>{let o=t>=10,e=a.attributes.getString("mode","nearest");if(e!=="nearest"&&e!=="linear"&&(t<11||e!=="cubic"))throw new Error(`unrecognized mode: ${e}`);let r=[];t<9&&(r=a.attributes.getFloats("scales"),go(r,e,o));let n=a.attributes.getFloat("extrapolation_value",0),s=t>10?a.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(s)===-1)throw new Error(`coordinate_transform_mode \'${s}\' is not supported`);let i=s==="tf_crop_and_resize",u=i,l=e==="nearest"&&t>=11?a.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(l)===-1)throw new Error(`nearest_mode \'${l}\' is not supported`);let c=a.attributes.getFloat("cubic_coeff_a",-.75),d=a.attributes.getInt("exclude_outside",0)!==0;if(d&&e!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let b=t<11?!0:e==="nearest"&&s==="asymmetric"&&l==="floor",x=0,v=0,_=0;return t>10?a.inputs.length>2?(x=1,v=2,_=3):(v=1,_=2):t===9&&(v=1),te({opset:t,isResize:o,mode:e,scales:r,extrapolationValue:n,coordinateTransformMode:s,useExtrapolation:u,needRoiInput:i,nearestMode:l,cubicCoefficientA:c,excludeOutside:d,useNearest2xOptimization:b,roiInputIdx:x,scalesInputIdx:v,sizesInputIdx:_})},Lb=(a,t,o)=>{let e=q(a.session.backend.glContext.version),[r,n]=a.calculateTextureWidthAndHeight(t[0].dims,0),s=t[0].dims.map((_,S)=>Math.floor(_*o.scales[S])),[i,u]=a.calculateTextureWidthAndHeight(s,0),l=s.length,c=new Array(l),d=new Array(l),b=`\n      int output_pitches[${l}];\n      int input_pitches[${l}];\n      `;for(let _=l-1;_>=0;_--)c[_]=_===l-1?1:c[_+1]*s[_+1],d[_]=_===l-1?1:d[_+1]*t[0].dims[_+1],b+=`\n        output_pitches[${_}] = ${c[_]};\n        input_pitches[${_}] = ${d[_]};\n        `;let x=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${r}, ${n});\n        float value = getColorAsFloat(${e.texture2D}(X, coords));\n        return value;\n      }\n      `,v=o.mode==="nearest"?`\n    ${x}\n    float process(int indices[${l}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${i}, ${u});\n\n      ${b}\n\n      int d, m;\n      for (int dim = 0; dim < ${l}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:l===4?`\n    ${x}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${i}, ${u});\n\n      ${b}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {\n        // It\'s the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It\'s the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${x}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${i}, ${u});\n\n      ${b}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {\n        // It\'s the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It\'s the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return{...yc,output:{dims:s,type:t[0].type,textureType:0},shaderSource:v,variables:[{name:"scales",type:"int",arrayLength:o.scales.length,data:o.scales.map(_=>Math.ceil(_))}]}},Vi=(a,t)=>{if(!a||t.opset<9&&a.length!==1||t.opset>=9&&t.opset<11&&a.length!==2||t.opset>=11&&a.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&a[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if(a[0].type==="string")throw new Error("Invalid input tensor types.")},go=(a,t,o)=>{if(o){for(let e of a)if(e<=0)throw new Error("Scale value should be greater than 0.")}else for(let e of a)if(e<1)throw new Error("Scale value should be greater than or equal to 1.");if((t==="linear"||t==="cubic")&&a.length!==2&&(a.length!==4||a[0]!==1||a[1]!==1))throw new Error(`\'Linear\' mode and \'Cubic\' mode only support 2-D inputs (\'Bilinear\', \'Bicubic\')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${o?"Resize":"Upsample"} opeartor.`)}});var ji,qi,wc,vc,Fb,Cb,$b,Bb,_c=L(()=>{"use strict";ve();ae();Bt();Ir();Hi();ji={name:"Resize",inputNames:["A"],inputTypes:[2]},qi=(a,t,o)=>(Vi(t,o),[a.run({...ji,cacheHint:o.cacheKey,get:()=>Fb(a,t,o)},t)]),wc=a=>Tn(a,10),vc=a=>Tn(a,11),Fb=(a,t,o)=>{let e=q(a.session.backend.glContext.version),[r,n]=Cb(t,o);if(r.every(N=>N===1)&&o.coordinateTransformMode!=="tf_crop_and_resize")return{...ji,output:{dims:n,type:t[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${e.texture2D}(X, TexCoords);\n                    ${e.output} = v;\n                }`};let i=n.length;if(i<2)throw new Error(`output dimension should be at least 2, but got ${i}`);let u=n[i-2],l=n[i-1],c=t[0].dims;if(i!==c.length)throw new Error(`output dimension should match input ${c.length}, but got ${i}`);let d=c[i-2],b=c[i-1],x=r[i-2],v=r[i-1],_="";if(o.mode!=="linear")throw new Error(`resize (packed) does not support mode: \'${o.mode}\'`);switch(o.coordinateTransformMode){case"asymmetric":_=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                `;break;case"half_pixel":_=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                `;break;case"pytorch_half_pixel":_=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ${l}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ${u}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ${l}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ${u}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                `;break;case"align_corners":_=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${l}.0 - 1.0, ${u}.0 - 1.0, ${l}.0 - 1.0,\n                            ${u}.0 - 1.0);\n                        vec4 original = vec4(${b}.0 - 1.0, ${d}.0 - 1.0, ${b}.0 - 1.0,\n                            ${d}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 \'${o.coordinateTransformMode}\'`)}let S=Je(i),E=kt(),C=`\n            const vec2 inputWH = vec2(${d}.0, ${b}.0);\n            const vec4 scaleWHWH = vec4(float(${x}), float(${v}), float(${x}), float(${v}));\n            ${E}\n            ${_}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${S} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${u-1};\n                bool hasNextCol = rc.z < ${l-1};\n\n                // pack x00, x01, x10, x11\'s top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11\'s top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11\'s bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11\'s bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${e.output} = vec4(newValue);\n            }\n        `;return{...ji,output:{dims:n,type:t[0].type,textureType:2},hasMain:!0,shaderSource:C}},Cb=(a,t)=>{let e=a[0].dims,r=t.scales,n;if(r.length===0){let i=a[t.scalesInputIdx];if(i&&i.size!==0){if(a[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");r=$b(i,t.mode,t.isResize)}else{let u=a[t.sizesInputIdx];if(!u||u.size===0)throw new Error("Either scales or sizes MUST be provided as input.");n=Array.from(u.integerData),r=Bb(n,e,t.mode,t.isResize)}}else if(a[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");let s=n||e.map((i,u)=>Math.floor(i*r[u]));return[r,s]},$b=(a,t,o)=>{let e=Array.from(a.floatData);return go(e,t,o),e},Bb=(a,t,o,e)=>{let r=t.length,n=new Array(r);for(let s=0,i=r;s<i;s++)if(t[s]===0){if(a[s]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");n[s]=1}else n[s]=a[s]/t[s];return go(n,o,e),n}});var Oc,kb,Ic=L(()=>{"use strict";Or();Oc=(a,t)=>(kb(t),[new $e([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]),kb=a=>{if(!a||a.length!==1)throw new Error("Shape requires 1 input.")}});var Yi,Sc,Ac,Ec,Nb,Pc,Rb,Mb,Dc=L(()=>{"use strict";Me();yn();fe();ae();Yi={name:"Slice",inputNames:["A"],inputTypes:[0]},Sc=(a,t,o)=>(Nb(t),[a.run({...Yi,cacheHint:o.cacheKey,get:()=>Ec(a,t[0],o)},t)]),Ac=a=>{let t=a.attributes.getInts("starts"),o=a.attributes.getInts("ends"),e=a.attributes.getInts("axes",[]);return te({starts:t,ends:o,axes:e})},Ec=(a,t,o)=>{let e=o.axes.length===0?t.dims.slice(0).map((d,b)=>b):o.axes,r=z.normalizeAxes(e,t.dims.length),n=o.starts.map((d,b)=>d>t.dims[r[b]]-1?t.dims[r[b]]:z.normalizeAxis(d,t.dims[r[b]])),s=o.ends.map((d,b)=>d>t.dims[r[b]]-1?t.dims[r[b]]:z.normalizeAxis(d,t.dims[r[b]])),i=t.dims.slice(),u=[];for(let d=0;d<r.length;d++)i[r[d]]=s[d]-n[d],n[d]>0&&u.push(`outputIdx[${r[d]}] += ${n[d]};`);let c=`\n      float process(int outputIdx[${i.length}]) {\n        ${u.join(`\n      `)}\n        return _A(outputIdx);\n      }`;return{...Yi,output:{dims:i,type:t.type,textureType:0},shaderSource:c}},Nb=a=>{if(!a||a.length!==1)throw new Error("Slice requires 1 input.");if(nr.indexOf(a[0].type)===-1)throw new Error("Invalid input type.")},Pc=(a,t)=>{Mb(t);let o=Rb(a,t);return[a.run({...Yi,cacheHint:o.cacheKey,get:()=>Ec(a,t[0],o)},[t[0]])]},Rb=(a,t)=>{if(!a.session.isInitializer(t[1].dataId)||!a.session.isInitializer(t[2].dataId)||t.length>=4&&!a.session.isInitializer(t[3].dataId)||t.length>=5&&!a.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some(s=>s!==1))throw new Error("currently non-1 steps is not supported for Slice");let o=Array.from(t[1].integerData),e=Array.from(t[2].integerData),r=t.length>=4?Array.from(t[3].integerData):[],n=`${r};${o};${e}`;return{starts:o,ends:e,axes:r,cacheKey:n}},Mb=a=>{if(!a||a.length<3||a.length>5)throw new Error("Invalid input number.");if(a[1].type!=="int32"||a[1].dims.length!==1)throw new Error("Invalid input type.");if(a[2].type!=="int32"||a[2].dims.length!==1)throw new Error("Invalid input type.");if(a.length>=4&&(a[3].type!=="int32"||a[3].dims.length!==1))throw new Error("Invalid input type.");if(a.length>=5&&(a[4].type!=="int32"||a[4].dims.length!==1))throw new Error("Invalid input type.")}});var Lc,Fc,Cc,$c,Bc,kc,Nc,Rc,Gb,Ub,zb,Mc,Gc=L(()=>{"use strict";Me();fe();ve();ae();ho();Lc={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},Fc={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},Cc={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},$c=(a,t,o)=>{Mc(t);let e=t[0].dims.slice(),r=z.normalizeAxis(o.axis,e.length),n=z.sizeToDimension(e,r),s=z.sizeFromDimension(e,r);return Rc(a,t,o,n,s)},Bc=a=>te({axis:a.attributes.getInt("axis",1)}),kc=a=>te({axis:a.attributes.getInt("axis",-1)}),Nc=(a,t,o)=>{Mc(t);let e=t[0].dims.slice(),r=z.normalizeAxis(o.axis,e.length),n=e.length,s=r!==n-1,i=[],u=[],l=[],c;s&&(u=Array.from({length:n}).map((v,_)=>_),u[r]=n-1,u[n-1]=r,u.map(v=>i.push(e[v])),c=te({perm:u}),l=Ar(a,t,c));let d=s?z.sizeToDimension(i,n-1):z.sizeToDimension(e,n-1),b=s?z.sizeFromDimension(i,n-1):z.sizeFromDimension(e,n-1),x=Rc(a,s?l:t,o,d,b);return s?Ar(a,x,c):x},Rc=(a,t,o,e,r)=>{let n=Gb(a,t[0],e,r,[e]),s=a.run({...Lc,cacheHint:o.cacheKey,get:()=>n},t),i=Ub(a,t[0],e,r,n.output.dims,[e]),u=a.run({...Fc,cacheHint:o.cacheKey,get:()=>i},[t[0],s]),l=zb(a,t[0],e,r,n.output.dims,i.output.dims);return[a.run({...Cc,cacheHint:o.cacheKey,get:()=>l},[t[0],s,u])]},Gb=(a,t,o,e,r)=>{let[n,s]=a.calculateTextureWidthAndHeight(t.dims,0),i=r.length;if(o<1||e<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1)throw new Error("Dimensionality of the output should be 1");if(r[0]!==o)throw new Error("Shape of the output should be equal to logical row count");let u=q(a.session.backend.glContext.version),l=`\n      float process(int[${i}] indices) {\n        int logical_row_start_offset = indices[0] * ${e};\n\n        float max = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset, ${n},\n        ${s} )));\n        for(int i=1; i<${e}; ++i)\n        {\n          float current = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${n}, ${s})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return{...Lc,output:{dims:r,type:t.type,textureType:0},shaderSource:l}},Ub=(a,t,o,e,r,n)=>{let[s,i]=a.calculateTextureWidthAndHeight(t.dims,0),u=n.length;if(o<1||e<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(n.length!==1)throw new Error("Dimensionality of the output should be 1");if(n[0]!==o)throw new Error("Shape of the output should be equal to logical row count");if(r.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==o)throw new Error("Shape of the intermediate results should be equal to logical row count");let l=q(a.session.backend.glContext.version),c=`\n      float process(int[${u}] indices) {\n        int logical_row_start_offset = indices[0] * ${e};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${e}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${l.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${s}, ${i}))) - max);\n        }\n\n        return norm_factor;\n      }`;return{...Fc,output:{dims:n,type:t.type,textureType:0},shaderSource:c}},zb=(a,t,o,e,r,n)=>{let[s,i]=a.calculateTextureWidthAndHeight(t.dims,0),u=t.dims.length;if(o<1||e<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1||n.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==o||n[0]!==o)throw new Error("Shape of the intermediate results should be equal to logical row count");let l=`\n      float process(int[${u}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${s}, ${i});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${e};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return{...Cc,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:l}},Mc=a=>{if(!a||a.length!==1)throw new Error("Softmax requires 1 input.");if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("Invalid input type")}});var Uc,zc,Wc,Wb,Vb,Hb,Vc=L(()=>{"use strict";Me();fe();ae();Uc={name:"Split",inputNames:["A"],inputTypes:[0]},zc=(a,t,o)=>{Hb(t);let e=z.normalizeAxis(o.axis,t[0].dims.length),r=Wb(a,t,e,o),n=[];for(let s=0;s<r;++s)n.push(a.run({...Uc,cacheHint:`${o.cacheKey};${s}`,get:()=>Vb(a,t[0],o,e,s)},t));return n},Wc=a=>{let t=a.attributes.getInt("axis",0),o=a.attributes.getInts("split",[]),e=a.outputs.length;return te({axis:t,split:o,numOutputs:e})},Wb=(a,t,o,e)=>{let[,r]=pn.splitShape(t[0].dims,o,e.split,e.numOutputs);return r.length},Vb=(a,t,o,e,r)=>{let[n,s]=pn.splitShape(t.dims,e,o.split,o.numOutputs),i=s[r],u=n[r],c=`\n      float process(int indices[${u.length}]) {\n        indices[${e}] += ${i};\n        return _A(indices);\n      }\n    `;return{...Uc,cacheHint:`${o.cacheKey}:${r}`,output:{dims:u,type:t.type,textureType:0},shaderSource:c}},Hb=a=>{if(!a||a.length!==1)throw new Error("Split requires one input.");if(a[0].type!=="int8"&&a[0].type!=="uint8"&&a[0].type!=="int16"&&a[0].type!=="uint16"&&a[0].type!=="int32"&&a[0].type!=="uint32"&&a[0].type!=="float32"&&a[0].type!=="float64"&&a[0].type!=="bool")throw new Error("Invalid input type.")}});var Xi,Hc,jc,jb,qb,qc=L(()=>{"use strict";fe();Xi=(a,t,o)=>{jb(t);let e=z.squeezeShape(t[0].dims,o);return[a.reshapeUnpacked(t[0],e)]},Hc=(a,t)=>(qb(t),Xi(a,[t[0]],Array.from(t[1].integerData))),jc=a=>a.attributes.getInts("axes"),jb=a=>{if(!a||a.length!==1)throw new Error("Squeeze requires 1 input.");if(a[0].type==="string")throw new Error("invalid input tensor types.")},qb=a=>{if(!a||a.length!==2)throw new Error("Squeeze requires 2 inputs.");if(a[1].type!=="int32")throw new Error("Invalid input type.")}});var Yc,Yb,Xb,Xc=L(()=>{"use strict";ve();ae();Yc=(a,t)=>{Xb(t);let o={name:"Sum",inputNames:t.map((r,n)=>`X${n}`),inputTypes:new Array(t.length).fill(0)};return[a.run({...o,get:()=>Yb(a,t,o)},t)]},Yb=(a,t,o)=>{let e=q(a.session.backend.glContext.version),r=t[0].dims.slice(),s=`\n      void main() {\n        vec4 result = ${t.map((i,u)=>`${e.texture2D}(X${u},TexCoords)`).join(" + ")};\n        ${e.output} = result;\n      }\n    `;return{...o,output:{dims:r,type:t[0].type,textureType:0},hasMain:!0,shaderSource:s}},Xb=a=>{if(!a||a.length===0)throw new Error("Sum requires inputs.");let t=a[0].dims.length;for(let o=1;o<a.length;o++){if(t!==a[o].dims.length)throw new Error("Input shapes are mismatched.");for(let e=0;e<t;e++)if(a[0].dims[e]!==a[o].dims[e])throw new Error("Input shapes are not matched.")}if(a[0].type!=="float32"&&a[0].type!=="float64")throw new Error("Invalid input type.");for(let o=1;o<a.length;o++)if(a[0].type!==a[o].type)throw new Error("Input types are not matched.")}});var Kc,Kb,Jb,Jc=L(()=>{"use strict";yn();ae();Kc=(a,t)=>{Jb(t);let o={name:"Tile",inputNames:["A"],inputTypes:[0]};return[a.run({...o,get:()=>Kb(a,t,o)},t)]},Kb=(a,t,o)=>{let e=t[0].dims.slice(),r=new Array(e.length),n=[];for(let u=0;u<e.length;u++)r[u]=e[u]*t[1].numberData[u],n.push(`inputIdx[${u}] = int(mod(float(outputIdx[${u}]), ${e[u]}.));`);let s=r.length,i=`\n      float process(int outputIdx[${s}]) {\n        int inputIdx[${s}];\n        ${n.join(`\n`)}\n        return _A(inputIdx);\n      }\n    `;return{...o,output:{dims:r,type:t[0].type,textureType:0},shaderSource:i}},Jb=a=>{if(!a||a.length!==2)throw new Error("Tile requires 2 input.");if(a[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(a[1].dims[0]!==a[0].dims.length)throw new Error("Invalid input shape.");if(nr.indexOf(a[0].type)===-1)throw new Error("Invalid input type.");if(a[1].type!=="int32"&&a[1].type!=="int16")throw new Error("Invalid repeat type.")}});var Ki,Zc,Qc,Zb,Qb,ep=L(()=>{"use strict";fe();Ki=(a,t,o)=>{Zb(t);let e=z.unsqueezeShape(t[0].dims,o);return[a.reshapeUnpacked(t[0],e)]},Zc=(a,t)=>(Qb(t),Ki(a,[t[0]],Array.from(t[1].integerData))),Qc=a=>a.attributes.getInts("axes"),Zb=a=>{if(!a||a.length!==1)throw new Error("Unsqueeze requires 1 input.");if(a[0].type==="string")throw new Error("invalid input tensor types.")},Qb=a=>{if(!a||a.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(a[1].type!=="int32")throw new Error("Invalid input type.")}});var tp,rp=L(()=>{"use strict";cl();Ol();Al();Cl();fo();gf();_f();Sf();Pf();Cf();kf();Gf();Vf();co();Yf();sc();mc();gc();_c();Ic();Dc();Gc();Vc();qc();Xc();Jc();ho();Ci();ep();Hi();tp=[["Abs","","6+",$l],["Acos","","7+",Bl],["Add","","7+",pl],["And","","7+",dl],["Asin","","7+",kl],["Atan","","7+",Nl],["AveragePool","","7+",Kf,Jf],["BatchNormalization","","7+",ll,fl],["Cast","","6+",Il,Sl],["Ceil","","6+",Gl],["Clip","","6-10",Li,Rl],["Clip","","11+",Ml],["Concat","","4+",Dl,Fl],["Conv","","1+",Mi,Gi],["ConvTranspose","","1+",mf,bf],["Cos","","7+",Ul],["Div","","7+",hl],["Dropout","","7+",Fi],["DepthToSpace","","1+",wf,vf],["Equal","","7+",ml],["Elu","","6+",zl,Wl],["Exp","","6+",Vl],["Flatten","","1+",Of,If],["Floor","","6+",Hl],["FusedConv","com.microsoft","1+",Mi,Gi],["Gather","","1+",Af,Ef],["Gemm","","7-10",Ui,Lf],["Gemm","","11+",Ui,Ff],["GlobalAveragePool","","1+",Qf,ec],["GlobalMaxPool","","1+",ic],["Greater","","7+",bl],["Identity","","1+",Fi],["ImageScaler","","1+",$f,Bf],["InstanceNormalization","","6+",Rf,Mf],["LeakyRelu","","6+",jl,ql],["Less","","7+",gl],["LRN","","1+",Uf,zf],["Log","","6+",Yl],["MatMul","","1+",uf,lf],["MaxPool","","1+",tc,rc],["Mul","","7+",yl],["Neg","","6+",Xl],["Not","","1+",Kl],["Or","","7+",Tl],["Pad","","2-10",zi,Hf],["Pad","","11+",jf,qf],["Pow","","7+",xl],["PRelu","","7+",wl],["ReduceLogSum","","1+",dc,or],["ReduceMax","","1+",fc,or],["ReduceMean","","1+",lc,or],["ReduceMin","","1+",cc,or],["ReduceProd","","1+",pc,or],["ReduceSum","","1-12",uc,or],["ReduceSumSquare","","1+",hc,or],["Relu","","6+",Jl],["Reshape","","5+",bc],["Resize","","10",qi,wc],["Resize","","11+",qi,vc],["Shape","","1+",Oc],["Sigmoid","","6+",Zl],["Sin","","7+",Ql],["Slice","","10+",Pc],["Slice","","1-9",Sc,Ac],["Softmax","","1-12",$c,Bc],["Softmax","","13+",Nc,kc],["Split","","2-12",zc,Wc],["Sqrt","","6+",ef],["Squeeze","","1-12",Xi,jc],["Squeeze","","13+",Hc],["Sub","","7+",vl],["Sum","","6+",Yc],["Tan","","7+",tf],["Tanh","","6+",rf],["Tile","","6+",Kc],["Transpose","","1+",Ar,Tf],["Upsample","","7-8",Wi,Tc],["Upsample","","9",Wi,xc],["Unsqueeze","","1-12",Ki,Qc],["Unsqueeze","","13+",Zc],["Xor","","7+",_l]]});function op(a){let t={},o;for(;(o=np.exec(a))!==null;){let e=o[3].split(",").map(r=>{let n=r.trim().split(" ");return n&&n.length===2?{type:n[0],name:n[1]}:null}).filter(r=>r!==null);t[o[2]]={params:e,body:o[4]}}for(let e in t){let r=eg.replace("__FUNC__",e),n=new RegExp(r,"gm");for(;(o=n.exec(a))!==null;){let s=o[1],i=o[2],u=o[3].split(","),l=s?`${s} ${i};`:"",c=t[e].body,d="";t[e].params.forEach((x,v)=>{x&&(d+=`${x.type} ${x.name} = ${u[v]};\n`)}),c=`${d}\n ${c}`,c=c.replace("return",`${i} = `);let b=`\n      ${l}\n      {\n        ${c}\n      }\n      `;a=a.replace(o[0],b)}}return a=a.replace(np,""),a}var np,eg,ip=L(()=>{"use strict";np=/@inline[\\s\\n\\r]+(\\w+)[\\s\\n\\r]+([0-9a-zA-Z_]+)\\s*\\(([^)]*)\\)\\s*{(([^}]|[\\n\\r])*)}/gm,eg="(\\\\w+)?\\\\s+([_0-9a-zA-Z]+)\\\\s+=\\\\s+__FUNC__\\\\((.*)\\\\)\\\\s*;"});function Yr(a,t){let o=[],e=[],r=t!=null&&Array.isArray(t)&&t.length===0,n=t==null||r?null:tg(t,a).sort(),s=0;for(let i=0;i<a.length;++i){if(n!=null){if(n[s]===i&&a[i]!==1)throw new Error(`Can\'t squeeze axis ${i} since its dim \'${a[i]}\' is not 1`);(n[s]==null||n[s]>i)&&a[i]===1&&(o.push(a[i]),e.push(i)),n[s]<=i&&s++}a[i]!==1&&(o.push(a[i]),e.push(i))}return{newShape:o,keptDims:e}}function tg(a,t){let o=t.length;return a=a==null?t.map((e,r)=>r):[].concat(a),zr(a.every(e=>e>=-o&&e<o),()=>`All values in axis param must be in range [-${o}, ${o}) but got axis ${a}`),zr(a.every(rg),()=>`All values in axis param must be integers but got axis ${a}`),a.map(e=>e<0?o+e:e)}function rg(a){return a%1===0}function ng(a){if(a.length===0)return 1;let t=a[0];for(let o=1;o<a.length;o++)t*=a[o];return t}function ap(a){let t=Math.ceil(Math.sqrt(a));return[t,Math.ceil(a/t)]}var yo,Ji=L(()=>{"use strict";dt();fe();yo=class{constructor(t){this.maxTextureSize=t}computeTextureWH(t,o){let e=this.computeTexture(t,o);return o&&o.isPacked&&(e[0]/=2,e[1]/=2),o&&o.reverseWH?[e[1],e[0]]:e}computeTexture(t,o){let e=o&&o.isPacked;if(t.length===0)return e?[2,2]:[1,1];let r=this.maxTextureSize;if(o&&o.breakAxis!==void 0){let i=o.breakAxis>=t.length?1:t.slice(o.breakAxis).reduce((l,c)=>l*c),u=o.breakAxis<=0?1:t.slice(0,o.breakAxis).reduce((l,c)=>l*c);if(i>r||u>r)pe.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${t}, breakAxis:${o.breakAxis}`);else return[i,u]}let n=t.slice(0);e&&(r=r*2,n=n.map((i,u)=>u>=n.length-2?n[u]%2===0?n[u]:n[u]+1:n[u]),n.length===1&&(n=[2,n[0]])),n.length!==2&&(n=Yr(n).newShape);let s=ng(n);return n.length<=1&&s<=r?[1,s]:n.length===2&&n[0]<=r&&n[1]<=r?n:n.length===3&&n[0]*n[1]<=r&&n[2]<=r?[n[0]*n[1],n[2]]:n.length===3&&n[0]<=r&&n[1]*n[2]<=r?[n[0],n[1]*n[2]]:n.length===4&&n[0]*n[1]*n[2]<=r&&n[3]<=r?[n[0]*n[1]*n[2],n[3]]:n.length===4&&n[0]<=r&&n[1]*n[2]*n[3]<=r?[n[0],n[1]*n[2]*n[3]]:e?ap(s/4).map(i=>i*2):ap(s)}}});var To,sp=L(()=>{"use strict";fe();Yt();ve();Ji();Bt();To=class extends gt{constructor(o){super(o)}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()}}getCustomTypes(){return{}}offsetToCoords(){let o="offsetToCoords";return{offsetToCoords:new G(`\n      vec2 ${o}(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      `)}}coordsToOffset(){let o="coordsToOffset";return{coordsToOffset:new G(`\n      int ${o}(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      `)}}getOutputSamplingSnippet(){let o=this.context.outputTextureLayout;return o.isPacked?this.getPackedOutputSamplingSnippet(o):this.getUnpackedOutputSamplingSnippet(o)}getPackedOutputSamplingSnippet(o){let e=o.unpackedShape,r=[o.width,o.height],n={},s="getOutputCoords";switch(e.length){case 0:n[s]=this.getOutputScalarCoords();break;case 1:n[s]=this.getOutputPacked1DCoords(e,r);break;case 2:n[s]=this.getOutputPacked2DCoords(e,r);break;case 3:n[s]=this.getOutputPacked3DCoords(e,r);break;default:n[s]=this.getOutputPackedNDCoords(e,r)}let u=`\n      void setOutput(vec4 val) {\n        ${q(this.context.glContext.version).output} = val;\n      }\n    `,l="floatTextureSetRGBA";return n[l]=new G(u),n}getUnpackedOutputSamplingSnippet(o){let e=o.unpackedShape,r=[o.width,o.height],n={},s="getOutputCoords";switch(e.length){case 0:n[s]=this.getOutputScalarCoords();break;case 1:n[s]=this.getOutputUnpacked1DCoords(e,r);break;case 2:n[s]=this.getOutputUnpacked2DCoords(e,r);break;case 3:n[s]=this.getOutputUnpacked3DCoords(e,r);break;case 4:n[s]=this.getOutputUnpacked4DCoords(e,r);break;case 5:n[s]=this.getOutputUnpacked5DCoords(e,r);break;case 6:n[s]=this.getOutputUnpacked6DCoords(e,r);break;default:throw new Error(`Unsupported output dimensionality: ${e.length}`)}let u=`\n        void setOutput(float val) {\n          ${q(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `,l="floatTextureSetR";return n[l]=new G(u),n}getOutputScalarCoords(){return new G(`\n      int getOutputCoords() {\n        return 0;\n      }\n    `)}getOutputPacked1DCoords(o,e){let r=e,n="";return r[0]===1?(n=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${r[1]}.0);\n          }\n        `,new G(n)):r[1]===1?(n=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${r[0]}.0);\n          }\n        `,new G(n)):(n=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${r[0]}, ${r[1]}));\n          return 2 * (resTexRC.y * ${r[0]} + resTexRC.x);\n        }\n      `,new G(n))}getOutputPacked2DCoords(o,e){let r="";if(xr.arraysEqual(o,e))return r=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${e[0]}, ${e[1]}));\n        }\n      `,new G(r);let n=e,s=Math.ceil(o[1]/2);return r=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${n[0]}, ${n[1]}));\n\n          int index = resTexRC.y * ${n[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${s}) * 2;\n          int c = 2 * (index / ${s});\n\n          return ivec2(r, c);\n        }\n      `,new G(r)}getOutputPacked3DCoords(o,e){let r=[e[0],e[1]],n=Math.ceil(o[2]/2),s=n*Math.ceil(o[1]/2),i=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${r[0]}, ${r[1]}));\n          int index = resTexRC.y * ${r[0]} + resTexRC.x;\n\n          int b = index / ${s};\n          index -= b * ${s};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${n}) * 2;\n          int c = 2 * (index / ${n});\n\n          return ivec3(b, r, c);\n        }\n      `;return new G(i)}getOutputPackedNDCoords(o,e){let r=[e[0],e[1]],n=Math.ceil(o[o.length-1]/2),s=n*Math.ceil(o[o.length-2]/2),i=s,u="",l="b, r, c";for(let d=2;d<o.length-1;d++)i*=o[o.length-d-1],u=`\n      int b${d} = index / ${i};\n      index -= b${d} * ${i};\n    `+u,l=`b${d}, `+l;let c=`\n      ivec${o.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${r[0]}, ${r[1]}));\n        int index = resTexRC.y * ${r[0]} + resTexRC.x;\n\n        ${u}\n\n        int b = index / ${s};\n        index -= b * ${s};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${n}) * 2;\n        int c = 2 * (index / ${n});\n\n        return ivec${o.length}(${l});\n      }\n    `;return new G(c)}getOutputUnpacked1DCoords(o,e){let r=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${e[0]}, ${e[1]}));\n          return resTexRC.y * ${e[0]} + resTexRC.x;\n        }\n      `;return new G(r)}getOutputUnpacked2DCoords(o,e){let r=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${e[0]}, ${e[1]}));\n          int index = resTexRC.y * ${e[0]} + resTexRC.x;\n          int r = index / ${o[1]};\n          int c = index - r * ${o[1]};\n          return ivec2(r, c);\n        }\n      `;return new G(r)}getOutputUnpacked3DCoords(o,e){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let l=n-3;l>=0;--l)s[l]=s[l+1]*o[l+1];let i=["r","c","d"],u=s.map((l,c)=>{let d=`int ${i[c]} = index / ${l}`,b=c===s.length-1?`int ${i[c+1]} = index - ${i[c]} * ${l}`:`index -= ${i[c]} * ${l}`;return`${d}; ${b};`}).join("");return r=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${e[0]}, ${e[1]}));\n          int index = resTexRC.y * ${e[0]} + resTexRC.x;\n          ${u}\n          return ivec3(r, c, d);\n        }\n      `,new G(r)}getOutputUnpacked4DCoords(o,e){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let l=n-3;l>=0;--l)s[l]=s[l+1]*o[l+1];let i=["r","c","d","d2"],u=s.map((l,c)=>{let d=`int ${i[c]} = index / ${l}`,b=c===s.length-1?`int ${i[c+1]} = index - ${i[c]} * ${l}`:`index -= ${i[c]} * ${l}`;return`${d}; ${b};`}).join("");return r=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${e[0]}, ${e[1]}));\n          int index = resTexRC.y * ${e[0]} + resTexRC.x;\n          ${u}\n          return ivec4(r, c, d, d2);\n        }\n      `,new G(r)}getOutputUnpacked5DCoords(o,e){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let l=n-3;l>=0;--l)s[l]=s[l+1]*o[l+1];let i=["r","c","d","d2","d3"],u=s.map((l,c)=>{let d=`int ${i[c]} = index / ${l}`,b=c===s.length-1?`int ${i[c+1]} = index - ${i[c]} * ${l}`:`index -= ${i[c]} * ${l}`;return`${d}; ${b};`}).join("");return r=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${e[0]}, ${e[1]}));\n          int index = resTexRC.y * ${e[0]} + resTexRC.x;\n          ${u}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new G(r)}getOutputUnpacked6DCoords(o,e){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let l=n-3;l>=0;--l)s[l]=s[l+1]*o[l+1];let i=["r","c","d","d2","d3","d4"],u=s.map((l,c)=>{let d=`int ${i[c]} = index / ${l}`,b=c===s.length-1?`int ${i[c+1]} = index - ${i[c]} * ${l}`:`index -= ${i[c]} * ${l}`;return`${d}; ${b};`}).join("");return r=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${e[0]}, ${e[1]}));\n         int index = resTexRC.y * ${e[0]} + resTexRC.x;\n         ${u}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new G(r)}getCommonUtilFuncs(){let o={},e="uvFromFlat";o[e]=new G(`\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    `),e="packedUVfrom1D",o[e]=new G(`\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      `),e="packedUVfrom2D",o[e]=new G(`\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      `),e="packedUVfrom3D",o[e]=new G(`\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      `),e="sampleTexture";let r=q(this.context.glContext.version);return o[e]=new G(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${r.texture2D}(textureSampler, uv).r;\n        }`),o}getInputsSamplingSnippets(){let o={},e=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((r,n)=>{let s=this.context.inputTextureLayouts[n],i=no(r);s.isPacked?o[i]=this.getPackedSamplerFromInput(i,r,s):o[i]=this.getUnpackedSamplerFromInput(i,r,s);let u=qu(r);s.unpackedShape.length<=e.unpackedShape.length&&(s.isPacked?o[u]=this.getPackedSamplerAtOutputCoords(u,s,e,r):o[u]=this.getUnpackedSamplerAtOutputCoords(u,s,e,r))}),o}getPackedSamplerAtOutputCoords(o,e,r,n){let s=e.unpackedShape,i=r.unpackedShape,l=no(n),c=s.length,d=i.length,b=Ke.getBroadcastDims(s,i),x=Je(d),v=d-c,_,S=Dt();c===0?_="":d<2&&b.length>=1?_="coords = 0;":_=b.map(je=>`coords.${S[je+v]} = 0;`).join(`\n`);let E="";d<2&&c>0?E="coords":E=s.map((je,ut)=>`coords.${S[ut+v]}`).join(", ");let C="return outputValue;",J=z.size(s)===1,U=z.size(i)===1;if(c===1&&!J&&!U)C=`\n        return vec4(outputValue.xy, outputValue.xy);\n      `;else if(J&&!U)d===1?C=`\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        `:C=`\n          return vec4(outputValue.x);\n        `;else if(b.length){let je=c-2,ut=c-1;b.indexOf(je)>-1&&b.indexOf(ut)>-1?C="return vec4(outputValue.x);":b.indexOf(je)>-1?C="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":b.indexOf(ut)>-1&&(C="return vec4(outputValue.xx, outputValue.zz);")}let ie=`\n        int lastDim = coords.${S[d-1]};\n        coords.${S[d-1]} = coords.${S[d-2]};\n        coords.${S[d-2]} = lastDim;\n      `,Be=`\n      vec4 ${o}() {\n        ${x} coords = getOutputCoords();\n        ${ie}\n        ${_}\n        vec4 outputValue = ${l}(${E});\n        ${C}\n      }\n    `;return new G(Be,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(o,e,r,n){let s=[r.width,r.height],i=[e.width,e.height],u=e.unpackedShape.length,l=r.unpackedShape.length,c=e.unpackedShape,d=r.unpackedShape,b=no(n);if(u===l&&xr.arraysEqual(i,s)){let J=`\n          float ${o}() {\n            return sampleTexture(${n}, TexCoords);\n          }\n        `;return new G(J,["coordinates.sampleTexture"])}let x=Je(l),v=Ke.getBroadcastDims(c,d),_=l-u,S,E=Dt();u===0?S="":l<2&&v.length>=1?S="coords = 0;":S=v.map(J=>`coords.${E[J+_]} = 0;`).join(`\n`);let C="";l<2&&u>0?C="coords":C=e.unpackedShape.map((J,Y)=>`coords.${E[Y+_]}`).join(", ");let N=`\n        float ${o}() {\n          ${x} coords = getOutputCoords();\n          ${S}\n          return ${b}(${C});\n        }\n      `;return new G(N,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(o,e,r){switch(r.unpackedShape.length){case 0:return this.getPackedSamplerScalar(o,e);case 1:return this.getPackedSampler1D(o,e,r);case 2:return this.getPackedSampler2D(o,e,r);case 3:return this.getPackedSampler3D(o,e,r);default:return this.getPackedSamplerND(o,e,r)}}getUnpackedSamplerFromInput(o,e,r){let n=r.unpackedShape;switch(n.length){case 0:return this.getUnpackedSamplerScalar(o,e,r);case 1:return this.getUnpackedSampler1D(o,e,r);case 2:return this.getUnpackedSampler2D(o,e,r);case 3:return this.getUnpackedSampler3D(o,e,r);case 4:return this.getUnpackedSampler4D(o,e,r);case 5:return this.getUnpackedSampler5D(o,e,r);case 6:return this.getUnpackedSampler6D(o,e,r);default:throw new Error(`Unsupported dimension ${n.length}-D`)}}getPackedSamplerScalar(o,e){let r=q(this.context.glContext.version),n=`\n          vec4 ${o}() {\n            return ${r.texture2D}(${e}, halfCR);\n          }\n        `;return new G(n)}getPackedSampler1D(o,e,r){let n=[r.width,r.height],s=[n[1],n[0]],i=q(this.context.glContext.version),l=`vec4 ${o}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${s[0]}, ${s[1]}, index);\n      return ${i.texture2D}(${e}, uv);\n    }`;return new G(l,["coordinates.packedUVfrom1D"])}getPackedSampler2D(o,e,r){let n=r.unpackedShape,s=[r.width,r.height],i=q(this.context.glContext.version),u=s[0],l=s[1];if(s!=null&&xr.arraysEqual(n,s)){let v=`vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${l}.0, ${u}.0);\n        return ${i.texture2D}(${e}, uv);\n      }`;return new G(v)}let c=s,d=Math.ceil(n[1]/2),x=`vec4 ${o}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${c[1]}, ${c[0]}, ${d}, row, col);\n      return ${i.texture2D}(${e}, uv);\n    }`;return new G(x,["coordinates.packedUVfrom2D"])}getPackedSampler3D(o,e,r){let n=r.unpackedShape,s=[r.width,r.height],i=[s[0],s[1]],u=q(this.context.glContext.version);if(n[0]===1){let _=n.slice(1),S=[1,2],E=Wr(n,_),C=["b","row","col"],N=JSON.parse(JSON.stringify(r));N.unpackedShape=E;let J=this.getPackedSamplerFromInput(o,e,N),U=`${J.routineBody}\n      vec4 ${o}(int b, int row, int col) {\n        return ${o}(${Vr(C,S)});\n      } `;return new G(U,J.dependencies)}let l=i[0],c=i[1],d=Math.ceil(n[2]/2),b=d*Math.ceil(n[1]/2),v=`vec4 ${o}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${c}, ${l}, ${b}, ${d}, b, row, col);\n      return ${u.texture2D}(${e}, uv);}`;return new G(v,["coordinates.packedUVfrom3D"])}getPackedSamplerND(o,e,r){let n=r.unpackedShape,s=n.length,i=[r.width,r.height],u=q(this.context.glContext.version),l=[i[0],i[1]],c=l[1],d=l[0],b=Math.ceil(n[s-1]/2),x=b*Math.ceil(n[s-2]/2),v="int b, int row, int col",_=`b * ${x} + (row / 2) * ${b} + (col / 2)`;for(let C=2;C<s-1;C++)v=`int b${C}, `+v,x*=n[s-C-1],_=`b${C} * ${x} + `+_;let E=`vec4 ${o}(${v}) {\n      int index = ${_};\n      int texR = index / ${d};\n      int texC = index - texR * ${d};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${c});\n      return ${u.texture2D}(${e}, uv);\n    }`;return new G(E)}getUnpackedSamplerScalar(o,e,r){let[n,s]=[r.width,r.height];if(n===1&&s===1){let u=`\n          float ${o}() {\n            return sampleTexture(${e}, halfCR);\n          }\n        `;return new G(u,["coordinates.sampleTexture"])}let i=`\n        float ${o}() {\n          int offset_${e} = coordsToOffset(TexCoords, ${n}, ${s});\n          vec2 uv = uvFromFlat(${n}, ${s}, offset_${e});\n          return sampleTexture(${e}, uv);\n        }\n      `;return new G(i,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(o,e,r){let n=r.width,s=r.height;if(s===1&&n===1){let u=`\n        float ${o}(int index) {\n          return sampleTexture(${e}, halfCR);\n        }\n      `;return new G(u,["coordinates.sampleTexture"])}if(s===1){let u=`\n          float ${o}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${n}.0, 0.5);\n            return sampleTexture(${e}, uv);\n          }\n        `;return new G(u,["coordinates.sampleTexture"])}if(n===1){let u=`\n          float ${o}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${s}.0);\n            return sampleTexture(${e}, uv);\n          }\n        `;return new G(u,["coordinates.sampleTexture"])}let i=`\n        float ${o}(int index) {\n          vec2 uv = uvFromFlat(${n}, ${s}, index);\n          return sampleTexture(${e}, uv);\n        }\n      `;return new G(i,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(o,e,r){let n=r.unpackedShape,s=[r.height,r.width];if(s!=null&&xr.arraysEqual(n,s)){let x=s[1],v=s[0],_=`\n          float ${o}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${x}.0, ${v}.0);\n            return sampleTexture(${e}, uv);\n          }\n        `;return new G(_,["coordinates.sampleTexture"])}let{newShape:i,keptDims:u}=Yr(n),l=i;if(l.length<n.length){let x=Wr(n,l),v=JSON.parse(JSON.stringify(r));v.unpackedShape=x;let _=["col","row"],S=`\n          ${this.getUnpackedSamplerFromInput(o,e,v).routineBody}\n          float ${o}(int row, int col) {\n            return ${o}(${Vr(_,u)});\n          }\n        `;return new G(S,["coordinates.sampleTexture"])}let c=s[1],d=s[0];if(d===1){let x=`\n          float ${o}(int row, int col) {\n            int offset_${e} = coordsToOffset(TexCoords, ${c}, ${d});\n            float index = dot(vec3(row, col, offset_${e}), vec3(${n[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);\n            return sampleTexture(${e}, uv);\n          }\n        `;return new G(x,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(c===1){let x=`\n          float ${o}(int row, int col) {\n            int offset_${e} = coordsToOffset(TexCoords, ${c}, ${d});\n            float index = dot(vec3(row, col, offset_${e}), vec3(${n[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);\n            return sampleTexture(${e}, uv);\n          }\n        `;return new G(x,["coordinates.sampleTexture","coordinates.coordsToOffset"])}let b=`\n        float ${o}(int row, int col) {\n          int index = col * ${n[1]} + row;\n          vec2 uv = uvFromFlat(${c}, ${d}, index);\n          return sampleTexture(${e}, uv);\n        }\n      `;return new G(b,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(o,e,r){let n=r.unpackedShape,s=n[1]*n[2],i=n[2],{newShape:u,keptDims:l}=Yr(n),c=u;if(c.length<n.length){let v=Wr(n,c),_=["batch","col","row"],S=JSON.parse(JSON.stringify(r));S.unpackedShape=v;let E=this.getUnpackedSamplerFromInput(o,e,S),C=l.reverse(),N=`\n          ${E.routineBody}\n          float ${o}(int batch, int row, int col) {\n            return ${o}(${Vr(_,C)});\n          }\n        `;return new G(N,E.dependencies)}let d=r.width,b=r.height,x=`\n          float ${o}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${s} + col * ${i} + row;\n            vec2 uv = uvFromFlat(${d}, ${b}, index);\n            return sampleTexture(${e}, uv);\n          }\n      `;return new G(x,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(o,e,r){let n=r.unpackedShape,s=n[3],i=n[2]*s,u=n[1]*i,l=r.width,c=r.height,d=`\n        float ${o}(int row, int col, int depth, int depth2) {\n          int index = row * ${u} + col * ${i} +\n              depth2 * ${s} + depth;\n          vec2 uv = uvFromFlat(${l}, ${c}, index);\n          return sampleTexture(${e}, uv);\n        }\n      `;return new G(d,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(o,e,r){let n=r.unpackedShape,s=n[4],i=n[3]*s,u=n[2]*i,l=n[1]*u,{newShape:c,keptDims:d}=Yr(n);if(c.length<n.length){let _=Wr(n,c),S=["row","col","depth","depth2","depth3"],E=JSON.parse(JSON.stringify(r));E.unpackedShape=_;let C=`\n          ${this.getUnpackedSamplerFromInput(o,e,E).routineBody}\n          float ${o}(int row, int col, int depth, int depth2, int depth3) {\n            return ${o}(${Vr(S,d)});\n          }\n        `;return new G(C,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let b=r.width,x=r.height,v=`\n        float ${o}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${l} + col * ${u} + depth * ${i} +\n          depth3 * ${s} + depth2;\n          vec2 uv = uvFromFlat(${b}, ${x}, index);\n          return sampleTexture(${e}, uv);\n        }\n      `;return new G(v,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(o,e,r){let n=r.unpackedShape,s=n[5],i=n[4]*s,u=n[3]*i,l=n[2]*u,c=n[1]*l,{newShape:d,keptDims:b}=Yr(n);if(d.length<n.length){let S=Wr(n,d),E=["row","col","depth","depth2","depth3","depth4"],C=JSON.parse(JSON.stringify(r));C.unpackedShape=S;let N=`\n            ${this.getUnpackedSamplerFromInput(o,e,C).routineBody}\n            float ${o}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${o}(${Vr(E,b)});\n            }\n          `;return new G(N,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let x=r.width,v=r.height,_=`\n          float ${o}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${c} + col * ${l} + depth * ${u} +\n            depth2 * ${i} + depth3 * ${s} + depth4;\n            vec2 uv = uvFromFlat(${x}, ${v}, index);\n            return sampleTexture(${e}, uv);\n          }\n        `;return new G(_,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){let o=this.context.outputTextureLayout,e=o.shape.length,r=o.strides,n=o.width,s=o.height,i=[];for(let l=0;l<e-1;++l)i.push(`\n        c[${l}] = offset / ${r[l]};`),i.push(`\n        offset -= c[${l}] * ${r[l]};`);i.push(`\n        c[${e-1}] = offset;`);let u=`\n      void toVec(vec2 texCoords, out int c[${e}]) {\n        int offset = coordsToOffset(texCoords, ${n}, ${s});\n        ${i.join("")}\n      }\n      void toVec(int offset, out int c[${e}]) {\n        ${i.join("")}\n      }\n    `;return{toVec:new G(u,["coordinates.coordsToOffset"])}}valueFrom(){let o={};return this.context.programInfo.inputNames.forEach((e,r)=>{let n=this.context.inputTextureLayouts[r],i=(n.unpackedShape.length>0?n.unpackedShape:n.shape).length,u=`_${e}`;o[u]=new G(this.getValueFromSingle(e,i,n.width,n.height,!1),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),u=u+"_T",o[u]=new G(this.getValueFromSingle(e,i,n.width,n.height,!0),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),o}getValueFromSingle(o,e,r,n,s){let i=`_${o}`;s&&(i=i+"_T");let u=q(this.context.glContext.version);return`\n        float ${i}(int m[${e}]) {\n          int offset = indicesToOffset${i}(m);\n          vec2 coords = offsetToCoords(offset, ${r}, ${n});\n          float value = getColorAsFloat(${u.texture2D}(${o}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(o,e,r,n,s){let i=`_${o}_Pack`;s&&(i=i+"_T");let u=q(this.context.glContext.version);return`\n        vec4 ${i}(int m[${e}]) {\n          int offset = indicesToOffset_${o}(m);\n          vec2 coords = offsetToCoords(offset, ${r}, ${n});\n          return ${u.texture2D}(${o}, coords);\n        }\n        `}}});var xo,up=L(()=>{"use strict";Yt();xo=class a extends gt{constructor(t){super(t)}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()}}getCustomTypes(){return{}}encodeFloat32(){return{encode:new G(`highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        `)}}decodeFloat32(){return{decode:new G(`highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        `)}}encodeUint8(){let t=a.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new G(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${t}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){let t=a.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new G(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${t}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){let t=new ArrayBuffer(4),o=new Uint32Array(t),e=new Uint8Array(t);if(o[0]=3735928559,e[0]===239)return!0;if(e[0]===222)return!1;throw new Error("unknown endianness")}}});var wo,lp=L(()=>{"use strict";Yt();ve();wo=class extends gt{constructor(t){super(t)}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()}}getCustomTypes(){return{}}setFragColor(){let t=q(this.context.glContext.version);return{setFragColor:new G(`\n        void setFragColor(float value) {\n            ${t.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new G(`\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        `,["encoding.decode"])}}}});var vo,fp=L(()=>{"use strict";Yt();vo=class a extends gt{constructor(t){super(t)}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()}}getCustomTypes(){return{}}bcastIndex(){let t=this.context.outputTextureLayout.shape.length,o={};return this.context.programInfo.inputNames.forEach((e,r)=>{let n=this.context.inputTextureLayouts[r].unpackedShape;if(n.length<=t){let s=n.length,i=t-s,u=`bcastIndices_${e}`,l="";for(let d=0;d<s;++d)l+=`\n          realIndices[${d}] = int( mod(float(bcastedIndices[${i+d}]), ${n[d]}.0) );\n          `;let c=`\n        void ${u} (int bcastedIndices[${t}], out int realIndices[${s}]) {\n          ${l}\n        }\n        `;o[u]=new G(c)}}),o}bcastMatmulIndex(){let t=this.context.outputTextureLayout.shape.length,o={};return this.context.programInfo.inputNames.forEach((e,r)=>{let n=this.context.inputTextureLayouts[r].shape;if(!(n.length<2||n.length>t)){let s=n.length,i=t-s,u=`bcastMatmulIndices_${e}`,l="";for(let d=0;d<s-2;++d)l+=`\n          realIndices[${d}] = int( mod(float(bcastedIndices[${i+d}]), ${n[d]}.0) );\n          `;let c=`\n        void ${u}(int bcastedIndices[${t}], out int realIndices[${s}]) {\n          ${l}\n          realIndices[${s-1}] = bcastedIndices[${t-1}];\n          realIndices[${s-2}] = bcastedIndices[${t-2}];\n        }\n        `;o[u]=new G(c)}}),o}indicesToOffset(){let t={};return this.context.programInfo.inputNames.forEach((o,e)=>{let r=this.context.inputTextureLayouts[e].shape,n=this.context.inputTextureLayouts[e].strides,s=r.length,i=`indicesToOffset_${o}`;t[i]=new G(a.indexToOffsetSingle(i,s,n)),i=`indicesToOffset_${o}_T`,t[i]=new G(a.indexToOffsetSingle(i,s,n.slice().reverse()))}),t}static indexToOffsetSingle(t,o,e){let r="";for(let n=o-1;n>=0;--n)r+=`\n        offset += indices[${n}] * ${e[n]};\n        `;return`\n      int ${t}(int indices[${o}]) {\n        int offset = 0;\n        ${r}\n        return offset;\n      }\n      `}offsetToIndices(){let t={};return this.context.programInfo.inputNames.forEach((o,e)=>{let r=this.context.inputTextureLayouts[e].shape,n=this.context.inputTextureLayouts[e].strides,s=r.length,i=`offsetToIndices_${o}`;t[i]=new G(a.offsetToIndicesSingle(i,s,n)),i=`offsetToIndices_${o}_T`,t[i]=new G(a.offsetToIndicesSingle(i,s,n.slice().reverse()))}),t}static offsetToIndicesSingle(t,o,e){let r=[];for(let n=0;n<o-1;++n)r.push(`\n      indices[${n}] = offset / ${e[n]};`),r.push(`\n        offset -= indices[${n}] * ${e[n]};`);return r.push(`\n      indices[${o-1}] = offset;`),`\n      void ${t}(int offset, out int indices[${o}]) {\n        ${r.join("")}\n      }\n      `}incrementIndices(){let t={};return this.context.programInfo.inputNames.forEach((o,e)=>{let r=this.context.inputTextureLayouts[e].shape,n=r.length,s=`incrementIndices_${o}`,i="";for(let l=0;l<n;++l)i+=`\n        shape[${l}] = ${r[l]};`;let u=`\n        void ${s}(int axis, out int indices[${n}]) {\n          int shape[${n}];\n          ${i};\n          for(int i = ${n} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `;t[s]=new G(u)}),t}}});var _o,cp=L(()=>{"use strict";Yt();_o=class extends gt{constructor(t){super(t)}getCustomTypes(){return{}}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()}}binaryVecFunctions(){let o=this.context.outputTextureLayout.shape.length,e={add:"+=",sub:"-=",mul:"*=",div:"/="},r={};for(let n in e){let s=`${n}Vec`,i="";for(let l=0;l<o;++l)i+=`\n          dest[${l}] ${e[n]} src[${l}];\n          `;let u=`\n        void ${s}(int src[${o}], out int dest[${o}]) {\n          ${i}\n        }\n        `;r[s]=new G(u)}return r}copyVec(){let o=this.context.outputTextureLayout.shape.length,e="";for(let n=0;n<o;++n)e+=`\n        dest[${n}] = src[${n}];\n        `;let r=`\n      void copyVec(int src[${o}], out int dest[${o}]) {\n        ${e}\n      }\n      `;return{copyVec:new G(r)}}setVecItem(){let o=this.context.outputTextureLayout.shape.length,e=`\n        if(index < 0)\n            index =${o} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let n=1;n<o-1;++n)e+=`\n        else if (index == ${n})\n            m[${n}] = value;\n            `;e+=`\n        else\n            m[${o-1}] = value;\n        `;let r=`\n      void setVecItem(out int m[${o}], int index, int value) {\n        ${e}\n      }\n        `;return{setVecItem:new G(r)}}getVecItem(){let o=this.context.outputTextureLayout.shape.length,e=`\n        if(index < 0)\n            index = ${o} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let n=1;n<o-1;++n)e+=`\n        else if (index == ${n})\n            return m[${n}];\n      `;e+=`\n        else\n            return m[${o-1}];\n        `;let r=`\n      int getVecItem(int m[${o}], int index) {\n        ${e}\n      }\n    `;return{getVecItem:new G(r)}}}});var Zi,pp=L(()=>{"use strict";sp();up();lp();fp();cp();Zi={encoding:xo,fragcolor:wo,vec:_o,shapeUtils:vo,coordinates:To}});var Oo,dp=L(()=>{"use strict";Yt();ip();pp();ve();Oo=class{constructor(t,o,e,r){this.libs={};this.glslLibRoutineDependencyGraph={};this.context=new so(t,o,e,r),Object.keys(Zi).forEach(s=>{let i=new Zi[s](this.context);this.libs[s]=i});let n=this.glslLibRoutineDependencyGraph;for(let s in this.libs){let u=this.libs[s].getFunctions();for(let l in u){let c=s+"."+l,d;n[c]?(d=n[c],d.routineBody=u[l].routineBody):(d=new gn(c,u[l].routineBody),n[c]=d);let b=u[l].dependencies;if(b)for(let x=0;x<b.length;++x)if(n[b[x]])d.addDependency(n[b[x]]);else{let v=new gn(b[x]);n[b[x]]=v,d.addDependency(v)}}}}preprocess(){let t=this.context.programInfo,o=t.shaderSource;return this.context.programInfo.hasMain||(o=`${o}\n      ${ju(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),o=op(o),`${Hu(this.context.glContext.version)}\n    ${this.getUniforms(t.inputNames,t.variables)}\n    ${this.getImports(o)}\n    ${o}`}getImports(t){let o=this.selectGlslLibRoutinesToBeIncluded(t);if(o.length===0)return"";let e="";for(let r=0;r<o.length;++r)if(o[r].routineBody)e+=o[r].routineBody+`\n`;else throw new Error(`Missing body for the Glsl Library routine: ${o[r].name}`);return e}selectGlslLibRoutinesToBeIncluded(t){let o=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(e=>{let r=e.split(".")[1];t.indexOf(r)!==-1&&o.push(this.glslLibRoutineDependencyGraph[e])}),uo.returnOrderedNodes(o)}getUniforms(t,o){let e=[];if(t)for(let r of t)e.push(`uniform sampler2D ${r};`);if(o)for(let r of o)e.push(`uniform ${r.type} ${r.name}${r.arrayLength?`[${r.arrayLength}]`:""};`);return e.join(`\n`)}}});var Io,hp=L(()=>{"use strict";It();dt();dp();ve();Io=class{constructor(t,o,e){this.profiler=t;this.glContext=o;this.textureLayoutStrategy=e;this.repo=new Map,this.attributesBound=!1}getArtifact(t){return this.repo.get(t)}setArtifact(t,o){this.repo.set(t,o)}run(t,o,e){this.profiler.event("op",`ProgramManager.run ${t.programInfo.name??"unknown kernel"}`,()=>{let r=this.glContext.gl,n=t.program;r.useProgram(n);try{this.bindOutput(e),this.attributesBound||this.bindAttributes(t.attribLocations),this.bindUniforms(t.uniformLocations,t.programInfo.variables??[],o)}catch(s){throw pe.error("ProgramManager",t.programInfo.shaderSource),s}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(t=>this.glContext.deleteProgram(t.program))}build(t,o,e){return this.profiler.event("backend","ProgramManager.build",()=>{let r=new Oo(this.glContext,t,o,e),n=r.preprocess(),s=this.compile(n);return{programInfo:t,program:s,uniformLocations:this.getUniformLocations(s,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(s)}})}compile(t){if(!this.vertexShader){pe.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");let r=Vu(this.glContext.version);this.vertexShader=this.glContext.compileShader(r,this.glContext.gl.VERTEX_SHADER)}ee.debug&&pe.verbose("ProrgramManager",`FragShader:\n${t}\n`);let o=this.glContext.compileShader(t,this.glContext.gl.FRAGMENT_SHADER),e=this.glContext.createProgram(this.vertexShader,o);return this.glContext.deleteShader(o),e}bindOutput(t){let o=t.width,e=t.height;pe.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${o}/${e}, shape=${t.shape}, type=${t.tensor.type}`),this.glContext.attachFramebuffer(t.texture,o,e)}bindAttributes(t){let o=t.position,e=t.textureCoord;this.glContext.setVertexAttributes(o,e),this.attributesBound=!0}bindUniforms(t,o,e){let r=this.glContext.gl,n=0;for(let{name:s,type:i,location:u,arrayLength:l}of t){let c=o.find(d=>d.name===s)?.data;if(i!=="sampler2D"&&!c)throw new Error(`variable \'${s}\' does not have data defined in program info`);switch(i){case"sampler2D":this.bindTexture(e[n],u,n),n++;break;case"float":l?r.uniform1fv(u,c):r.uniform1f(u,c);break;case"int":l?r.uniform1iv(u,c):r.uniform1i(u,c);break;default:throw new Error(`Uniform not implemented: ${i}`)}}}bindTexture(t,o,e){this.glContext.bindTextureToUniform(t.texture,e,o)}getAttribLocations(t){return{position:this.getAttribLocation(t,"position"),textureCoord:this.getAttribLocation(t,"textureCoord")}}getUniformLocations(t,o,e){let r=[];if(o)for(let n of o)r.push({name:n,type:"sampler2D",location:this.getUniformLocation(t,n)});if(e)for(let n of e)r.push({...n,location:this.getUniformLocation(t,n.name)});return r}getUniformLocation(t,o){let r=this.glContext.gl.getUniformLocation(t,o);if(r===null)throw new Error(`Uniform ${o} not found.`);return r}getAttribLocation(t,o){return this.glContext.gl.getAttribLocation(t,o)}}});var So,mp=L(()=>{"use strict";dt();mn();So=class{constructor(t,o,e,r){this.glContext=t;this.layoutStrategy=o;this.profiler=e;this.config=r;this.pendingRead=new Map;r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(t,o,e,r){let n=this.toEncoderType(t),s=this.glContext.getEncoder(n,o.channels||1,r);if(o.isPacked&&r===1)throw new Error("not implemented");let i=o.width,u=o.height,l,c;if(this.config.reuseTextures){l=`${i}x${u}_${s.format}_${s.internalFormat}_${s.textureType}`,c=this.inUseTextures.get(l),c||(c=[],this.inUseTextures.set(l,c));let b=this.idleTextures.get(l);if(b&&b.length>0){let x=b.pop();return c.push(x),r===1&&this.glContext.updateTexture(x,i,u,s,this.toTextureData(t,e)),x}}pe.verbose("TextureManager",`Creating new texture of size ${o.width}x${o.height}`);let d=this.glContext.allocateTexture(i,u,s,this.toTextureData(t,e));return this.config.reuseTextures&&(c.push(d),this.textureLookup.set(d,l)),d}readTexture(t,o,e){return e||(e=1),this.profiler.event("backend","TextureManager.readTexture",()=>{let r=t.shape.reduce((s,i)=>s*i)*e,n=this.glContext.readTexture(t.texture,t.width,t.height,r,this.toEncoderType(o),e);return this.toTensorData(o,n)})}async readTextureAsync(t,o,e){let r=t.tensor.dataId;if(e||(e=1),this.pendingRead.has(r)){let n=this.pendingRead.get(r);return new Promise(s=>n?.push(s))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(r,[]);let n=t.shape.reduce((l,c)=>l*c)*e;await this.glContext.createAndWaitForFence();let s=this.glContext.readTexture(t.texture,t.width,t.height,n,this.toEncoderType(o),e),i=this.toTensorData(o,s),u=this.pendingRead.get(r);return this.pendingRead.delete(r),u?.forEach(l=>l(i)),i})}readUint8TextureAsFloat(t){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{let o=t.shape.reduce((r,n)=>r*n),e=this.glContext.readTexture(t.texture,t.width,t.height,o*4,"byte",4);return new Float32Array(e.buffer,e.byteOffset,o)})}releaseTexture(t,o){let e;if(this.config.reuseTextures&&(e=this.textureLookup.get(t.texture),e)){o&&this.textureLookup.delete(e);let r=this.inUseTextures.get(e);if(r){let n=r.indexOf(t.texture);if(n!==-1){r.splice(n,1);let s=this.idleTextures.get(e);s||(s=[],this.idleTextures.set(e,s)),s.push(t.texture)}}}(!e||o)&&(pe.verbose("TextureManager",`Deleting texture of size ${t.width}x${t.height}`),this.glContext.deleteTexture(t.texture))}toTensorData(t,o){switch(t){case"int16":return o instanceof Int16Array?o:Int16Array.from(o);case"int32":return o instanceof Int32Array?o:Int32Array.from(o);case"int8":return o instanceof Int8Array?o:Int8Array.from(o);case"uint16":return o instanceof Uint16Array?o:Uint16Array.from(o);case"uint32":return o instanceof Uint32Array?o:Uint32Array.from(o);case"uint8":case"bool":return o instanceof Uint8Array?o:Uint8Array.from(o);case"float32":return o instanceof Float32Array?o:Float32Array.from(o);case"float64":return o instanceof Float64Array?o:Float64Array.from(o);default:throw new Error(`TensorData type ${t} is not supported`)}}toTextureData(t,o){if(o)return o instanceof Float32Array?o:new Float32Array(o)}toEncoderType(t){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}});var Ao,bp=L(()=>{"use strict";dt();Ds();sl();rp();hp();Ji();mp();Ao=class{constructor(t,o){this.backend=t;this.context=o;this.layoutStrategy=new yo(t.glContext.maxTextureSize),this.programManager=new Io(this.context.profiler,t.glContext,this.layoutStrategy),this.textureManager=new So(t.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:t.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=t.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new ao(this)}onGraphInitialized(t){let o=t.getValues().filter(e=>e.from===-1&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(o)}isInitializer(t){return this.initializers?this.initializers.has(t):!1}addInitializer(t){this.initializers.add(t)}getTextureData(t,o){return o?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)}setTextureData(t,o,e=!1){pe.verbose("WebGLSessionHandler","Storing Texture data in cache"),e?this.packedTextureDataCache.set(t,o):this.unpackedTextureDataCache.set(t,o)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(t=>this.textureManager.releaseTexture(t,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(t=>this.textureManager.releaseTexture(t,!0)),this.unpackedTextureDataCache=new Map}resolve(t,o,e){let r=Ps(t,o,tp);return{impl:r.opImpl,context:r.opInit?r.opInit(t,e):t}}}});function og(a){let t=0;for(;t<a.length&&a[t]();++t);return t-1}var xn,gp=L(()=>{"use strict";It();mn();mn();Bt();xn=class{constructor(t,o){this.frameBufferBound=!1;this.itemsToPoll=[];this.gl=t,this.version=o,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(t,o,e,r){let n=this.gl,s=n.createTexture();n.bindTexture(n.TEXTURE_2D,s),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);let i=r?e.encode(r,t*o):null;return n.texImage2D(n.TEXTURE_2D,0,e.internalFormat,t,o,0,e.format,e.textureType,i),this.checkError(),s}updateTexture(t,o,e,r,n){let s=this.gl;s.bindTexture(s.TEXTURE_2D,t);let i=r.encode(n,o*e);s.texSubImage2D(s.TEXTURE_2D,0,0,0,o,e,r.format,r.textureType,i),this.checkError()}attachFramebuffer(t,o,e){let r=this.gl;r.bindTexture(r.TEXTURE_2D,t),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),this.checkError(),r.viewport(0,0,o,e),r.scissor(0,0,o,e)}readTexture(t,o,e,r,n,s){let i=this.gl;s||(s=1),this.frameBufferBound||this.attachFramebuffer(t,o,e);let u=this.getEncoder(n,s),l=u.allocate(o*e);return i.bindTexture(i.TEXTURE_2D,t),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.readPixels(0,0,o,e,i.RGBA,u.textureType,l),this.checkError(),u.decode(l,r)}isFramebufferReady(){return!0}getActiveTexture(){let t=this.gl;return`TEXTURE${t.getParameter(this.gl.ACTIVE_TEXTURE)-t.TEXTURE0}`}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(t,o){let e=this.gl;e.vertexAttribPointer(t,3,e.FLOAT,!1,20,0),e.enableVertexAttribArray(t),o!==-1&&(e.vertexAttribPointer(o,2,e.FLOAT,!1,20,12),e.enableVertexAttribArray(o)),this.checkError()}createProgram(t,o){let e=this.gl,r=e.createProgram();return e.attachShader(r,t),e.attachShader(r,o),e.linkProgram(r),r}compileShader(t,o){let e=this.gl,r=e.createShader(o);if(!r)throw new Error(`createShader() returned null with type ${o}`);if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${e.getShaderInfoLog(r)}\nShader source:\n${t}`);return r}deleteShader(t){this.gl.deleteShader(t)}bindTextureToUniform(t,o,e){let r=this.gl;r.activeTexture(r.TEXTURE0+o),this.checkError(),r.bindTexture(r.TEXTURE_2D,t),this.checkError(),r.uniform1i(e,o),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(ee.debug){let t=this.gl,o=t.getError(),e="";switch(o){case t.NO_ERROR:return;case t.INVALID_ENUM:e="INVALID_ENUM";break;case t.INVALID_VALUE:e="INVALID_VALUE";break;case t.INVALID_OPERATION:e="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:e="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:e="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:e="CONTEXT_LOST_WEBGL";break;default:e=`Unknown WebGL Error: ${o.toString(16)}`}throw new Error(e)}}deleteTexture(t){this.gl.deleteTexture(t)}deleteProgram(t){this.gl.deleteProgram(t)}getEncoder(t,o,e=0){if(this.version===2)return new oo(this.gl,o);switch(t){case"float":return e===1||this.isRenderFloat32Supported?new hn(this.gl,o):new hn(this.gl,o,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new io(this.gl,o);default:throw new Error(`Invalid dataType: ${t}`)}}clearActiveTextures(){let t=this.gl;for(let o=0;o<this.maxTextureImageUnits;++o)t.activeTexture(t.TEXTURE0+o),t.bindTexture(t.TEXTURE_2D,null)}dispose(){if(this.disposed)return;let t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(this.framebuffer),t.bindBuffer(t.ARRAY_BUFFER,null),t.deleteBuffer(this.vertexbuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){let t=this.gl,o=t.createBuffer();if(!o)throw new Error("createBuffer() returned null");let e=this.createDefaultGeometry();return t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),this.checkError(),o}createFramebuffer(){let t=this.gl.createFramebuffer();if(!t)throw new Error("createFramebuffer returned null");return t}queryVitalParameters(){let t=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){let t=this.gl,o=t.createTexture();t.bindTexture(t.TEXTURE_2D,o);let e=this.version===2?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,e,1,1,0,t.RGBA,t.FLOAT,null);let r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0);let n=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(o),t.deleteFramebuffer(r),n}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){let t=this.gl,o,e,r,n,s;try{o=t.createTexture(),e=t.createFramebuffer(),t.bindTexture(t.TEXTURE_2D,o);let i=this.version===2?t.RGBA32F:t.RGBA;return t.texImage2D(t.TEXTURE_2D,0,i,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),t.enable(t.BLEND),r=t.createShader(t.VERTEX_SHADER),!r||(t.shaderSource(r,"void main(){}"),t.compileShader(r),n=t.createShader(t.FRAGMENT_SHADER),!n)||(t.shaderSource(n,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),t.compileShader(n),s=t.createProgram(),!s)?!1:(t.attachShader(s,r),t.attachShader(s,n),t.linkProgram(s),t.useProgram(s),t.drawArrays(t.POINTS,0,1),t.getError()===t.NO_ERROR)}finally{t.disable(t.BLEND),s&&t.deleteProgram(s),r&&t.deleteShader(r),n&&t.deleteShader(n),e&&(t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(e)),o&&(t.bindTexture(t.TEXTURE_2D,null),t.deleteTexture(o))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let t=this.gl,o=this.disjointTimerQueryWebgl2Extension,e=t.createQuery();return t.beginQuery(o.TIME_ELAPSED_EXT,e),e}else throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let t=this.gl,o=this.disjointTimerQueryWebgl2Extension;t.endQuery(o.TIME_ELAPSED_EXT);return}else throw new Error("WebGL1 profiling currently not supported")}isTimerResultAvailable(t){let o=!1,e=!1;if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let r=this.gl,n=this.disjointTimerQueryWebgl2Extension;o=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE),e=r.getParameter(n.GPU_DISJOINT_EXT)}else throw new Error("WebGL1 profiling currently not supported");return o&&!e}getTimerResult(t){let o=0;if(this.version===2){let e=this.gl;o=e.getQueryParameter(t,e.QUERY_RESULT),e.deleteQuery(t)}else throw new Error("WebGL1 profiling currently not supported");return o/1e6}async waitForQueryAndGetTime(t){return await _i(()=>this.isTimerResultAvailable(t)),this.getTimerResult(t)}async createAndWaitForFence(){let t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let o,e=t,r=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return t.flush(),r===null?o=()=>!0:o=()=>{let n=e.clientWaitSync(r,0,0);return n===e.ALREADY_SIGNALED||n===e.CONDITION_SATISFIED},{query:r,isFencePassed:o}}async pollFence(t){return new Promise(o=>{this.addItemToPoll(()=>t.isFencePassed(),()=>o())})}pollItems(){let t=og(this.itemsToPoll.map(o=>o.isDoneFn));for(let o=0;o<=t;++o){let{resolveFn:e}=this.itemsToPoll[o];e()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}async addItemToPoll(t,o){this.itemsToPoll.push({isDoneFn:t,resolveFn:o}),!(this.itemsToPoll.length>1)&&await _i(()=>(this.pollItems(),this.itemsToPoll.length===0))}}});function Qi(a){let t;if((!a||a==="webgl2")&&"webgl2"in Xr?t=Xr.webgl2:(!a||a==="webgl")&&"webgl"in Xr&&(t=Xr.webgl),!t)try{let e=ag();t=yp(e,a)}catch{let r=ig();t=yp(r,a)}a=a||t.version===1?"webgl":"webgl2";let o=t.gl;return Xr[a]=t,o.isContextLost()?(delete Xr[a],Qi(a)):(o.disable(o.DEPTH_TEST),o.disable(o.STENCIL_TEST),o.disable(o.BLEND),o.disable(o.DITHER),o.disable(o.POLYGON_OFFSET_FILL),o.disable(o.SAMPLE_COVERAGE),o.enable(o.SCISSOR_TEST),o.enable(o.CULL_FACE),o.cullFace(o.BACK),t)}function yp(a,t){let o={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1},e,r=o;if((!t||t==="webgl2")&&(e=a.getContext("webgl2",r),e))try{return new xn(e,2)}catch(n){pe.warning("GlContextFactory",`failed to create WebGLContext using contextId \'webgl2\'. Error: ${n}`)}if((!t||t==="webgl")&&(e=a.getContext("webgl",r)||a.getContext("experimental-webgl",r),e))try{return new xn(e,1)}catch(n){pe.warning("GlContextFactory",`failed to create WebGLContext using contextId \'webgl\' or \'experimental-webgl\'. Error: ${n}`)}throw new Error("WebGL is not supported")}function ig(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");let a=document.createElement("canvas");return a.width=1,a.height=1,a}function ag(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var Xr,Tp=L(()=>{"use strict";dt();gp();Xr={}});var Eo,xp=L(()=>{"use strict";It();dt();bp();Tp();Eo=class{get contextId(){return ee.webgl.contextId}set contextId(t){ee.webgl.contextId=t}get matmulMaxBatchSize(){return ee.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(t){ee.webgl.matmulMaxBatchSize=t}get textureCacheMode(){return ee.webgl.textureCacheMode}set textureCacheMode(t){ee.webgl.textureCacheMode=t}get pack(){return ee.webgl.pack}set pack(t){ee.webgl.pack=t}get async(){return ee.webgl.async}set async(t){ee.webgl.async=t}initialize(){try{return this.glContext=Qi(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),pe.setWithEnv(ee),ee.webgl.context||Object.defineProperty(ee.webgl,"context",{value:this.glContext.gl}),pe.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(t){return pe.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${t}`),!1}}createSessionHandler(t){return new Ao(this,t)}dispose(){this.glContext.dispose()}}});async function ea(a){if(a){let t=typeof a=="string"?[a]:a;for(let o of t){let e=wp.get(o);if(e)return e;let r=await ug(o);if(r)return r}}else return ea(["webgl"]);throw new Error("no available backend to use")}async function ug(a){let t=sg;if(typeof t[a]<"u"&&lg(t[a])){let o=t[a],e=o.initialize();if(typeof e=="object"&&"then"in e&&(e=await e),e)return wp.set(a,o),o}}function lg(a){let t=a;return"initialize"in t&&typeof t.initialize=="function"&&"createSessionHandler"in t&&typeof t.createSessionHandler=="function"&&"dispose"in t&&typeof t.dispose=="function"}var wp,sg,vp=L(()=>{"use strict";xp();wp=new Map,sg={webgl:new Eo}});var ta,Po,_p=L(()=>{"use strict";dt();ta=class{constructor(t,o){this.op=t;this.node=o}},Po=class{constructor(t,o,e){this.graph=t;this.profiler=e;this.initialize(o)}initialize(t){this.profiler.event("session","ExecutionPlan.initialize",()=>{let o=this.graph.getNodes();if(o.length!==t.length)throw new Error("The size of nodes and OPs do not match.");this._ops=t.map((e,r)=>new ta(e,o[r])),this.reset(),this._starter=[],this._ops.forEach((e,r)=>{let n=!0;for(let s of e.node.inputs)if(!this._values[s]&&this.graph.getInputIndices().indexOf(s)===-1){n=!1;break}n&&this._starter.push(r)})})}reset(){this._values=this.graph.getValues().map(t=>t.tensor)}async execute(t,o){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();let e=t.createInferenceHandler(),r=this.graph.getInputIndices();if(o.length!==r.length)throw new Error(`number of input tensors don\'t match the number of inputs to the model: actual: ${o.length} expected: ${r.length}`);o.forEach((c,d)=>{let b=r[d];this._values[b]=c});let n=this._starter.slice(0),s=this.graph.getValues(),i=this.graph.getNodes(),u=0;for(;u<n.length;){let c=n[u++],d=this._ops[c],b=d.node.inputs.map(S=>this._values[S]);if(b.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${d.node}`);let x=b;pe.verbose("ExecPlan",`Runing op:${d.node.name} (${x.map((S,E)=>`\'${d.node.inputs[E]}\': ${S.type}[${S.dims.join(",")}]`).join(", ")})`);let v=await this.profiler.event("node",d.node.name,async()=>d.op.impl(e,x,d.op.context));if(v.length!==d.node.outputs.length)throw new Error("the size of output does not match model definition.");v.forEach((S,E)=>{let C=d.node.outputs[E];if(this._values[C])throw new Error(`output [${C}] already has value: op:${d.node.name}`);this._values[C]=S});let _=new Set;v.forEach((S,E)=>{let C=d.node.outputs[E];for(let N of s[C].to){let J=i[N],Y=!0;for(let U of J.inputs)if(!this._values[U]){Y=!1;break}Y&&_.add(N)}}),n.push(..._)}let l=[];for(let c=0;c<this.graph.getOutputIndices().length;c++){let d=this.graph.getOutputIndices()[c],b=this._values[d];if(b===void 0)throw new Error(`required output [${d}] does not have value`);d===0?await b.getData():b.data,l.push(b)}return pe.verbose("ExecPlan","disposing of inferenceHandler"),e.dispose(),l})}}});var oe,xt,wn,Op=L(()=>{"use strict";un();oe=Nr(Ur());Or();fe();xt=H.experimental.fbs,wn=class a{constructor(t){if(this._attributes=new Map,t!=null){for(let o of t)o instanceof oe.onnx.AttributeProto?this._attributes.set(o.name,[a.getValue(o),a.getType(o)]):o instanceof xt.Attribute&&this._attributes.set(o.name(),[a.getValue(o),a.getType(o)]);if(this._attributes.size<t.length)throw new Error("duplicated attribute names")}}set(t,o,e){this._attributes.set(t,[e,o])}delete(t){this._attributes.delete(t)}getFloat(t,o){return this.get(t,"float",o)}getInt(t,o){return this.get(t,"int",o)}getString(t,o){return this.get(t,"string",o)}getTensor(t,o){return this.get(t,"tensor",o)}getFloats(t,o){return this.get(t,"floats",o)}getInts(t,o){return this.get(t,"ints",o)}getStrings(t,o){return this.get(t,"strings",o)}getTensors(t,o){return this.get(t,"tensors",o)}get(t,o,e){let r=this._attributes.get(t);if(r===void 0){if(e!==void 0)return e;throw new Error(`required attribute not found: ${t}`)}if(r[1]!==o)throw new Error(`type mismatch: expected ${o} but got ${r[1]}`);return r[0]}static getType(t){let o=t instanceof oe.onnx.AttributeProto?t.type:t.type();switch(o){case oe.onnx.AttributeProto.AttributeType.FLOAT:return"float";case oe.onnx.AttributeProto.AttributeType.INT:return"int";case oe.onnx.AttributeProto.AttributeType.STRING:return"string";case oe.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case oe.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case oe.onnx.AttributeProto.AttributeType.INTS:return"ints";case oe.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case oe.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${oe.onnx.AttributeProto.AttributeType[o]}`)}}static getValue(t){let o=t instanceof oe.onnx.AttributeProto?t.type:t.type();if(o===oe.onnx.AttributeProto.AttributeType.GRAPH||o===oe.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");let e=this.getValueNoCheck(t);if(o===oe.onnx.AttributeProto.AttributeType.INT&&ot.isLong(e))return ot.longToNumber(e);if(o===oe.onnx.AttributeProto.AttributeType.INTS){let r=e,n=new Array(r.length);for(let s=0;s<r.length;s++){let i=r[s];n[s]=ot.longToNumber(i)}return n}if(o===oe.onnx.AttributeProto.AttributeType.TENSOR)return t instanceof oe.onnx.AttributeProto?$e.fromProto(e):$e.fromOrtTensor(e);if(o===oe.onnx.AttributeProto.AttributeType.TENSORS){if(t instanceof oe.onnx.AttributeProto)return e.map(n=>$e.fromProto(n));if(t instanceof xt.Attribute)return e.map(n=>$e.fromOrtTensor(n))}return o===oe.onnx.AttributeProto.AttributeType.STRING&&t instanceof oe.onnx.AttributeProto?dn(e):o===oe.onnx.AttributeProto.AttributeType.STRINGS&&t instanceof oe.onnx.AttributeProto?e.map(dn):e}static getValueNoCheck(t){return t instanceof oe.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(t):this.getValueNoCheckFromOrtFormat(t)}static getValueNoCheckFromOnnxFormat(t){switch(t.type){case oe.onnx.AttributeProto.AttributeType.FLOAT:return t.f;case oe.onnx.AttributeProto.AttributeType.INT:return t.i;case oe.onnx.AttributeProto.AttributeType.STRING:return t.s;case oe.onnx.AttributeProto.AttributeType.TENSOR:return t.t;case oe.onnx.AttributeProto.AttributeType.GRAPH:return t.g;case oe.onnx.AttributeProto.AttributeType.FLOATS:return t.floats;case oe.onnx.AttributeProto.AttributeType.INTS:return t.ints;case oe.onnx.AttributeProto.AttributeType.STRINGS:return t.strings;case oe.onnx.AttributeProto.AttributeType.TENSORS:return t.tensors;case oe.onnx.AttributeProto.AttributeType.GRAPHS:return t.graphs;default:throw new Error(`unsupported attribute type: ${oe.onnx.AttributeProto.AttributeType[t.type]}`)}}static getValueNoCheckFromOrtFormat(t){switch(t.type()){case xt.AttributeType.FLOAT:return t.f();case xt.AttributeType.INT:return t.i();case xt.AttributeType.STRING:return t.s();case xt.AttributeType.TENSOR:return t.t();case xt.AttributeType.GRAPH:return t.g();case xt.AttributeType.FLOATS:return t.floatsArray();case xt.AttributeType.INTS:{let o=[];for(let e=0;e<t.intsLength();e++)o.push(t.ints(e));return o}case xt.AttributeType.STRINGS:{let o=[];for(let e=0;e<t.stringsLength();e++)o.push(t.strings(e));return o}case xt.AttributeType.TENSORS:{let o=[];for(let e=0;e<t.tensorsLength();e++)o.push(t.tensors(e));return o}default:throw new Error(`unsupported attribute type: ${xt.AttributeType[t.type()]}`)}}}});var na,Do,oa,Rt,Lo,ra,Ip=L(()=>{"use strict";Op();un();na=Nr(Ur());Or();fe();Do=H.experimental.fbs,oa={from:(a,t)=>new ra(a,t)},Rt=class{constructor(t){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,t&&(this.type=Ve.tensorValueTypeFromProto(t.type.tensorType))}get from(){return this._from}get to(){return this._to}},Lo=class{constructor(t,o){t instanceof na.onnx.NodeProto?(this.name=t.name,this.opType=t.opType,this.attributes=new wn(t.attribute)):t instanceof Do.Node&&(this.name=o??t.name(),this.opType=t.opType(),this.attributes=new wn(Ve.tensorAttributesFromORTFormat(t))),this.inputs=[],this.outputs=[],this.executeNode=!0}},ra=class{constructor(t,o){if(!t)throw new TypeError("graph is empty");this.buildGraph(t),this.transformGraph(o),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(t){if(t instanceof na.onnx.GraphProto)this.buildGraphFromOnnxFormat(t);else if(t instanceof Do.Graph)this.buildGraphFromOrtFormat(t);else throw new TypeError("Graph type is not supported.")}buildGraphFromOnnxFormat(t){let o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let e=new Map;if(!t.input)throw new Error("missing information in graph: input");let r=[];for(let n of t.input){if(o.has(n.name))throw new Error(`duplicated input name: ${n.name}`);let s=this._allData.push(new Rt(n))-1;o.set(n.name,s),r.push(n.name)}if(!t.initializer)throw new Error("missing information in graph: initializer");for(let n of t.initializer){let s=o.get(n.name);if(s===void 0){let i=new Rt;i.type={shape:{dims:Ve.tensorDimsFromProto(n.dims)},tensorType:Ve.tensorDataTypeFromProto(n.dataType)},s=this._allData.push(i)-1,o.set(n.name,s)}this._allData[s]._from=-1,this._allData[s].tensor=$e.fromProto(n)}for(let n=0;n<this._allData.length;n++)this._allData[n].tensor||(this._allInputIndices.push(n),this._allInputNames.push(r[n]));if(!t.output)throw new Error("missing information in graph: output");for(let n of t.output){if(o.has(n.name))throw new Error(`duplicated output name: ${n.name}`);let s=this._allData.push(new Rt(n))-1;o.set(n.name,s),this._allOutputIndices.push(s),this._allOutputNames.push(n.name)}if(!t.node)throw new Error("missing information in graph: node");for(let n of t.node){if(!n.name)for(let i=0;;i++){let u=`unnamed_${n.opType}_${i}`;if(!e.has(u)){n.name=u;break}}if(e.has(n.name))throw new Error(`duplicated node name: ${n.name}`);let s=this._nodes.push(new Lo(n))-1;e.set(n.name,s)}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],i=t.node[n];if(!i.output)throw new Error(`missing output for node: ${i.name}`);for(let u of i.output){let l=o.get(u);if(typeof l>"u"&&(l=this._allData.push(new Rt)-1,o.set(u,l)),s.outputs.push(l),this._allData[l]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${l}`);if(this._allData[l]._from=n,i.opType==="Constant"){if(!i.attribute||i.attribute.length!==1||!i.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!i.output||i.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[l]._from=-1,this._allData[l].tensor=$e.fromProto(i.attribute[0].t)}}}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],i=t.node[n];if(!i.input)throw new Error(`missing input for node: ${i.name}`);for(let u of i.input){let l=o.get(u);if(typeof l>"u"){if(u===""&&(i.input.length===3||i.input.length===4)&&i.opType==="Resize")continue;throw new Error(`unrecognized input \'${u}\' for node: ${i.name}`)}s.inputs.push(l),this._allData[l]._to.push(n)}}return!0}buildGraphFromOrtFormat(t){let o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let e=new Map,r=[];for(let n=0;n<t.inputsLength();n++){let s=t.inputs(n);if(o.has(s))throw new Error(`duplicated input name: ${s}`);for(let i=0;i<t.nodeArgsLength();i++)if(t.nodeArgs(i)?.name()===s){let u=new Rt;if(t.nodeArgs(i)?.type()?.valueType()!==Do.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");let c=t.nodeArgs(i).type().value(new Do.TensorTypeAndShape),d=Ve.tensorDataTypeFromProto(c.elemType()),b=c.shape(),x=[];for(let _=0;_<b.dimLength();_++)x.push(ot.longToNumber(b.dim(_).value().dimValue()));u.type={shape:{dims:x},tensorType:d};let v=this._allData.push(u)-1;o.set(s,v),r.push(s)}}for(let n=0;n<t.initializersLength();n++){let s=t.initializers(n),i=o.get(s.name());if(i===void 0){let u=new Rt,l=Ve.tensorDimsFromORTFormat(s),c=Ve.tensorDataTypeFromProto(s.dataType());u.type={shape:{dims:l},tensorType:c},i=this._allData.push(u)-1,o.set(s.name(),i)}this._allData[i]._from=-1,this._allData[i].tensor=$e.fromOrtTensor(s)}for(let n=0;n<this._allData.length;n++)this._allData[n].tensor||(this._allInputIndices.push(n),this._allInputNames.push(r[n]));for(let n=0;n<t.outputsLength();n++){let s=t.outputs(n);if(o.has(s))throw new Error(`duplicated output name: ${s}`);let i=this._allData.push(new Rt)-1;o.set(s,i),this._allOutputIndices.push(i),this._allOutputNames.push(s)}if(!t.nodes)throw new Error("missing information in graph: node");for(let n=0;n<t.nodesLength();n++){let s=t.nodes(n),i=s.name();if(!i)for(let l=0;i=`unnamed_${s.opType()}_${l}`,!!e.has(i);l++);if(e.has(i))throw new Error(`duplicated node name: ${i}`);let u=this._nodes.push(new Lo(s,i))-1;e.set(i,u)}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],i=t.nodes(n);if(i==null)throw new Error(`No node exists at index ${n}`);if(i?.outputsLength()===0)throw new Error(`missing output for node: ${i.name}`);for(let u=0;u<i?.outputsLength();u++){let l=i?.outputs(u),c=o.get(l);if(typeof c>"u"&&(c=this._allData.push(new Rt)-1,o.set(l,c)),s.outputs.push(c),this._allData[c]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${c}`);if(this._allData[c]._from=n,i.opType()==="Constant"){if(i.attributesLength()!==1||!i.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(i.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[c]._from=-1,this._allData[c].tensor=$e.fromOrtTensor(i.attributes(0).t())}}}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],i=t.nodes(n);if(i.inputsLength()===0)throw new Error(`missing input for node: ${i.name}`);for(let u=0;u<i.inputsLength();u++){let l=i.inputs(u),c=o.get(l);if(typeof c>"u")throw new Error(`unrecognized input \'${l}\' for node: ${i.name()}`);s.inputs.push(c),this._allData[c]._to.push(n)}}}checkIsAcyclic(){let t=new Set;this._allInputIndices.forEach(r=>{this._allData[r]._to.forEach(s=>{t.add(s)})});let o=Array.from(t),e=new Array(this._nodes.length).fill("white");for(;o.length>0;){let r=o.pop();e[r]==="gray"?e[r]="black":(o.push(r),e[r]="gray",this._nodes[r].outputs.forEach(n=>{let s=this._allData[n];if(typeof s.tensor<"u")throw new Error("node outputs should not be initialized");if(s._from!==r)throw new Error("from property of the Value object doesn\'t match index of Node being processed");s._to.forEach(i=>{if(e[i]==="gray")throw new Error("model graph is cyclic");e[i]==="white"&&o.push(i)})}))}}transformGraph(t){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),t&&t.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let t=0,o=new Array(this._nodes.length,0),e=0;for(let r=0;r<this._nodes.length;r++)o[r]=e,this._nodes[r].executeNode?(e!==r&&(this._nodes[e]=this._nodes[r]),e++):this._nodes[r].outputs.forEach(n=>{this._allData[n]._from=-2});this._nodes.splice(e,this._nodes.length-e);for(let r=0;r<this._allData.length;r++){let n=this._allData[r];n._from!==void 0&&n._from!==-1&&n._from!==-2&&(n._from=o[n._from]);for(let s=0;s<n._to.length;s++)if(n._to[s]>=0)n._to[s]=o[n._to[s]];else throw new Error("Trying to update a removed node")}t=0;for(let r=0;r<this._allData.length;r++){if(this._allData[r].from===-2&&this._allOutputIndices.indexOf(r+t)===-1){t++,this._allData.splice(r,1),r--;continue}if(t>0){let n=-1;this._allData[r].from!==void 0&&this._allData[r].from!==-1?(n=this._nodes[this._allData[r].from].outputs.indexOf(r+t),n!==-1&&(this._nodes[this._allData[r].from].outputs[n]=r)):(n=this._allInputIndices.indexOf(r+t),n!==-1&&(this._allInputIndices[n]=r)),this._allData[r].to.forEach(s=>{n=this._nodes[s].inputs.indexOf(r+t),n!==-1&&(this._nodes[s].inputs[n]=r)}),this._allData[r].to.length===0&&(n=this._allOutputIndices.indexOf(r+t),n!==-1&&(this._allOutputIndices[n]=r))}}}deleteNode(t){let o=this._nodes[t];if(o.outputs.length>1){for(let i=1;i<o.outputs.length;i++)if(this._allData[o.outputs[i]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}o.executeNode=!1;let e=o.inputs[0],r=o.outputs[0],n=this._allData[r].to;for(let i=0;i<o.inputs.length;i++){let u=this._allData[o.inputs[i]].to.indexOf(t);if(u===-1)throw new Error("The Value object doesn\'t have the current Node in it\'s \'to\' property ");this._allData[o.inputs[i]].to.splice(u,1)}this._allData[r]._to=[];let s=this._allOutputIndices.indexOf(r);if(s!==-1&&(this._allOutputIndices[s]=e),n&&n.length>0)for(let i of n){let u=this._nodes[i].inputs.indexOf(r);if(u===-1)throw new Error("The Node object doesn\'t have the output Value in it\'s \'inputs\' property ");this._nodes[i].inputs[u]=e,this._allData[e].to.push(i)}}removeAllDropoutNodes(){let t=0;for(let o of this._nodes){if(o.opType==="Dropout"){if(o.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(o.outputs.length!==1&&o.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(o.outputs.length===2&&this._allData[o.outputs[1]]._to.length!==0)throw new Error("Dropout nodes\'s second output should not be referenced by other nodes");this.deleteNode(t)}t++}}removeAllIdentityNodes(){let t=0;for(let o of this._nodes)o.opType==="Identity"&&this.deleteNode(t),t++}isActivation(t){switch(t.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(let t of this._nodes)if(t.opType==="Conv"){let o=this._allData[t.outputs[0]]._to;if(o.length===1&&this.isActivation(this._nodes[o[0]])){let e=this._nodes[o[0]];if(e.opType==="Clip")if(e.inputs.length===1)try{t.attributes.set("activation_params","floats",[e.attributes.getFloat("min"),e.attributes.getFloat("max")])}catch{t.attributes.set("activation_params","floats",[vr,_r])}else if(e.inputs.length>=3&&this._allData[e.inputs[1]].tensor!==void 0&&this._allData[e.inputs[2]].tensor!==void 0)t.attributes.set("activation_params","floats",[this._allData[e.inputs[1]].tensor.floatData[0],this._allData[e.inputs[2]].tensor.floatData[0]]);else continue;t.attributes.set("activation","string",e.opType),this.deleteNode(o[0])}}}}});var Sp,fg,Fo,Ap=L(()=>{"use strict";Jn();Ip();un();Sp=Nr(Ur());fe();fg=H.experimental.fbs,Fo=class{constructor(){}load(t,o,e){if(!e)try{this.loadFromOnnxFormat(t,o);return}catch(r){if(e!==void 0)throw r}this.loadFromOrtFormat(t,o)}loadFromOnnxFormat(t,o){let e=Sp.onnx.ModelProto.decode(t);if(ot.longToNumber(e.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=e.opsetImport.map(n=>({domain:n.domain,version:ot.longToNumber(n.version)})),this._graph=oa.from(e.graph,o)}loadFromOrtFormat(t,o){let e=new I.ByteBuffer(t),r=fg.InferenceSession.getRootAsInferenceSession(e).model();if(ot.longToNumber(r.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let s=0;s<r.opsetImportLength();s++){let i=r.opsetImport(s);this._opsets.push({domain:i?.domain(),version:ot.longToNumber(i.version())})}this._graph=oa.from(r.graph(),o)}get graph(){return this._graph}get opsets(){return this._opsets}}});var Co,Ep=L(()=>{"use strict";vp();_p();dt();Ap();Co=class{constructor(t={}){this._initialized=!1,this.backendHint=t.backendHint,this.profiler=Xn.create(t.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(t,o,e){await this.profiler.event("session","Session.loadModel",async()=>{let r=await ea(this.backendHint);if(this.sessionHandler=r.createSessionHandler(this.context),this._model=new Fo,typeof t=="string"){let n=t.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){let s=await(void 0)(t);this.initialize(s,n)}else{let i=await(await fetch(t)).arrayBuffer();this.initialize(new Uint8Array(i),n)}}else if(ArrayBuffer.isView(t))this.initialize(t);else{let n=new Uint8Array(t,o||0,e||t.byteLength);this.initialize(n)}})}initialize(t,o){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{let e=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(t,e,o),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new Po(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(t){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{let o=this.normalizeAndValidateInputs(t),e=await this._executionPlan.execute(this.sessionHandler,o);return this.createOutput(e)})}normalizeAndValidateInputs(t){let o=this._model.graph.getInputNames();if(Array.isArray(t)){if(t.length!==o.length)throw new Error(`incorrect input array length: expected ${o.length} but got ${t.length}`)}else{if(t.size!==o.length)throw new Error(`incorrect input map size: expected ${o.length} but got ${t.size}`);let e=new Array(t.size),r=0;for(let n=0;n<o.length;++n){let s=t.get(o[n]);if(!s)throw new Error(`missing input tensor for: \'${name}\'`);e[r++]=s}t=e}if(!this.context.graphInputTypes||this.context.graphInputTypes.length===0||!this.context.graphInputDims||this.context.graphInputDims.length===0){let e=this._model.graph.getInputIndices(),r=this._model.graph.getValues(),n=new Array(e.length);for(let s=0;s<e.length;++s){let i=r[e[s]];n[s]=i.type.shape.dims,this.context.graphInputTypes.push(i.type.tensorType),this.context.graphInputDims.push(t[s].dims)}this.validateInputTensorDims(n,t,!0)}else this.validateInputTensorDims(this.context.graphInputDims,t,!1);return this.validateInputTensorTypes(this.context.graphInputTypes,t),t}validateInputTensorTypes(t,o){for(let e=0;e<o.length;e++){let r=t[e],n=o[e].type;if(r!==n)throw new Error(`input tensor[${e}] check failed: expected type \'${r}\' but got ${n}`)}}validateInputTensorDims(t,o,e){for(let r=0;r<o.length;r++){let n=t[r],s=o[r].dims;if(!this.compareTensorDims(n,s,e))throw new Error(`input tensor[${r}] check failed: expected shape \'[${n.join(",")}]\' but got [${s.join(",")}]`)}}compareTensorDims(t,o,e){if(t.length!==o.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==o[r]&&(!e||t[r]!==0))return!1;return!0}createOutput(t){let o=this._model.graph.getOutputNames();if(t.length!==o.length)throw new Error("expected number of outputs do not match number of generated outputs");let e=new Map;for(let r=0;r<o.length;++r)e.set(o[r],t[r]);return e}initializeOps(t){let o=t.getNodes();this._ops=new Array(o.length);for(let e=0;e<o.length;e++)this._ops[e]=this.sessionHandler.resolve(o[e],this._model.opsets,t)}}});var $o,Pp=L(()=>{"use strict";It();Or();$o=class{constructor(t){this.session=t;this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(t,o,e){let r=new Map;for(let i in t)if(Object.hasOwnProperty.call(t,i)){let u=t[i];r.set(i,new $e(u.dims,u.type,void 0,void 0,u.data))}let n=await this.session.run(r),s={};return n.forEach((i,u)=>{s[u]=new Ne(i.type,i.data,i.dims)}),s}async configure(t){return""}async auth(t){return""}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}});var Dp={};cr(Dp,{onnxjsBackend:()=>pg});var ia,pg,Lp=L(()=>{"use strict";Ep();Pp();ia=class{async init(){}async createInferenceSessionHandler(t,o){let e=new Co(o);return typeof t=="string"?await e.loadModel(t):await e.loadModel(t),new $o(e)}},pg=new ia});var aa={};cr(aa,{createReadStream:()=>Fp,readFile:()=>dg,readFileSync:()=>hg});var dg,hg,Fp,sa=L(()=>{dg=void 0,hg=void 0,Fp=void 0});var ua={};cr(ua,{join:()=>mg});var mg,la=L(()=>{mg=void 0});var fa={};cr(fa,{crypto:()=>bg});var bg,ca=L(()=>{bg=void 0});var Bp=ye(($p,pa)=>{"use strict";var Cp=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(t={}){var o=t,e,r;o.ready=new Promise((h,T)=>{e=h,r=T});var n=Object.assign({},o),s="./this.program",i=typeof window=="object",u=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",c="",d,b,x;if(l){var v=(sa(),Ht(aa)),_=(la(),Ht(ua));c=u?_.dirname(c)+"/":__dirname+"/",d=(h,T)=>(h=lt(h)?new URL(h):_.normalize(h),v.readFileSync(h,T?void 0:"utf8")),x=h=>(h=d(h,!0),h.buffer||(h=new Uint8Array(h)),h),b=(h,T,w,A=!0)=>{h=lt(h)?new URL(h):_.normalize(h),v.readFile(h,A?void 0:"utf8",(B,W)=>{B?w(B):T(A?W.buffer:W)})},!o.thisProgram&&1<process.argv.length&&(s=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(i||u)&&(u?c=self.location.href:typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),a&&(c=a),c.indexOf("blob:")!==0?c=c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):c="",d=h=>{var T=new XMLHttpRequest;return T.open("GET",h,!1),T.send(null),T.responseText},u&&(x=h=>{var T=new XMLHttpRequest;return T.open("GET",h,!1),T.responseType="arraybuffer",T.send(null),new Uint8Array(T.response)}),b=(h,T,w)=>{var A=new XMLHttpRequest;A.open("GET",h,!0),A.responseType="arraybuffer",A.onload=()=>{A.status==200||A.status==0&&A.response?T(A.response):w()},A.onerror=w,A.send(null)});var S=console.log.bind(console),E=console.error.bind(console);Object.assign(o,n),n=null,typeof WebAssembly!="object"&&Ge("no native wasm support detected");var C,N=!1,J,Y,U,ie,Be;function je(){var h=C.buffer;o.HEAP8=J=new Int8Array(h),o.HEAP16=new Int16Array(h),o.HEAPU8=Y=new Uint8Array(h),o.HEAPU16=new Uint16Array(h),o.HEAP32=U=new Int32Array(h),o.HEAPU32=ie=new Uint32Array(h),o.HEAPF32=new Float32Array(h),o.HEAPF64=Be=new Float64Array(h)}var ut=[],V=[],_e=[],Ze=0,ne=null,Ee=null;function Ge(h){throw h="Aborted("+h+")",E(h),N=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),r(h),h}var at=h=>h.startsWith("data:application/octet-stream;base64,"),lt=h=>h.startsWith("file://"),Pe;if(Pe="ort-wasm.wasm",!at(Pe)){var qe=Pe;Pe=o.locateFile?o.locateFile(qe,c):c+qe}function wt(h){if(x)return x(h);throw"both async and sync fetching of the wasm failed"}function Mt(h){if(i||u){if(typeof fetch=="function"&&!lt(h))return fetch(h,{credentials:"same-origin"}).then(T=>{if(!T.ok)throw"failed to load wasm binary file at \'"+h+"\'";return T.arrayBuffer()}).catch(()=>wt(h));if(b)return new Promise((T,w)=>{b(h,A=>T(new Uint8Array(A)),w)})}return Promise.resolve().then(()=>wt(h))}function Gt(h,T,w){return Mt(h).then(A=>WebAssembly.instantiate(A,T)).then(A=>A).then(w,A=>{E(`failed to asynchronously prepare wasm: ${A}`),Ge(A)})}function Kt(h,T){var w=Pe;return typeof WebAssembly.instantiateStreaming!="function"||at(w)||lt(w)||l||typeof fetch!="function"?Gt(w,h,T):fetch(w,{credentials:"same-origin"}).then(A=>WebAssembly.instantiateStreaming(A,h).then(T,function(B){return E(`wasm streaming compile failed: ${B}`),E("falling back to ArrayBuffer instantiation"),Gt(w,h,T)}))}var Lt,Qe={882112:(h,T,w,A)=>{if(typeof o>"u"||!o.Ga)return 1;if(h=ft(h>>>0),h.startsWith("./")&&(h=h.substring(2)),h=o.Ga.get(h),!h)return 2;if(T>>>=0,w>>>=0,T+w>h.byteLength)return 3;try{return Y.set(h.subarray(T,T+w),A>>>0>>>0),0}catch{return 4}}};function vt(h){this.Da=h-24,this.Fa=function(T){ie[this.Da+4>>>2>>>0]=T},this.Ea=function(T){ie[this.Da+8>>>2>>>0]=T},this.La=function(T,w){this.Ma(),this.Fa(T),this.Ea(w)},this.Ma=function(){ie[this.Da+16>>>2>>>0]=0}}var _t=0,Ie=0,Ye=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ut=(h,T,w)=>{T>>>=0;var A=T+w;for(w=T;h[w]&&!(w>=A);)++w;if(16<w-T&&h.buffer&&Ye)return Ye.decode(h.subarray(T,w));for(A="";T<w;){var B=h[T++];if(B&128){var W=h[T++]&63;if((B&224)==192)A+=String.fromCharCode((B&31)<<6|W);else{var X=h[T++]&63;B=(B&240)==224?(B&15)<<12|W<<6|X:(B&7)<<18|W<<12|X<<6|h[T++]&63,65536>B?A+=String.fromCharCode(B):(B-=65536,A+=String.fromCharCode(55296|B>>10,56320|B&1023))}}else A+=String.fromCharCode(B)}return A},ft=(h,T)=>(h>>>=0)?Ut(Y,h,T):"",Ot=h=>{for(var T=0,w=0;w<h.length;++w){var A=h.charCodeAt(w);127>=A?T++:2047>=A?T+=2:55296<=A&&57343>=A?(T+=4,++w):T+=3}return T},Pr=(h,T,w,A)=>{if(w>>>=0,!(0<A))return 0;var B=w;A=w+A-1;for(var W=0;W<h.length;++W){var X=h.charCodeAt(W);if(55296<=X&&57343>=X){var he=h.charCodeAt(++W);X=65536+((X&1023)<<10)|he&1023}if(127>=X){if(w>=A)break;T[w++>>>0]=X}else{if(2047>=X){if(w+1>=A)break;T[w++>>>0]=192|X>>6}else{if(65535>=X){if(w+2>=A)break;T[w++>>>0]=224|X>>12}else{if(w+3>=A)break;T[w++>>>0]=240|X>>18,T[w++>>>0]=128|X>>12&63}T[w++>>>0]=128|X>>6&63}T[w++>>>0]=128|X&63}}return T[w>>>0]=0,w-B},Jt=h=>h%4===0&&(h%100!==0||h%400===0),Jr=[0,31,60,91,121,152,182,213,244,274,305,335],Sn=[0,31,59,90,120,151,181,212,243,273,304,334],zt=h=>{var T=Ot(h)+1,w=et(T);return w&&Pr(h,Y,w,T),w},Dr=[],Zt={},Lr=()=>{if(!Fr){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"},T;for(T in Zt)Zt[T]===void 0?delete h[T]:h[T]=Zt[T];var w=[];for(T in h)w.push(`${T}=${h[T]}`);Fr=w}return Fr},Fr,sr=[null,[],[]],An=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return w=>crypto.getRandomValues(w);if(l)try{var h=(ca(),Ht(fa));if(h.randomFillSync)return w=>h.randomFillSync(w);var T=h.randomBytes;return w=>(w.set(T(w.byteLength)),w)}catch{}Ge("initRandomDevice")},Zr=h=>(Zr=An())(h),ur=[31,29,31,30,31,30,31,31,30,31,30,31],En=[31,28,31,30,31,30,31,31,30,31,30,31];function be(h){var T=Array(Ot(h)+1);return Pr(h,T,0,T.length),T}function Qr(h,T,w,A){function B(P,de,ge){for(P=typeof P=="number"?P.toString():P||"";P.length<de;)P=ge[0]+P;return P}function W(P,de){return B(P,de,"0")}function X(P,de){function ge($r){return 0>$r?-1:0<$r?1:0}var ct;return(ct=ge(P.getFullYear()-de.getFullYear()))===0&&(ct=ge(P.getMonth()-de.getMonth()))===0&&(ct=ge(P.getDate()-de.getDate())),ct}function he(P){switch(P.getDay()){case 0:return new Date(P.getFullYear()-1,11,29);case 1:return P;case 2:return new Date(P.getFullYear(),0,3);case 3:return new Date(P.getFullYear(),0,2);case 4:return new Date(P.getFullYear(),0,1);case 5:return new Date(P.getFullYear()-1,11,31);case 6:return new Date(P.getFullYear()-1,11,30)}}function Ue(P){var de=P.ya;for(P=new Date(new Date(P.za+1900,0,1).getTime());0<de;){var ge=P.getMonth(),ct=(Jt(P.getFullYear())?ur:En)[ge];if(de>ct-P.getDate())de-=ct-P.getDate()+1,P.setDate(1),11>ge?P.setMonth(ge+1):(P.setMonth(0),P.setFullYear(P.getFullYear()+1));else{P.setDate(P.getDate()+de);break}}return ge=new Date(P.getFullYear()+1,0,4),de=he(new Date(P.getFullYear(),0,4)),ge=he(ge),0>=X(de,P)?0>=X(ge,P)?P.getFullYear()+1:P.getFullYear():P.getFullYear()-1}h>>>=0,T>>>=0,w>>>=0,A>>>=0;var ze=ie[A+40>>>2>>>0];A={Ja:U[A>>>2>>>0],Ia:U[A+4>>>2>>>0],Aa:U[A+8>>>2>>>0],Ca:U[A+12>>>2>>>0],Ba:U[A+16>>>2>>>0],za:U[A+20>>>2>>>0],xa:U[A+24>>>2>>>0],ya:U[A+28>>>2>>>0],Na:U[A+32>>>2>>>0],Ha:U[A+36>>>2>>>0],Ka:ze?ft(ze):""},w=ft(w),ze={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var We in ze)w=w.replace(new RegExp(We,"g"),ze[We]);var nn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),on="January February March April May June July August September October November December".split(" ");ze={"%a":P=>nn[P.xa].substring(0,3),"%A":P=>nn[P.xa],"%b":P=>on[P.Ba].substring(0,3),"%B":P=>on[P.Ba],"%C":P=>W((P.za+1900)/100|0,2),"%d":P=>W(P.Ca,2),"%e":P=>B(P.Ca,2," "),"%g":P=>Ue(P).toString().substring(2),"%G":P=>Ue(P),"%H":P=>W(P.Aa,2),"%I":P=>(P=P.Aa,P==0?P=12:12<P&&(P-=12),W(P,2)),"%j":P=>{for(var de=0,ge=0;ge<=P.Ba-1;de+=(Jt(P.za+1900)?ur:En)[ge++]);return W(P.Ca+de,3)},"%m":P=>W(P.Ba+1,2),"%M":P=>W(P.Ia,2),"%n":()=>`\n`,"%p":P=>0<=P.Aa&&12>P.Aa?"AM":"PM","%S":P=>W(P.Ja,2),"%t":()=>"\t","%u":P=>P.xa||7,"%U":P=>W(Math.floor((P.ya+7-P.xa)/7),2),"%V":P=>{var de=Math.floor((P.ya+7-(P.xa+6)%7)/7);if(2>=(P.xa+371-P.ya-2)%7&&de++,de)de==53&&(ge=(P.xa+371-P.ya)%7,ge==4||ge==3&&Jt(P.za)||(de=1));else{de=52;var ge=(P.xa+7-P.ya-1)%7;(ge==4||ge==5&&Jt(P.za%400-1))&&de++}return W(de,2)},"%w":P=>P.xa,"%W":P=>W(Math.floor((P.ya+7-(P.xa+6)%7)/7),2),"%y":P=>(P.za+1900).toString().substring(2),"%Y":P=>P.za+1900,"%z":P=>{P=P.Ha;var de=0<=P;return P=Math.abs(P)/60,(de?"+":"-")+("0000"+(P/60*100+P%60)).slice(-4)},"%Z":P=>P.Ka,"%%":()=>"%"},w=w.replace(/%%/g,"\\0\\0");for(We in ze)w.includes(We)&&(w=w.replace(new RegExp(We,"g"),ze[We](A)));return w=w.replace(/\\0\\0/g,"%"),We=be(w),We.length>T?0:(J.set(We,h>>>0),We.length-1)}var Ft=[],st,Wt,Pn=[],Z=(h,T)=>{if(!Wt){Wt=new WeakMap;var w=st.length;if(Wt)for(var A=0;A<0+w;A++){var B=A,W=Ft[B];W||(B>=Ft.length&&(Ft.length=B+1),Ft[B]=W=st.get(B)),(B=W)&&Wt.set(B,A)}}if(w=Wt.get(h)||0)return w;if(Pn.length)w=Pn.pop();else{try{st.grow(1)}catch(he){throw he instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":he}w=st.length-1}try{A=w,st.set(A,h),Ft[A]=st.get(A)}catch(he){if(!(he instanceof TypeError))throw he;if(typeof WebAssembly.Function=="function"){A=WebAssembly.Function,B={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},W={parameters:[],results:T[0]=="v"?[]:[B[T[0]]]};for(var X=1;X<T.length;++X)W.parameters.push(B[T[X]]);T=new A(W,h)}else{for(A=[1],B=T.slice(0,1),T=T.slice(1),W={i:127,p:127,j:126,f:125,d:124,e:111},A.push(96),X=T.length,128>X?A.push(X):A.push(X%128|128,X>>7),X=0;X<T.length;++X)A.push(W[T[X]]);B=="v"?A.push(0):A.push(1,W[B]),T=[0,97,115,109,1,0,0,0,1],B=A.length,128>B?T.push(B):T.push(B%128|128,B>>7),T.push.apply(T,A),T.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),T=new WebAssembly.Module(new Uint8Array(T)),T=new WebAssembly.Instance(T,{e:{f:h}}).exports.f}A=w,st.set(A,T),Ft[A]=st.get(A)}return Wt.set(h,w),w},Cr={a:function(h,T,w){throw h>>>=0,new vt(h).La(T>>>0,w>>>0),_t=h,Ie++,_t},e:function(){return 0},L:function(){},A:function(){},C:function(){},u:function(){return 0},J:function(){},E:function(){},I:function(){},k:function(){},B:function(){},y:function(){},K:function(){},z:function(){},l:()=>1,o:function(h,T,w){h=T+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*T:NaN,w>>>=0,h=new Date(1e3*h),U[w>>>2>>>0]=h.getUTCSeconds(),U[w+4>>>2>>>0]=h.getUTCMinutes(),U[w+8>>>2>>>0]=h.getUTCHours(),U[w+12>>>2>>>0]=h.getUTCDate(),U[w+16>>>2>>>0]=h.getUTCMonth(),U[w+20>>>2>>>0]=h.getUTCFullYear()-1900,U[w+24>>>2>>>0]=h.getUTCDay(),U[w+28>>>2>>>0]=(h.getTime()-Date.UTC(h.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(h,T,w){h=T+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*T:NaN,w>>>=0,h=new Date(1e3*h),U[w>>>2>>>0]=h.getSeconds(),U[w+4>>>2>>>0]=h.getMinutes(),U[w+8>>>2>>>0]=h.getHours(),U[w+12>>>2>>>0]=h.getDate(),U[w+16>>>2>>>0]=h.getMonth(),U[w+20>>>2>>>0]=h.getFullYear()-1900,U[w+24>>>2>>>0]=h.getDay(),U[w+28>>>2>>>0]=(Jt(h.getFullYear())?Jr:Sn)[h.getMonth()]+h.getDate()-1|0,U[w+36>>>2>>>0]=-(60*h.getTimezoneOffset()),T=new Date(h.getFullYear(),6,1).getTimezoneOffset();var A=new Date(h.getFullYear(),0,1).getTimezoneOffset();U[w+32>>>2>>>0]=(T!=A&&h.getTimezoneOffset()==Math.min(A,T))|0},q:function(h){h>>>=0;var T=new Date(U[h+20>>>2>>>0]+1900,U[h+16>>>2>>>0],U[h+12>>>2>>>0],U[h+8>>>2>>>0],U[h+4>>>2>>>0],U[h>>>2>>>0],0),w=U[h+32>>>2>>>0],A=T.getTimezoneOffset(),B=new Date(T.getFullYear(),6,1).getTimezoneOffset(),W=new Date(T.getFullYear(),0,1).getTimezoneOffset(),X=Math.min(W,B);return 0>w?U[h+32>>>2>>>0]=+(B!=W&&X==A):0<w!=(X==A)&&(B=Math.max(W,B),T.setTime(T.getTime()+6e4*((0<w?X:B)-A))),U[h+24>>>2>>>0]=T.getDay(),U[h+28>>>2>>>0]=(Jt(T.getFullYear())?Jr:Sn)[T.getMonth()]+T.getDate()-1|0,U[h>>>2>>>0]=T.getSeconds(),U[h+4>>>2>>>0]=T.getMinutes(),U[h+8>>>2>>>0]=T.getHours(),U[h+12>>>2>>>0]=T.getDate(),U[h+16>>>2>>>0]=T.getMonth(),U[h+20>>>2>>>0]=T.getYear(),h=T.getTime(),isNaN(h)?(U[Vt()>>>2>>>0]=61,h=-1):h/=1e3,en((Lt=h,1<=+Math.abs(Lt)?0<Lt?+Math.floor(Lt/4294967296)>>>0:~~+Math.ceil((Lt-+(~~Lt>>>0))/4294967296)>>>0:0)),h>>>0},m:function(){return-52},n:function(){},w:function(h,T,w){function A(Ue){return(Ue=Ue.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?Ue[1]:"GMT"}w>>>=0;var B=new Date().getFullYear(),W=new Date(B,0,1),X=new Date(B,6,1);B=W.getTimezoneOffset();var he=X.getTimezoneOffset();ie[h>>>0>>>2>>>0]=60*Math.max(B,he),U[T>>>0>>>2>>>0]=+(B!=he),h=A(W),T=A(X),h=zt(h),T=zt(T),he<B?(ie[w>>>2>>>0]=h,ie[w+4>>>2>>>0]=T):(ie[w>>>2>>>0]=T,ie[w+4>>>2>>>0]=h)},d:()=>{Ge("")},D:function(h,T,w){h>>>=0,T>>>=0,w>>>=0,Dr.length=0;for(var A;A=Y[T++>>>0];){var B=A!=105;B&=A!=112,w+=B&&w%8?4:0,Dr.push(A==112?ie[w>>>2>>>0]:A==105?U[w>>>2>>>0]:Be[w>>>3>>>0]),w+=B?8:4}return Qe[h].apply(null,Dr)},g:()=>Date.now(),x:function(){return 4294901760},b:()=>performance.now(),H:function(h,T,w){return T>>>=0,Y.copyWithin(h>>>0>>>0,T>>>0,T+(w>>>0)>>>0)},v:function(h){h>>>=0;var T=Y.length;if(4294901760<h)return!1;for(var w=1;4>=w;w*=2){var A=T*(1+.2/w);A=Math.min(A,h+100663296);var B=Math;A=Math.max(h,A);e:{B=(B.min.call(B,4294901760,A+(65536-A%65536)%65536)-C.buffer.byteLength+65535)/65536;try{C.grow(B),je();var W=1;break e}catch{}W=void 0}if(W)return!0}return!1},F:function(h,T){h>>>=0,T>>>=0;var w=0;return Lr().forEach((A,B)=>{var W=T+w;for(B=ie[h+4*B>>>2>>>0]=W,W=0;W<A.length;++W)J[B++>>>0>>>0]=A.charCodeAt(W);J[B>>>0>>>0]=0,w+=A.length+1}),0},G:function(h,T){h>>>=0,T>>>=0;var w=Lr();ie[h>>>2>>>0]=w.length;var A=0;return w.forEach(B=>A+=B.length+1),ie[T>>>2>>>0]=A,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(h,T,w,A){T>>>=0,w>>>=0,A>>>=0;for(var B=0,W=0;W<w;W++){var X=ie[T>>>2>>>0],he=ie[T+4>>>2>>>0];T+=8;for(var Ue=0;Ue<he;Ue++){var ze=Y[X+Ue>>>0],We=sr[h];ze===0||ze===10?((h===1?S:E)(Ut(We,0)),We.length=0):We.push(ze)}B+=he}return ie[A>>>2>>>0]=B,0},s:function(h,T){return h>>>=0,Zr(Y.subarray(h>>>0,h+(T>>>0)>>>0)),0},t:Qr,c:function(h,T,w,A){return Qr(h>>>0,T>>>0,w>>>0,A>>>0)},h:function(h,T,w,A){let B=st.length;h=new Uint8Array(Y.slice(h+T,h+w));try{var W=new WebAssembly.Module(h),X=new WebAssembly.Instance(W,{env:{memory:C}}),he;for(he in X.exports)Z(X.exports[he]);return B<st.length?B:A}catch(Ue){return console.log(Ue),A}}},Q=function(){function h(w){return Q=w.exports,Q=Fn(),C=Q.M,je(),st=Q.sa,V.unshift(Q.N),Ze--,Ze==0&&(ne!==null&&(clearInterval(ne),ne=null),Ee&&(w=Ee,Ee=null,w())),Q}var T={a:Cr};if(Ze++,o.instantiateWasm)try{return o.instantiateWasm(T,h)}catch(w){E(`Module.instantiateWasm callback failed with error: ${w}`),r(w)}return Kt(T,function(w){h(w.instance)}).catch(r),{}}();o._OrtInit=(h,T)=>(o._OrtInit=Q.O)(h,T),o._OrtGetLastError=(h,T)=>(o._OrtGetLastError=Q.P)(h,T),o._OrtCreateSessionOptions=(h,T,w,A,B,W,X,he,Ue,ze)=>(o._OrtCreateSessionOptions=Q.Q)(h,T,w,A,B,W,X,he,Ue,ze),o._OrtAppendExecutionProvider=(h,T)=>(o._OrtAppendExecutionProvider=Q.R)(h,T),o._OrtAddFreeDimensionOverride=(h,T,w)=>(o._OrtAddFreeDimensionOverride=Q.S)(h,T,w),o._OrtAddSessionConfigEntry=(h,T,w)=>(o._OrtAddSessionConfigEntry=Q.T)(h,T,w),o._OrtReleaseSessionOptions=h=>(o._OrtReleaseSessionOptions=Q.U)(h),o._OrtCreateSession=(h,T,w)=>(o._OrtCreateSession=Q.V)(h,T,w),o._OrtReleaseSession=h=>(o._OrtReleaseSession=Q.W)(h),o._OrtGetInputOutputCount=(h,T,w)=>(o._OrtGetInputOutputCount=Q.X)(h,T,w),o._OrtGetInputName=(h,T)=>(o._OrtGetInputName=Q.Y)(h,T),o._OrtGetOutputName=(h,T)=>(o._OrtGetOutputName=Q.Z)(h,T),o._OrtFree=h=>(o._OrtFree=Q._)(h),o._OrtCreateTensor=(h,T,w,A,B,W)=>(o._OrtCreateTensor=Q.$)(h,T,w,A,B,W),o._OrtGetTensorData=(h,T,w,A,B)=>(o._OrtGetTensorData=Q.aa)(h,T,w,A,B),o._OrtReleaseTensor=h=>(o._OrtReleaseTensor=Q.ba)(h),o._OrtCreateRunOptions=(h,T,w,A)=>(o._OrtCreateRunOptions=Q.ca)(h,T,w,A),o._OrtAddRunConfigEntry=(h,T,w)=>(o._OrtAddRunConfigEntry=Q.da)(h,T,w),o._OrtReleaseRunOptions=h=>(o._OrtReleaseRunOptions=Q.ea)(h),o._OrtCreateBinding=h=>(o._OrtCreateBinding=Q.fa)(h),o._OrtBindInput=(h,T,w)=>(o._OrtBindInput=Q.ga)(h,T,w),o._OrtBindOutput=(h,T,w,A)=>(o._OrtBindOutput=Q.ha)(h,T,w,A),o._OrtClearBoundOutputs=h=>(o._OrtClearBoundOutputs=Q.ia)(h),o._OrtReleaseBinding=h=>(o._OrtReleaseBinding=Q.ja)(h),o._OrtRunWithBinding=(h,T,w,A,B)=>(o._OrtRunWithBinding=Q.ka)(h,T,w,A,B),o._OrtRun=(h,T,w,A,B,W,X,he)=>(o._OrtRun=Q.la)(h,T,w,A,B,W,X,he),o._OrtEndProfiling=h=>(o._OrtEndProfiling=Q.ma)(h),o._OrtConfigure=(h,T)=>(o._OrtConfigure=Q.na)(h,T),o._OrtAuth=(h,T)=>(o._OrtAuth=Q.oa)(h,T);var Vt=()=>(Vt=Q.pa)(),et=o._malloc=h=>(et=o._malloc=Q.qa)(h);o._free=h=>(o._free=Q.ra)(h);var en=h=>(en=Q.ta)(h),Dn=()=>(Dn=Q.ua)(),tn=h=>(tn=Q.va)(h),Ln=h=>(Ln=Q.wa)(h);o.___start_em_js=882613,o.___stop_em_js=883225;function Fn(){var h=Q;h=Object.assign({},h);var T=A=>()=>A()>>>0,w=A=>B=>A(B)>>>0;return h.pa=T(h.pa),h.qa=w(h.qa),h.ua=T(h.ua),h.wa=w(h.wa),h}o.stackAlloc=Ln,o.stackSave=Dn,o.stackRestore=tn,o.addFunction=Z,o.UTF8ToString=ft,o.stringToUTF8=(h,T,w)=>Pr(h,Y,T,w),o.lengthBytesUTF8=Ot;var lr;Ee=function h(){lr||rn(),lr||(Ee=h)};function rn(){if(!(0<Ze)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;){var h=o.preRun.shift();ut.unshift(h)}for(;0<ut.length;)ut.shift()(o);if(!(0<Ze||lr||(lr=!0,o.calledRun=!0,N))){for(;0<V.length;)V.shift()(o);for(e(o);0<_e.length;)_e.shift()(o)}}}return rn(),t.ready}})();typeof $p=="object"&&typeof pa=="object"?pa.exports=Cp:typeof define=="function"&&define.amd&&define([],()=>Cp)});var kp=ye(()=>{});var Np=ye(()=>{});var Rp={};cr(Rp,{cpus:()=>gg});var gg,Mp=L(()=>{gg=void 0});var zp=ye((Up,da)=>{"use strict";var Gp=(()=>{var a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(a=a||__filename),function(t={}){function o(){return _e.buffer!=Ge.buffer&&wt(),Ge}function e(){return _e.buffer!=Ge.buffer&&wt(),at}function r(){return _e.buffer!=Ge.buffer&&wt(),lt}function n(){return _e.buffer!=Ge.buffer&&wt(),Pe}function s(){return _e.buffer!=Ge.buffer&&wt(),qe}var i=t,u,l;i.ready=new Promise((f,p)=>{u=f,l=p});var c=Object.assign({},i),d="./this.program",b=(f,p)=>{throw p},x=typeof window=="object",v=typeof importScripts=="function",_=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S=i.ENVIRONMENT_IS_PTHREAD||!1,E="";function C(f){return i.locateFile?i.locateFile(f,E):E+f}var N,J,Y;if(_){var U=(sa(),Ht(aa)),ie=(la(),Ht(ua));E=v?ie.dirname(E)+"/":__dirname+"/",N=(p,g)=>(p=ft(p)?new URL(p):ie.normalize(p),U.readFileSync(p,g?void 0:"utf8")),Y=p=>(p=N(p,!0),p.buffer||(p=new Uint8Array(p)),p),J=(p,g,O,F=!0)=>{p=ft(p)?new URL(p):ie.normalize(p),U.readFile(p,F?void 0:"utf8",($,M)=>{$?O($):g(F?M.buffer:M)})},!i.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),b=(p,g)=>{throw process.exitCode=p,g},i.inspect=()=>"[Emscripten Module object]";let f;try{f=kp()}catch(p){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),p}global.Worker=f.Worker}else(x||v)&&(v?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),typeof a<"u"&&a&&(E=a),E.indexOf("blob:")!==0?E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):E="",_||(N=f=>{var p=new XMLHttpRequest;return p.open("GET",f,!1),p.send(null),p.responseText},v&&(Y=f=>{var p=new XMLHttpRequest;return p.open("GET",f,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),J=(f,p,g)=>{var O=new XMLHttpRequest;O.open("GET",f,!0),O.responseType="arraybuffer",O.onload=()=>{O.status==200||O.status==0&&O.response?p(O.response):g()},O.onerror=g,O.send(null)}));_&&typeof performance>"u"&&(global.performance=Np().performance);var Be=console.log.bind(console),je=console.error.bind(console);_&&(Be=(...f)=>U.writeSync(1,f.join(" ")+`\n`),je=(...f)=>U.writeSync(2,f.join(" ")+`\n`));var ut=Be,V=je;Object.assign(i,c),c=null,typeof WebAssembly!="object"&&Ye("no native wasm support detected");var _e,Ze,ne=!1,Ee,Ge,at,lt,Pe,qe;function wt(){var f=_e.buffer;i.HEAP8=Ge=new Int8Array(f),i.HEAP16=new Int16Array(f),i.HEAPU8=at=new Uint8Array(f),i.HEAPU16=new Uint16Array(f),i.HEAP32=lt=new Int32Array(f),i.HEAPU32=Pe=new Uint32Array(f),i.HEAPF32=new Float32Array(f),i.HEAPF64=qe=new Float64Array(f)}var Mt=16777216;if(S)_e=i.wasmMemory;else if(i.wasmMemory)_e=i.wasmMemory;else if(_e=new WebAssembly.Memory({initial:Mt/65536,maximum:65536,shared:!0}),!(_e.buffer instanceof SharedArrayBuffer))throw V("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&V("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");wt(),Mt=_e.buffer.byteLength;var Gt=[],Kt=[],Lt=[],Qe=0,vt=null,_t=null;function Ie(){if(Qe--,Qe==0&&(vt!==null&&(clearInterval(vt),vt=null),_t)){var f=_t;_t=null,f()}}function Ye(f){throw f="Aborted("+f+")",V(f),ne=!0,Ee=1,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),l(f),f}var Ut=f=>f.startsWith("data:application/octet-stream;base64,"),ft=f=>f.startsWith("file://"),Ot;Ot="ort-wasm-threaded.wasm",Ut(Ot)||(Ot=C(Ot));function Pr(f){if(Y)return Y(f);throw"both async and sync fetching of the wasm failed"}function Jt(f){if(x||v){if(typeof fetch=="function"&&!ft(f))return fetch(f,{credentials:"same-origin"}).then(p=>{if(!p.ok)throw"failed to load wasm binary file at \'"+f+"\'";return p.arrayBuffer()}).catch(()=>Pr(f));if(J)return new Promise((p,g)=>{J(f,O=>p(new Uint8Array(O)),g)})}return Promise.resolve().then(()=>Pr(f))}function Jr(f,p,g){return Jt(f).then(O=>WebAssembly.instantiate(O,p)).then(O=>O).then(g,O=>{V(`failed to asynchronously prepare wasm: ${O}`),Ye(O)})}function Sn(f,p){var g=Ot;return typeof WebAssembly.instantiateStreaming!="function"||Ut(g)||ft(g)||_||typeof fetch!="function"?Jr(g,f,p):fetch(g,{credentials:"same-origin"}).then(O=>WebAssembly.instantiateStreaming(O,f).then(p,function(F){return V(`wasm streaming compile failed: ${F}`),V("falling back to ArrayBuffer instantiation"),Jr(g,f,p)}))}var zt,Dr={886500:(f,p,g,O)=>{if(typeof i>"u"||!i.hb)return 1;if(f=ur(f>>>0),f.startsWith("./")&&(f=f.substring(2)),f=i.hb.get(f),!f)return 2;if(p>>>=0,g>>>=0,O>>>=0,p+g>f.byteLength)return 3;try{return e().set(f.subarray(p,p+g),O>>>0),0}catch{return 4}}};function Zt(f){this.name="ExitStatus",this.message=`Program terminated with exit(${f})`,this.status=f}var Lr=f=>{f.terminate(),f.onmessage=()=>{}},Fr=f=>{Z.Ta.length==0&&(Wt(),Z.bb(Z.Ta[0]));var p=Z.Ta.pop();if(!p)return 6;Z.Ua.push(p),Z.Qa[f.Sa]=p,p.Sa=f.Sa;var g={cmd:"run",start_routine:f.ob,arg:f.lb,pthread_ptr:f.Sa};return _&&p.unref(),p.postMessage(g,f.ub),0},sr=0,An=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Zr=(f,p,g)=>{p>>>=0;var O=p+g;for(g=p;f[g]&&!(g>=O);)++g;if(16<g-p&&f.buffer&&An)return An.decode(f.buffer instanceof SharedArrayBuffer?f.slice(p,g):f.subarray(p,g));for(O="";p<g;){var F=f[p++];if(F&128){var $=f[p++]&63;if((F&224)==192)O+=String.fromCharCode((F&31)<<6|$);else{var M=f[p++]&63;F=(F&240)==224?(F&15)<<12|$<<6|M:(F&7)<<18|$<<12|M<<6|f[p++]&63,65536>F?O+=String.fromCharCode(F):(F-=65536,O+=String.fromCharCode(55296|F>>10,56320|F&1023))}}else O+=String.fromCharCode(F)}return O},ur=(f,p)=>(f>>>=0)?Zr(e(),f,p):"",En=f=>{var p=Xo();return f=f(),$n(p),f};function be(f,p){var g=arguments.length-2,O=arguments;return En(()=>{for(var F=Ko(8*g),$=F>>>3,M=0;M<g;M++){var ce=O[2+M];s()[$+M>>>0]=ce}return Ha(f,g,F,p)})}function Qr(f){if(S)return be(0,1,f);Ee=f,0<sr||(Z.pb(),i.onExit?.(f),ne=!0),b(f,new Zt(f))}var Ft=f=>{if(Ee=f,S)throw Q(f),"unwind";Qr(f)};function st(){for(var f=i.numThreads;f--;)Wt();Gt.unshift(()=>{Qe++,Pn(()=>Ie())})}function Wt(){var f=C("ort-wasm-threaded.worker.js");f=new Worker(f),Z.Ta.push(f)}function Pn(f){S?f():Promise.all(Z.Ta.map(Z.bb)).then(f)}var Z={Ta:[],Ua:[],gb:[],Qa:{},$a(){S?(Z.receiveObjectTransfer=Z.nb,Z.threadInitTLS=Z.fb,Z.setExitStatus=Z.eb):st()},eb:f=>Ee=f,xb:["$terminateWorker"],pb:()=>{for(var f of Z.Ua)Lr(f);for(f of Z.Ta)Lr(f);Z.Ta=[],Z.Ua=[],Z.Qa=[]},cb:f=>{var p=f.Sa;delete Z.Qa[p],Z.Ta.push(f),Z.Ua.splice(Z.Ua.indexOf(f),1),f.Sa=0,qo(p)},nb(){},fb(){Z.gb.forEach(f=>f())},bb:f=>new Promise(p=>{f.onmessage=$=>{$=$.data;var M=$.cmd;if($.targetThread&&$.targetThread!=Cn()){var ce=Z.Qa[$.targetThread];ce?ce.postMessage($,$.transferList):V(`Internal error! Worker sent a message "${M}" to target pthread ${$.targetThread}, but that thread no longer exists!`)}else M==="checkMailbox"?ct():M==="spawnThread"?Fr($):M==="cleanupThread"?Z.cb(Z.Qa[$.thread]):M==="killThread"?($=$.thread,M=Z.Qa[$],delete Z.Qa[$],Lr(M),qo($),Z.Ua.splice(Z.Ua.indexOf(M),1),M.Sa=0):M==="cancelThread"?Z.Qa[$.thread].postMessage({cmd:"cancel"}):M==="loaded"?(f.loaded=!0,_&&!f.Sa&&f.unref(),p(f)):M==="alert"?alert(`Thread ${$.threadId}: ${$.text}`):$.target==="setimmediate"?f.postMessage($):M==="callHandler"?i[$.handler](...$.args):M&&V(`worker sent an unknown command ${M}`)},f.onerror=$=>{throw V(`worker sent an error! ${$.filename}:${$.lineno}: ${$.message}`),$},_&&(f.on("message",$=>f.onmessage({data:$})),f.on("error",$=>f.onerror($)));var g=[],O=["onExit"],F;for(F of O)i.hasOwnProperty(F)&&g.push(F);f.postMessage({cmd:"load",handlers:g,urlOrBlob:i.mainScriptUrlOrBlob||a,wasmMemory:_e,wasmModule:Ze})})};i.PThread=Z;var Cr=f=>{for(;0<f.length;)f.shift()(i)};i.establishStackSpace=()=>{var f=Cn(),p=n()[f+52>>>2>>>0];f=n()[f+56>>>2>>>0],Ya(p,p-f),$n(p)};function Q(f){if(S)return be(1,0,f);Ft(f)}var Vt=[],et,en=f=>{var p=Vt[f];return p||(f>=Vt.length&&(Vt.length=f+1),Vt[f]=p=et.get(f)),p};i.invokeEntryPoint=(f,p)=>{f=en(f)(p),0<sr?Z.eb(f):Yo(f)};function Dn(f){this.Za=f-24,this.kb=function(p){n()[this.Za+4>>>2>>>0]=p},this.jb=function(p){n()[this.Za+8>>>2>>>0]=p},this.$a=function(p,g){this.ib(),this.kb(p),this.jb(g)},this.ib=function(){n()[this.Za+16>>>2>>>0]=0}}var tn=0,Ln=0;function Fn(f,p,g,O){return S?be(2,1,f,p,g,O):lr(f,p,g,O)}function lr(f,p,g,O){if(f>>>=0,p>>>=0,g>>>=0,O>>>=0,typeof SharedArrayBuffer>"u")return V("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var F=[];return S&&F.length===0?Fn(f,p,g,O):(f={ob:g,Sa:f,lb:O,ub:F},S?(f.wb="spawnThread",postMessage(f,F),0):Fr(f))}function rn(f,p,g){return S?be(3,1,f,p,g):0}function h(f,p){if(S)return be(4,1,f,p)}var T=f=>{for(var p=0,g=0;g<f.length;++g){var O=f.charCodeAt(g);127>=O?p++:2047>=O?p+=2:55296<=O&&57343>=O?(p+=4,++g):p+=3}return p},w=(f,p,g,O)=>{if(g>>>=0,!(0<O))return 0;var F=g;O=g+O-1;for(var $=0;$<f.length;++$){var M=f.charCodeAt($);if(55296<=M&&57343>=M){var ce=f.charCodeAt(++$);M=65536+((M&1023)<<10)|ce&1023}if(127>=M){if(g>=O)break;p[g++>>>0]=M}else{if(2047>=M){if(g+1>=O)break;p[g++>>>0]=192|M>>6}else{if(65535>=M){if(g+2>=O)break;p[g++>>>0]=224|M>>12}else{if(g+3>=O)break;p[g++>>>0]=240|M>>18,p[g++>>>0]=128|M>>12&63}p[g++>>>0]=128|M>>6&63}p[g++>>>0]=128|M&63}}return p[g>>>0]=0,g-F},A=(f,p,g)=>w(f,e(),p,g);function B(f,p){if(S)return be(5,1,f,p)}function W(f,p,g){if(S)return be(6,1,f,p,g)}function X(f,p,g){return S?be(7,1,f,p,g):0}function he(f,p){if(S)return be(8,1,f,p)}function Ue(f,p,g){if(S)return be(9,1,f,p,g)}function ze(f,p,g,O){if(S)return be(10,1,f,p,g,O)}function We(f,p,g,O){if(S)return be(11,1,f,p,g,O)}function nn(f,p,g,O){if(S)return be(12,1,f,p,g,O)}function on(f){if(S)return be(13,1,f)}function P(f,p){if(S)return be(14,1,f,p)}function de(f,p,g){if(S)return be(15,1,f,p,g)}function ge(f){f>>>=0,typeof Atomics.vb=="function"&&(Atomics.vb(r(),f>>>2,f).value.then(ct),f+=128,Atomics.store(r(),f>>>2,1))}i.__emscripten_thread_mailbox_await=ge;var ct=()=>{var f=Cn();if(f&&(ge(f),f=ja,!ne))try{if(f(),!(0<sr))try{S?Yo(Ee):Ft(Ee)}catch(p){p instanceof Zt||p=="unwind"||b(1,p)}}catch(p){p instanceof Zt||p=="unwind"||b(1,p)}};i.checkMailbox=ct;var $r=[],Br=f=>f%4===0&&(f%100!==0||f%400===0),Oa=[0,31,60,91,121,152,182,213,244,274,305,335],Ia=[0,31,59,90,120,151,181,212,243,273,304,334];function Sa(f,p,g,O,F,$,M,ce){return S?be(16,1,f,p,g,O,F,$,M,ce):-52}function Aa(f,p,g,O,F,$,M){if(S)return be(17,1,f,p,g,O,F,$,M)}var Ea=f=>{var p=T(f)+1,g=Wa(p);return g&&A(f,g,p),g},Vo=[],Ho={},Pa=()=>{if(!jo){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},p;for(p in Ho)Ho[p]===void 0?delete f[p]:f[p]=Ho[p];var g=[];for(p in f)g.push(`${p}=${f[p]}`);jo=g}return jo},jo;function Da(f,p){if(S)return be(18,1,f,p);f>>>=0,p>>>=0;var g=0;return Pa().forEach((O,F)=>{var $=p+g;for(F=n()[f+4*F>>>2>>>0]=$,$=0;$<O.length;++$)o()[F++>>>0>>>0]=O.charCodeAt($);o()[F>>>0>>>0]=0,g+=O.length+1}),0}function La(f,p){if(S)return be(19,1,f,p);f>>>=0,p>>>=0;var g=Pa();n()[f>>>2>>>0]=g.length;var O=0;return g.forEach(F=>O+=F.length+1),n()[p>>>2>>>0]=O,0}function Fa(f){return S?be(20,1,f):52}function Ca(f,p,g,O){return S?be(21,1,f,p,g,O):52}function $a(f,p,g,O,F){return S?be(22,1,f,p,g,O,F):70}var Ad=[null,[],[]];function Ba(f,p,g,O){if(S)return be(23,1,f,p,g,O);p>>>=0,g>>>=0,O>>>=0;for(var F=0,$=0;$<g;$++){var M=n()[p>>>2>>>0],ce=n()[p+4>>>2>>>0];p+=8;for(var pt=0;pt<ce;pt++){var ke=e()[M+pt>>>0],tt=Ad[f];ke===0||ke===10?((f===1?ut:V)(Zr(tt,0)),tt.length=0):tt.push(ke)}F+=ce}return n()[O>>>2>>>0]=F,0}var Ed=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>(g.set(crypto.getRandomValues(new Uint8Array(g.byteLength))),g);if(_)try{var f=(ca(),Ht(fa));if(f.randomFillSync)return g=>f.randomFillSync(g);var p=f.randomBytes;return g=>(g.set(p(g.byteLength)),g)}catch{}Ye("initRandomDevice")},ka=f=>(ka=Ed())(f),Na=[31,29,31,30,31,30,31,31,30,31,30,31],Ra=[31,28,31,30,31,30,31,31,30,31,30,31];function Pd(f){var p=Array(T(f)+1);return w(f,p,0,p.length),p}var Dd=(f,p)=>{o().set(f,p>>>0)};function Ma(f,p,g,O){function F(D,me,Se){for(D=typeof D=="number"?D.toString():D||"";D.length<me;)D=Se[0]+D;return D}function $(D,me){return F(D,me,"0")}function M(D,me){function Se(Za){return 0>Za?-1:0<Za?1:0}var fr;return(fr=Se(D.getFullYear()-me.getFullYear()))===0&&(fr=Se(D.getMonth()-me.getMonth()))===0&&(fr=Se(D.getDate()-me.getDate())),fr}function ce(D){switch(D.getDay()){case 0:return new Date(D.getFullYear()-1,11,29);case 1:return D;case 2:return new Date(D.getFullYear(),0,3);case 3:return new Date(D.getFullYear(),0,2);case 4:return new Date(D.getFullYear(),0,1);case 5:return new Date(D.getFullYear()-1,11,31);case 6:return new Date(D.getFullYear()-1,11,30)}}function pt(D){var me=D.Va;for(D=new Date(new Date(D.Wa+1900,0,1).getTime());0<me;){var Se=D.getMonth(),fr=(Br(D.getFullYear())?Na:Ra)[Se];if(me>fr-D.getDate())me-=fr-D.getDate()+1,D.setDate(1),11>Se?D.setMonth(Se+1):(D.setMonth(0),D.setFullYear(D.getFullYear()+1));else{D.setDate(D.getDate()+me);break}}return Se=new Date(D.getFullYear()+1,0,4),me=ce(new Date(D.getFullYear(),0,4)),Se=ce(Se),0>=M(me,D)?0>=M(Se,D)?D.getFullYear()+1:D.getFullYear():D.getFullYear()-1}f>>>=0,p>>>=0,g>>>=0,O>>>=0;var ke=n()[O+40>>>2>>>0];O={sb:r()[O>>>2>>>0],rb:r()[O+4>>>2>>>0],Xa:r()[O+8>>>2>>>0],ab:r()[O+12>>>2>>>0],Ya:r()[O+16>>>2>>>0],Wa:r()[O+20>>>2>>>0],Ra:r()[O+24>>>2>>>0],Va:r()[O+28>>>2>>>0],yb:r()[O+32>>>2>>>0],qb:r()[O+36>>>2>>>0],tb:ke?ur(ke):""},g=ur(g),ke={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var tt in ke)g=g.replace(new RegExp(tt,"g"),ke[tt]);var Ka="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ja="January February March April May June July August September October November December".split(" ");ke={"%a":D=>Ka[D.Ra].substring(0,3),"%A":D=>Ka[D.Ra],"%b":D=>Ja[D.Ya].substring(0,3),"%B":D=>Ja[D.Ya],"%C":D=>$((D.Wa+1900)/100|0,2),"%d":D=>$(D.ab,2),"%e":D=>F(D.ab,2," "),"%g":D=>pt(D).toString().substring(2),"%G":D=>pt(D),"%H":D=>$(D.Xa,2),"%I":D=>(D=D.Xa,D==0?D=12:12<D&&(D-=12),$(D,2)),"%j":D=>{for(var me=0,Se=0;Se<=D.Ya-1;me+=(Br(D.Wa+1900)?Na:Ra)[Se++]);return $(D.ab+me,3)},"%m":D=>$(D.Ya+1,2),"%M":D=>$(D.rb,2),"%n":()=>`\n`,"%p":D=>0<=D.Xa&&12>D.Xa?"AM":"PM","%S":D=>$(D.sb,2),"%t":()=>"\t","%u":D=>D.Ra||7,"%U":D=>$(Math.floor((D.Va+7-D.Ra)/7),2),"%V":D=>{var me=Math.floor((D.Va+7-(D.Ra+6)%7)/7);if(2>=(D.Ra+371-D.Va-2)%7&&me++,me)me==53&&(Se=(D.Ra+371-D.Va)%7,Se==4||Se==3&&Br(D.Wa)||(me=1));else{me=52;var Se=(D.Ra+7-D.Va-1)%7;(Se==4||Se==5&&Br(D.Wa%400-1))&&me++}return $(me,2)},"%w":D=>D.Ra,"%W":D=>$(Math.floor((D.Va+7-(D.Ra+6)%7)/7),2),"%y":D=>(D.Wa+1900).toString().substring(2),"%Y":D=>D.Wa+1900,"%z":D=>{D=D.qb;var me=0<=D;return D=Math.abs(D)/60,(me?"+":"-")+("0000"+(D/60*100+D%60)).slice(-4)},"%Z":D=>D.tb,"%%":()=>"%"},g=g.replace(/%%/g,"\\0\\0");for(tt in ke)g.includes(tt)&&(g=g.replace(new RegExp(tt,"g"),ke[tt](O)));return g=g.replace(/\\0\\0/g,"%"),tt=Pd(g),tt.length>p?0:(Dd(tt,f),tt.length-1)}var kr,Ga=[],Ua=(f,p)=>{if(!kr){kr=new WeakMap;var g=et.length;if(kr)for(var O=0;O<0+g;O++){var F=en(O);F&&kr.set(F,O)}}if(g=kr.get(f)||0)return g;if(Ga.length)g=Ga.pop();else{try{et.grow(1)}catch(ce){throw ce instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":ce}g=et.length-1}try{O=g,et.set(O,f),Vt[O]=et.get(O)}catch(ce){if(!(ce instanceof TypeError))throw ce;if(typeof WebAssembly.Function=="function"){O=WebAssembly.Function,F={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var $={parameters:[],results:p[0]=="v"?[]:[F[p[0]]]},M=1;M<p.length;++M)$.parameters.push(F[p[M]]);p=new O($,f)}else{for(O=[1],F=p.slice(0,1),p=p.slice(1),$={i:127,p:127,j:126,f:125,d:124,e:111},O.push(96),M=p.length,128>M?O.push(M):O.push(M%128|128,M>>7),M=0;M<p.length;++M)O.push($[p[M]]);F=="v"?O.push(0):O.push(1,$[F]),p=[0,97,115,109,1,0,0,0,1],F=O.length,128>F?p.push(F):p.push(F%128|128,F>>7),p.push.apply(p,O),p.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),p=new WebAssembly.Module(new Uint8Array(p)),p=new WebAssembly.Instance(p,{e:{f}}).exports.f}O=g,et.set(O,p),Vt[O]=et.get(O)}return kr.set(f,g),g};Z.$a();var Ld=[Qr,Q,Fn,rn,h,B,W,X,he,Ue,ze,We,nn,on,P,de,Sa,Aa,Da,La,Fa,Ca,$a,Ba],Fd={b:function(f,p,g){throw f>>>=0,new Dn(f).$a(p>>>0,g>>>0),tn=f,Ln++,tn},O:function(f){Va(f>>>0,!v,1,!x,131072,!1),Z.fb()},m:function(f){f>>>=0,S?postMessage({cmd:"cleanupThread",thread:f}):Z.cb(Z.Qa[f])},J:lr,h:rn,U:h,F:B,H:W,y:X,S:he,L:Ue,R:ze,o:We,G:nn,D:on,T:P,E:de,p:()=>1,B:function(f,p){f>>>=0,f==p>>>0?setTimeout(()=>ct()):S?postMessage({targetThread:f,cmd:"checkMailbox"}):(f=Z.Qa[f])&&f.postMessage({cmd:"checkMailbox"})},K:function(f,p,g,O){p>>>=0,$r.length=g,O=O>>>0>>>3;for(var F=0;F<g;F++)$r[F]=s()[O+F>>>0];return f=0>f?Dr[-f-1]:Ld[f],Z.mb=p,p=f.apply(null,$r),Z.mb=0,p},M:ge,W:function(f){_&&Z.Qa[f>>>0].ref()},s:function(f,p,g){f=p+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*p:NaN,g>>>=0,f=new Date(1e3*f),r()[g>>>2>>>0]=f.getUTCSeconds(),r()[g+4>>>2>>>0]=f.getUTCMinutes(),r()[g+8>>>2>>>0]=f.getUTCHours(),r()[g+12>>>2>>>0]=f.getUTCDate(),r()[g+16>>>2>>>0]=f.getUTCMonth(),r()[g+20>>>2>>>0]=f.getUTCFullYear()-1900,r()[g+24>>>2>>>0]=f.getUTCDay(),f=(f.getTime()-Date.UTC(f.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,r()[g+28>>>2>>>0]=f},t:function(f,p,g){f=p+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*p:NaN,g>>>=0,f=new Date(1e3*f),r()[g>>>2>>>0]=f.getSeconds(),r()[g+4>>>2>>>0]=f.getMinutes(),r()[g+8>>>2>>>0]=f.getHours(),r()[g+12>>>2>>>0]=f.getDate(),r()[g+16>>>2>>>0]=f.getMonth(),r()[g+20>>>2>>>0]=f.getFullYear()-1900,r()[g+24>>>2>>>0]=f.getDay(),p=(Br(f.getFullYear())?Oa:Ia)[f.getMonth()]+f.getDate()-1|0,r()[g+28>>>2>>>0]=p,r()[g+36>>>2>>>0]=-(60*f.getTimezoneOffset()),p=new Date(f.getFullYear(),6,1).getTimezoneOffset();var O=new Date(f.getFullYear(),0,1).getTimezoneOffset();f=(p!=O&&f.getTimezoneOffset()==Math.min(O,p))|0,r()[g+32>>>2>>>0]=f},u:function(f){f>>>=0;var p=new Date(r()[f+20>>>2>>>0]+1900,r()[f+16>>>2>>>0],r()[f+12>>>2>>>0],r()[f+8>>>2>>>0],r()[f+4>>>2>>>0],r()[f>>>2>>>0],0),g=r()[f+32>>>2>>>0],O=p.getTimezoneOffset(),F=new Date(p.getFullYear(),6,1).getTimezoneOffset(),$=new Date(p.getFullYear(),0,1).getTimezoneOffset(),M=Math.min($,F);return 0>g?r()[f+32>>>2>>>0]=+(F!=$&&M==O):0<g!=(M==O)&&(F=Math.max($,F),p.setTime(p.getTime()+6e4*((0<g?M:F)-O))),r()[f+24>>>2>>>0]=p.getDay(),g=(Br(p.getFullYear())?Oa:Ia)[p.getMonth()]+p.getDate()-1|0,r()[f+28>>>2>>>0]=g,r()[f>>>2>>>0]=p.getSeconds(),r()[f+4>>>2>>>0]=p.getMinutes(),r()[f+8>>>2>>>0]=p.getHours(),r()[f+12>>>2>>>0]=p.getDate(),r()[f+16>>>2>>>0]=p.getMonth(),r()[f+20>>>2>>>0]=p.getYear(),f=p.getTime(),isNaN(f)?(r()[za()>>>2>>>0]=61,f=-1):f/=1e3,qa((zt=f,1<=+Math.abs(zt)?0<zt?+Math.floor(zt/4294967296)>>>0:~~+Math.ceil((zt-+(~~zt>>>0))/4294967296)>>>0:0)),f>>>0},q:Sa,r:Aa,A:function(f,p,g){function O(ke){return(ke=ke.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ke[1]:"GMT"}f>>>=0,p>>>=0,g>>>=0;var F=new Date().getFullYear(),$=new Date(F,0,1),M=new Date(F,6,1);F=$.getTimezoneOffset();var ce=M.getTimezoneOffset(),pt=Math.max(F,ce);n()[f>>>2>>>0]=60*pt,r()[p>>>2>>>0]=+(F!=ce),f=O($),p=O(M),f=Ea(f),p=Ea(p),ce<F?(n()[g>>>2>>>0]=f,n()[g+4>>>2>>>0]=p):(n()[g>>>2>>>0]=p,n()[g+4>>>2>>>0]=f)},c:()=>{Ye("")},N:function(f,p,g){f>>>=0,p>>>=0,g>>>=0,Vo.length=0;for(var O;O=e()[p++>>>0];){var F=O!=105;F&=O!=112,g+=F&&g%8?4:0,Vo.push(O==112?n()[g>>>2>>>0]:O==105?r()[g>>>2>>>0]:s()[g>>>3>>>0]),g+=F?8:4}return Dr[f].apply(null,Vo)},n:()=>{},i:()=>Date.now(),V:()=>{throw sr+=1,"unwind"},C:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>_?(Mp(),Ht(Rp)).cpus().length:navigator.hardwareConcurrency,z:function(f){f>>>=0;var p=e().length;if(f<=p||4294901760<f)return!1;for(var g=1;4>=g;g*=2){var O=p*(1+.2/g);O=Math.min(O,f+100663296);var F=Math;O=Math.max(f,O);e:{F=(F.min.call(F,4294901760,O+(65536-O%65536)%65536)-_e.buffer.byteLength+65535)/65536;try{_e.grow(F),wt();var $=1;break e}catch{}$=void 0}if($)return!0}return!1},P:Da,Q:La,I:Ft,g:Fa,l:Ca,v:$a,k:Ba,w:function(f,p){return f>>>=0,p>>>=0,ka(e().subarray(f>>>0,f+p>>>0)),0},a:_e||i.wasmMemory,x:Ma,d:function(f,p,g,O){return Ma(f>>>0,p>>>0,g>>>0,O>>>0)},j:function(f,p,g,O){let F=et.length;f=new Uint8Array(e().slice(f+p,f+g));try{var $=new WebAssembly.Module(f),M=new WebAssembly.Instance($,{env:{memory:_e}}),ce;for(ce in M.exports)Ua(M.exports[ce]);return F<et.length?F:O}catch(pt){return console.log(pt),O}}},K=function(){function f(g,O){return K=g.exports,K=Cd(),Z.gb.push(K.Da),et=K.Ea,Kt.unshift(K.X),Ze=O,Ie(),K}var p={a:Fd};if(Qe++,i.instantiateWasm)try{return i.instantiateWasm(p,f)}catch(g){V(`Module.instantiateWasm callback failed with error: ${g}`),l(g)}return Sn(p,function(g){f(g.instance,g.module)}).catch(l),{}}();i._OrtInit=(f,p)=>(i._OrtInit=K.Y)(f,p),i._OrtGetLastError=(f,p)=>(i._OrtGetLastError=K.Z)(f,p),i._OrtCreateSessionOptions=(f,p,g,O,F,$,M,ce,pt,ke)=>(i._OrtCreateSessionOptions=K._)(f,p,g,O,F,$,M,ce,pt,ke),i._OrtAppendExecutionProvider=(f,p)=>(i._OrtAppendExecutionProvider=K.$)(f,p),i._OrtAddFreeDimensionOverride=(f,p,g)=>(i._OrtAddFreeDimensionOverride=K.aa)(f,p,g),i._OrtAddSessionConfigEntry=(f,p,g)=>(i._OrtAddSessionConfigEntry=K.ba)(f,p,g),i._OrtReleaseSessionOptions=f=>(i._OrtReleaseSessionOptions=K.ca)(f),i._OrtCreateSession=(f,p,g)=>(i._OrtCreateSession=K.da)(f,p,g),i._OrtReleaseSession=f=>(i._OrtReleaseSession=K.ea)(f),i._OrtGetInputOutputCount=(f,p,g)=>(i._OrtGetInputOutputCount=K.fa)(f,p,g),i._OrtGetInputName=(f,p)=>(i._OrtGetInputName=K.ga)(f,p),i._OrtGetOutputName=(f,p)=>(i._OrtGetOutputName=K.ha)(f,p),i._OrtFree=f=>(i._OrtFree=K.ia)(f),i._OrtCreateTensor=(f,p,g,O,F,$)=>(i._OrtCreateTensor=K.ja)(f,p,g,O,F,$),i._OrtGetTensorData=(f,p,g,O,F)=>(i._OrtGetTensorData=K.ka)(f,p,g,O,F),i._OrtReleaseTensor=f=>(i._OrtReleaseTensor=K.la)(f),i._OrtCreateRunOptions=(f,p,g,O)=>(i._OrtCreateRunOptions=K.ma)(f,p,g,O),i._OrtAddRunConfigEntry=(f,p,g)=>(i._OrtAddRunConfigEntry=K.na)(f,p,g),i._OrtReleaseRunOptions=f=>(i._OrtReleaseRunOptions=K.oa)(f),i._OrtCreateBinding=f=>(i._OrtCreateBinding=K.pa)(f),i._OrtBindInput=(f,p,g)=>(i._OrtBindInput=K.qa)(f,p,g),i._OrtBindOutput=(f,p,g,O)=>(i._OrtBindOutput=K.ra)(f,p,g,O),i._OrtClearBoundOutputs=f=>(i._OrtClearBoundOutputs=K.sa)(f),i._OrtReleaseBinding=f=>(i._OrtReleaseBinding=K.ta)(f),i._OrtRunWithBinding=(f,p,g,O,F)=>(i._OrtRunWithBinding=K.ua)(f,p,g,O,F),i._OrtRun=(f,p,g,O,F,$,M,ce)=>(i._OrtRun=K.va)(f,p,g,O,F,$,M,ce),i._OrtEndProfiling=f=>(i._OrtEndProfiling=K.wa)(f),i._OrtConfigure=(f,p)=>(i._OrtConfigure=K.xa)(f,p),i._OrtAuth=(f,p)=>(i._OrtAuth=K.ya)(f,p);var za=()=>(za=K.za)(),Cn=i._pthread_self=()=>(Cn=i._pthread_self=K.Aa)(),Wa=i._malloc=f=>(Wa=i._malloc=K.Ba)(f);i._free=f=>(i._free=K.Ca)(f),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=K.Da)();var Va=i.__emscripten_thread_init=(f,p,g,O,F,$)=>(Va=i.__emscripten_thread_init=K.Fa)(f,p,g,O,F,$);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=K.Ga)();var Ha=(f,p,g,O)=>(Ha=K.Ha)(f,p,g,O),qo=f=>(qo=K.Ia)(f),Yo=i.__emscripten_thread_exit=f=>(Yo=i.__emscripten_thread_exit=K.Ja)(f),ja=()=>(ja=K.Ka)(),qa=f=>(qa=K.La)(f),Ya=(f,p)=>(Ya=K.Ma)(f,p),Xo=()=>(Xo=K.Na)(),$n=f=>($n=K.Oa)(f),Ko=f=>(Ko=K.Pa)(f);i.___start_em_js=887001,i.___stop_em_js=887613;function Cd(){var f=K;f=Object.assign({},f);var p=O=>()=>O()>>>0,g=O=>F=>O(F)>>>0;return f.za=p(f.za),f.Aa=p(f.Aa),f.Ba=g(f.Ba),f.emscripten_main_runtime_thread_id=p(f.emscripten_main_runtime_thread_id),f.Na=p(f.Na),f.Pa=g(f.Pa),f}i.wasmMemory=_e,i.stackAlloc=Ko,i.stackSave=Xo,i.stackRestore=$n,i.keepRuntimeAlive=()=>0<sr,i.addFunction=Ua,i.UTF8ToString=ur,i.stringToUTF8=A,i.lengthBytesUTF8=T,i.ExitStatus=Zt,i.PThread=Z;var Bn;_t=function f(){Bn||Xa(),Bn||(_t=f)};function Xa(){if(!(0<Qe))if(S)u(i),S||Cr(Kt),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Gt.unshift(i.preRun.shift());Cr(Gt),0<Qe||Bn||(Bn=!0,i.calledRun=!0,ne||(S||Cr(Kt),u(i),S||Cr(Lt)))}}return Xa(),t.ready}})();typeof Up=="object"&&typeof da=="object"?da.exports=Gp:typeof define=="function"&&define.amd&&define([],()=>Gp)});var Wp=ye((bO,yg)=>{yg.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Hp,Tg,ha,ma,Bo,Vp,xg,wg,vg,jp,Oe,Kr=L(()=>{"use strict";Hp=Bp();Tg=zp(),ma=!1,Bo=!1,Vp=!1,xg=a=>{if(a===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+a+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+a+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},wg=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},vg=(a,t)=>a?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",jp=async a=>{if(ma)return Promise.resolve();if(Bo)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Vp)throw new Error("previous call to \'initializeWebAssembly()\' failed.");Bo=!0;let t=a.initTimeout,o=a.numThreads,e=a.simd,r=xg(o),n=e&&wg(),s=a.wasmPaths,i=typeof s=="string"?s:void 0,u=vg(n,r),l=typeof s=="object"?s[u]:void 0,c=!1,d=[];if(t>0&&d.push(new Promise(b=>{setTimeout(()=>{c=!0,b()},t)})),d.push(new Promise((b,x)=>{let v=r?Tg:Hp,_={locateFile:(S,E)=>r&&S.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Wp()],{type:"text/javascript"})):S.endsWith(".wasm")?l||(i??E)+u:E+S};if(r)if(_.numThreads=o,typeof Blob>"u")_.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let S=`var ortWasmThreaded=${v.toString()};`;_.mainScriptUrlOrBlob=new Blob([S],{type:"text/javascript"})}v(_).then(S=>{Bo=!1,ma=!0,ha=S,b()},S=>{Bo=!1,Vp=!0,x(S)})})),await Promise.race(d),c)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},Oe=()=>{if(ma&&ha)return ha;throw new Error("WebAssembly is not initialized yet.")}});var Ce,vn,Ae,ko=L(()=>{"use strict";Kr();Ce=(a,t)=>{let o=Oe(),e=o.lengthBytesUTF8(a)+1,r=o._malloc(e);return o.stringToUTF8(a,r,e),t.push(r),r},vn=(a,t,o,e)=>{if(typeof a=="object"&&a!==null){if(o.has(a))throw new Error("Circular reference in options");o.add(a)}Object.entries(a).forEach(([r,n])=>{let s=t?t+r:r;if(typeof n=="object")vn(n,s+".",o,e);else if(typeof n=="string"||typeof n=="number")e(s,n.toString());else if(typeof n=="boolean")e(s,n?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof n}`)})},Ae=a=>{let t=Oe(),o=t.stackSave();try{let e=t.stackAlloc(8);t._OrtGetLastError(e,e+4);let r=t.HEAP32[e/4],n=t.HEAPU32[e/4+1],s=n?t.UTF8ToString(n):"";throw new Error(`${a} ERROR_CODE: ${r}, ERROR_MESSAGE: ${s}`)}finally{t.stackRestore(o)}}});var qp,Yp=L(()=>{"use strict";Kr();ko();qp=a=>{let t=Oe(),o=0,e=[],r=a||{};try{if(a?.logSeverityLevel===void 0)r.logSeverityLevel=2;else if(typeof a.logSeverityLevel!="number"||!Number.isInteger(a.logSeverityLevel)||a.logSeverityLevel<0||a.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${a.logSeverityLevel}`);if(a?.logVerbosityLevel===void 0)r.logVerbosityLevel=0;else if(typeof a.logVerbosityLevel!="number"||!Number.isInteger(a.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${a.logVerbosityLevel}`);a?.terminate===void 0&&(r.terminate=!1);let n=0;return a?.tag!==void 0&&(n=Ce(a.tag,e)),o=t._OrtCreateRunOptions(r.logSeverityLevel,r.logVerbosityLevel,!!r.terminate,n),o===0&&Ae("Can\'t create run options."),a?.extra!==void 0&&vn(a.extra,"",new WeakSet,(s,i)=>{let u=Ce(s,e),l=Ce(i,e);t._OrtAddRunConfigEntry(o,u,l)!==0&&Ae(`Can\'t set a run config entry: ${s} - ${i}.`)}),[o,e]}catch(n){throw o!==0&&t._OrtReleaseRunOptions(o),e.forEach(s=>t._free(s)),n}}});var _g,Og,Ig,Sg,Xp,Kp=L(()=>{"use strict";Kr();ko();_g=a=>{switch(a){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${a}`)}},Og=a=>{switch(a){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${a}`)}},Ig=a=>{a.extra||(a.extra={}),a.extra.session||(a.extra.session={});let t=a.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),a.executionProviders&&a.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(a.enableMemPattern=!1)},Sg=(a,t,o)=>{for(let e of t){let r=typeof e=="string"?e:e.name;switch(r){case"webnn":if(r="WEBNN",typeof e!="string"){let s=e;if(s?.deviceType){let i=Ce("deviceType",o),u=Ce(s.deviceType,o);Oe()._OrtAddSessionConfigEntry(a,i,u)!==0&&Ae(`Can\'t set a session config entry: \'deviceType\' - ${s.deviceType}.`)}if(s?.numThreads){let i=s.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let u=Ce("numThreads",o),l=Ce(i.toString(),o);Oe()._OrtAddSessionConfigEntry(a,u,l)!==0&&Ae(`Can\'t set a session config entry: \'numThreads\' - ${s.numThreads}.`)}if(s?.powerPreference){let i=Ce("powerPreference",o),u=Ce(s.powerPreference,o);Oe()._OrtAddSessionConfigEntry(a,i,u)!==0&&Ae(`Can\'t set a session config entry: \'powerPreference\' - ${s.powerPreference}.`)}}break;case"webgpu":if(r="JS",typeof e!="string"){let s=e;if(s?.preferredLayout){if(s.preferredLayout!=="NCHW"&&s.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${s.preferredLayout}`);let i=Ce("preferredLayout",o),u=Ce(s.preferredLayout,o);Oe()._OrtAddSessionConfigEntry(a,i,u)!==0&&Ae(`Can\'t set a session config entry: \'preferredLayout\' - ${s.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${r}`)}let n=Ce(r,o);Oe()._OrtAppendExecutionProvider(a,n)!==0&&Ae(`Can\'t append execution provider: ${r}.`)}},Xp=a=>{let t=Oe(),o=0,e=[],r=a||{};Ig(r);try{let n=_g(r.graphOptimizationLevel??"all"),s=Og(r.executionMode??"sequential"),i=typeof r.logId=="string"?Ce(r.logId,e):0,u=r.logSeverityLevel??2;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log serverity level is not valid: ${u}`);let l=r.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let c=typeof r.optimizedModelFilePath=="string"?Ce(r.optimizedModelFilePath,e):0;if(o=t._OrtCreateSessionOptions(n,!!r.enableCpuMemArena,!!r.enableMemPattern,s,!!r.enableProfiling,0,i,u,l,c),o===0&&Ae("Can\'t create session options."),r.executionProviders&&Sg(o,r.executionProviders,e),r.freeDimensionOverrides)for(let[d,b]of Object.entries(r.freeDimensionOverrides)){if(typeof d!="string")throw new Error(`free dimension override name must be a string: ${d}`);if(typeof b!="number"||!Number.isInteger(b)||b<0)throw new Error(`free dimension override value must be a non-negative integer: ${b}`);let x=Ce(d,e);t._OrtAddFreeDimensionOverride(o,x,b)!==0&&Ae(`Can\'t set a free dimension override: ${d} - ${b}.`)}return r.extra!==void 0&&vn(r.extra,"",new WeakSet,(d,b)=>{let x=Ce(d,e),v=Ce(b,e);t._OrtAddSessionConfigEntry(o,x,v)!==0&&Ae(`Can\'t set a session config entry: ${d} - ${b}.`)}),[o,e]}catch(n){throw o!==0&&t._OrtReleaseSessionOptions(o),e.forEach(s=>t._free(s)),n}}});var ba,Jp,ga,Zp,Qp,No,ed,ya=L(()=>{"use strict";ba=a=>{switch(a){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${a}`)}},Jp=a=>{switch(a){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${a}`)}},ga=a=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][a],Zp=a=>{switch(a){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${a}`)}},Qp=a=>{switch(a){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${a}`)}},No=a=>a==="float32"||a==="int32"||a==="int64"||a==="bool"||a==="float16"||a==="uint32",ed=a=>{switch(a){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${a}`)}}});var _n,Ta=L(()=>{"use strict";_n=async a=>{if(typeof a=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(a))}catch(t){if(t.code==="ERR_FS_FILE_TOO_LARGE"){let o=(void 0)(a),e=[];for await(let r of o)e.push(r);return new Uint8Array(Buffer.concat(e))}throw t}else{let t=await fetch(a);if(!t.ok)throw new Error(`failed to load external data file: ${a}`);let o=t.headers.get("Content-Length"),e=o?parseInt(o,10):0;if(e<1073741824)return new Uint8Array(await t.arrayBuffer());{if(!t.body)throw new Error(`failed to load external data file: ${a}, no response body.`);let r=t.body.getReader(),n;try{n=new ArrayBuffer(e)}catch(i){if(i instanceof RangeError){let u=Math.ceil(e/65536);n=new WebAssembly.Memory({initial:u,maximum:u}).buffer}else throw i}let s=0;for(;;){let{done:i,value:u}=await r.read();if(i)break;let l=u.byteLength;new Uint8Array(n,s,l).set(u),s+=l}return new Uint8Array(n,0,e)}}else return a instanceof Blob?new Uint8Array(await a.arrayBuffer()):a instanceof Uint8Array?a:new Uint8Array(a)}});var Ag,rd,nd,On,Eg,xa,od,id,Pg,td,ad,sd,ud,ld,wa,fd=L(()=>{"use strict";Yp();Kp();ya();Kr();ko();Ta();Ag=(a,t)=>{Oe()._OrtInit(a,t)!==0&&Ae("Can\'t initialize onnxruntime.")},rd=async a=>{Ag(a.wasm.numThreads,Qp(a.logLevel))},nd=async(a,t)=>{},On=new Map,Eg=a=>{let t=Oe(),o=t.stackSave();try{let e=t.stackAlloc(8);return t._OrtGetInputOutputCount(a,e,e+4)!==0&&Ae("Can\'t get session input/output count."),[t.HEAP32[e/4],t.HEAP32[e/4+1]]}finally{t.stackRestore(o)}},xa=a=>{let t=Oe(),o=t._malloc(a.byteLength);if(o===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${a.byteLength}.`);return t.HEAPU8.set(a,o),[o,a.byteLength]},od=async(a,t)=>{let o,e,r=Oe();Array.isArray(a)?[o,e]=a:a.buffer===r.HEAPU8.buffer?[o,e]=[a.byteOffset,a.byteLength]:[o,e]=xa(a);let n=0,s=0,i=0,u=[],l=[],c=[];try{if([s,u]=Xp(t),t?.externalData&&r.mountExternalData){let E=[];for(let C of t.externalData){let N=typeof C=="string"?C:C.path;E.push(_n(typeof C=="string"?C:C.data).then(J=>{r.mountExternalData(N,J)}))}await Promise.all(E)}n=r._OrtCreateSession(o,e,s),n===0&&Ae("Can\'t create a session.");let[d,b]=Eg(n),x=[],v=[],_=[];for(let E=0;E<d;E++){let C=r._OrtGetInputName(n,E);C===0&&Ae("Can\'t get an input name."),l.push(C),x.push(r.UTF8ToString(C))}for(let E=0;E<b;E++){let C=r._OrtGetOutputName(n,E);C===0&&Ae("Can\'t get an output name."),c.push(C);let N=r.UTF8ToString(C);v.push(N)}let S=null;return On.set(n,[n,l,c,S]),[n,x,v]}catch(d){throw l.forEach(b=>r._OrtFree(b)),c.forEach(b=>r._OrtFree(b)),i!==0&&r._OrtReleaseBinding(i),n!==0&&r._OrtReleaseSession(n),d}finally{r._free(o),s!==0&&r._OrtReleaseSessionOptions(s),u.forEach(d=>r._free(d)),r.unmountExternalData?.()}},id=a=>{let t=Oe(),o=On.get(a);if(!o)throw new Error(`cannot release session. invalid session id: ${a}`);let[e,r,n,s]=o;s&&t._OrtReleaseBinding(s.handle),t.jsepUnregisterBuffers?.(a),r.forEach(i=>t._OrtFree(i)),n.forEach(i=>t._OrtFree(i)),t._OrtReleaseSession(e),On.delete(a)},Pg=(a,t,o)=>{if(a!==null&&a[0]===t){let r=a[2];if(r.length===o)return r}let e=Zp(t);return new e(o)},td=(a,t,o,e,r)=>{if(!a){t.push(0);return}let n=Oe(),s=a[0],i=a[1],u=a[3],l,c;if(s==="string"&&u==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(u==="gpu-buffer"){let x=a[2].gpuBuffer,v=ga(ba(s));c=i.reduce((_,S)=>_*S,1)*v,l=n.jsepRegisterBuffer(e,r,x,c)}else{let x=a[2];if(Array.isArray(x)){c=4*x.length,l=n._malloc(c),o.push(l);let v=l/4;for(let _=0;_<x.length;_++){if(typeof x[_]!="string")throw new TypeError(`tensor data at index ${_} is not a string`);n.HEAPU32[v++]=Ce(x[_],o)}}else c=x.byteLength,l=n._malloc(c),o.push(l),n.HEAPU8.set(new Uint8Array(x.buffer,x.byteOffset,c),l)}let d=n.stackSave(),b=n.stackAlloc(4*i.length);try{let x=b/4;i.forEach(_=>n.HEAP32[x++]=_);let v=n._OrtCreateTensor(ba(s),l,c,b,i.length,ed(u));v===0&&Ae(`Can\'t create tensor for input/output. session=${e}, index=${r}.`),t.push(v)}finally{n.stackRestore(d)}},ad=a=>{let o=new TextEncoder().encode(a),e=Oe(),r=e._malloc(o.byteLength);e.HEAPU8.set(o,r);let n=e._OrtConfigure(r,o.byteLength);if(n===0)throw new Error("Can\'t get an configure key");let s=e.UTF8ToString(n);return e._OrtFree(n),s},sd=a=>{let o=new TextEncoder().encode(a),e=Oe(),r=e._malloc(o.byteLength);e.HEAPU8.set(o,r);let n=e._OrtAuth(r,o.byteLength);if(n===0)throw new Error("Can\'t get an auth result");let s=e.UTF8ToString(n);return e._OrtFree(n),s},ud=async(a,t,o,e,r,n)=>{let s=Oe(),i=On.get(a);if(!i)throw new Error(`cannot run inference. invalid session id: ${a}`);let[u,l,c,d]=i,b=t.length,x=e.length,v=0,_=[],S=[],E=[],C=[],N=s.stackSave(),J=s.stackAlloc(b*4),Y=s.stackAlloc(b*4),U=s.stackAlloc(x*4),ie=s.stackAlloc(x*4);try{[v,_]=qp(n);for(let ne=0;ne<b;ne++)td(o[ne],S,C,a,t[ne]);for(let ne=0;ne<x;ne++){let Ee=r[ne],Ge=Ee?.[3]??"";td(Ge==="gpu-buffer"?Ee:null,E,C,a,b+e[ne])}let Be=J/4,je=Y/4,ut=U/4,V=ie/4;for(let ne=0;ne<b;ne++)s.HEAPU32[Be++]=S[ne],s.HEAPU32[je++]=l[t[ne]];for(let ne=0;ne<x;ne++)s.HEAPU32[ut++]=E[ne],s.HEAPU32[V++]=c[e[ne]];let _e;_e=await s._OrtRun(u,Y,J,b,ie,x,U,v),_e!==0&&Ae("failed to call OrtRun().");let Ze=[];for(let ne=0;ne<x;ne++){let Ee=s.HEAPU32[U/4+ne];if(Ee===E[ne]){Ze.push(r[ne]);continue}let Ge=s.stackSave(),at=s.stackAlloc(4*4),lt=!1,Pe,qe=0;try{s._OrtGetTensorData(Ee,at,at+4,at+8,at+12)!==0&&Ae(`Can\'t access output tensor data on index ${ne}.`);let Mt=at/4,Gt=s.HEAPU32[Mt++];qe=s.HEAPU32[Mt++];let Kt=s.HEAPU32[Mt++],Lt=s.HEAPU32[Mt++],Qe=[];for(let Ie=0;Ie<Lt;Ie++)Qe.push(s.HEAPU32[Kt/4+Ie]);s._OrtFree(Kt);let vt=Qe.reduce((Ie,Ye)=>Ie*Ye,1);Pe=Jp(Gt);let _t=d?.outputPreferredLocations[e[ne]];if(Pe==="string"){if(_t==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let Ie=[],Ye=qe/4;for(let Ut=0;Ut<vt;Ut++){let ft=s.HEAPU32[Ye++],Ot=Ut===vt-1?void 0:s.HEAPU32[Ye]-ft;Ie.push(s.UTF8ToString(ft,Ot))}Ze.push([Pe,Qe,Ie,"cpu"])}else if(_t==="gpu-buffer"&&vt>0){let Ie=s.jsepGetBuffer(qe),Ye=ga(Gt);if(Ye===void 0||!No(Pe))throw new Error(`Unsupported data type: ${Pe}`);lt=!0,Ze.push([Pe,Qe,{gpuBuffer:Ie,download:s.jsepCreateDownloader(Ie,vt*Ye,Pe),dispose:()=>{s._OrtReleaseTensor(Ee)}},"gpu-buffer"])}else{let Ie=Pg(r[ne],Pe,vt);new Uint8Array(Ie.buffer,Ie.byteOffset,Ie.byteLength).set(s.HEAPU8.subarray(qe,qe+Ie.byteLength)),Ze.push([Pe,Qe,Ie,"cpu"])}}finally{s.stackRestore(Ge),Pe==="string"&&qe&&s._free(qe),lt||s._OrtReleaseTensor(Ee)}}return d&&s._OrtClearBoundOutputs(d.handle),Ze}finally{s.stackRestore(N),S.forEach(Be=>s._OrtReleaseTensor(Be)),E.forEach(Be=>s._OrtReleaseTensor(Be)),C.forEach(Be=>s._free(Be)),v!==0&&s._OrtReleaseRunOptions(v),_.forEach(Be=>s._free(Be))}},ld=a=>{let t=Oe(),o=On.get(a);if(!o)throw new Error("invalid session id");let e=o[0],r=t._OrtEndProfiling(e);r===0&&Ae("Can\'t get an profile file name."),t._OrtFree(r)},wa=a=>{let t=[];for(let o of a){let e=o[2];!Array.isArray(e)&&"buffer"in e&&t.push(e.buffer)}return t}});var cd=ye((BO,Lg)=>{Lg.exports=\'/*!\\n * ONNX Runtime Web v1.17.0\\n * Copyright (c) Microsoft Corporation. All rights reserved.\\n * Licensed under the MIT License.\\n */\\n"use strict";(()=>{var Dt=Object.defineProperty;var on=Object.getOwnPropertyDescriptor;var sn=Object.getOwnPropertyNames;var un=Object.prototype.hasOwnProperty;var Ot=(i,d)=>()=>(i&&(d=i(i=0)),d);var it=(i,d)=>()=>(d||i((d={exports:{}}).exports,d),d.exports),vt=(i,d)=>{for(var o in d)Dt(i,o,{get:d[o],enumerable:!0})},fn=(i,d,o,m)=>{if(d&&typeof d=="object"||typeof d=="function")for(let l of sn(d))!un.call(i,l)&&l!==o&&Dt(i,l,{get:()=>d[l],enumerable:!(m=on(d,l))||m.enumerable});return i};var ze=i=>fn(Dt({},"__esModule",{value:!0}),i);var Ft={};vt(Ft,{createReadStream:()=>Or,readFile:()=>ln,readFileSync:()=>cn});var ln,cn,Or,Ut=Ot(()=>{ln=void 0,cn=void 0,Or=void 0});var Rt={};vt(Rt,{join:()=>dn});var dn,Lt=Ot(()=>{dn=void 0});var Pt={};vt(Pt,{crypto:()=>pn});var pn,It=Ot(()=>{pn=void 0});var Er=it((_r,Bt)=>{"use strict";var vr=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(d={}){var o=d,m,l;o.ready=new Promise((r,a)=>{m=r,l=a});var b=Object.assign({},o),y="./this.program",f=typeof window=="object",x=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",R="",W,U,P;if(D){var N=(Ut(),ze(Ft)),I=(Lt(),ze(Rt));R=x?I.dirname(R)+"/":__dirname+"/",W=(r,a)=>(r=be(r)?new URL(r):I.normalize(r),N.readFileSync(r,a?void 0:"utf8")),P=r=>(r=W(r,!0),r.buffer||(r=new Uint8Array(r)),r),U=(r,a,s,c=!0)=>{r=be(r)?new URL(r):I.normalize(r),N.readFile(r,c?void 0:"utf8",(O,_)=>{O?s(O):a(c?_.buffer:_)})},!o.thisProgram&&1<process.argv.length&&(y=process.argv[1].replace(/\\\\\\\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(f||x)&&(x?R=self.location.href:typeof document<"u"&&document.currentScript&&(R=document.currentScript.src),i&&(R=i),R.indexOf("blob:")!==0?R=R.substr(0,R.replace(/[?#].*/,"").lastIndexOf("/")+1):R="",W=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.send(null),a.responseText},x&&(P=r=>{var a=new XMLHttpRequest;return a.open("GET",r,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),U=(r,a,s)=>{var c=new XMLHttpRequest;c.open("GET",r,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?a(c.response):s()},c.onerror=s,c.send(null)});var E=console.log.bind(console),F=console.error.bind(console);Object.assign(o,b),b=null,typeof WebAssembly!="object"&&ae("no native wasm support detected");var k,we=!1,ue,te,S,G,fe;function We(){var r=k.buffer;o.HEAP8=ue=new Int8Array(r),o.HEAP16=new Int16Array(r),o.HEAPU8=te=new Uint8Array(r),o.HEAPU16=new Uint16Array(r),o.HEAP32=S=new Int32Array(r),o.HEAPU32=G=new Uint32Array(r),o.HEAPF32=new Float32Array(r),o.HEAPF64=fe=new Float64Array(r)}var He=[],re=[],V=[],de=0,L=null,Z=null;function ae(r){throw r="Aborted("+r+")",F(r),we=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),l(r),r}var he=r=>r.startsWith("data:application/octet-stream;base64,"),be=r=>r.startsWith("file://"),K;if(K="ort-wasm.wasm",!he(K)){var le=K;K=o.locateFile?o.locateFile(le,R):R+le}function Ee(r){if(P)return P(r);throw"both async and sync fetching of the wasm failed"}function Ce(r){if(f||x){if(typeof fetch=="function"&&!be(r))return fetch(r,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at \\\'"+r+"\\\'";return a.arrayBuffer()}).catch(()=>Ee(r));if(U)return new Promise((a,s)=>{U(r,c=>a(new Uint8Array(c)),s)})}return Promise.resolve().then(()=>Ee(r))}function De(r,a,s){return Ce(r).then(c=>WebAssembly.instantiate(c,a)).then(c=>c).then(s,c=>{F(`failed to asynchronously prepare wasm: ${c}`),ae(c)})}function Pe(r,a){var s=K;return typeof WebAssembly.instantiateStreaming!="function"||he(s)||be(s)||D||typeof fetch!="function"?De(s,r,a):fetch(s,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,r).then(a,function(O){return F(`wasm streaming compile failed: ${O}`),F("falling back to ArrayBuffer instantiation"),De(s,r,a)}))}var Me,pe={882112:(r,a,s,c)=>{if(typeof o>"u"||!o.Ga)return 1;if(r=Oe(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=o.Ga.get(r),!r)return 2;if(a>>>=0,s>>>=0,a+s>r.byteLength)return 3;try{return te.set(r.subarray(a,a+s),c>>>0>>>0),0}catch{return 4}}};function Se(r){this.Da=r-24,this.Fa=function(a){G[this.Da+4>>>2>>>0]=a},this.Ea=function(a){G[this.Da+8>>>2>>>0]=a},this.La=function(a,s){this.Ma(),this.Fa(a),this.Ea(s)},this.Ma=function(){G[this.Da+16>>>2>>>0]=0}}var Ae=0,J=0,ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fe=(r,a,s)=>{a>>>=0;var c=a+s;for(s=a;r[s]&&!(s>=c);)++s;if(16<s-a&&r.buffer&&ce)return ce.decode(r.subarray(a,s));for(c="";a<s;){var O=r[a++];if(O&128){var _=r[a++]&63;if((O&224)==192)c+=String.fromCharCode((O&31)<<6|_);else{var A=r[a++]&63;O=(O&240)==224?(O&15)<<12|_<<6|A:(O&7)<<18|_<<12|A<<6|r[a++]&63,65536>O?c+=String.fromCharCode(O):(O-=65536,c+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else c+=String.fromCharCode(O)}return c},Oe=(r,a)=>(r>>>=0)?Fe(te,r,a):"",Te=r=>{for(var a=0,s=0;s<r.length;++s){var c=r.charCodeAt(s);127>=c?a++:2047>=c?a+=2:55296<=c&&57343>=c?(a+=4,++s):a+=3}return a},Ye=(r,a,s,c)=>{if(s>>>=0,!(0<c))return 0;var O=s;c=s+c-1;for(var _=0;_<r.length;++_){var A=r.charCodeAt(_);if(55296<=A&&57343>=A){var $=r.charCodeAt(++_);A=65536+((A&1023)<<10)|$&1023}if(127>=A){if(s>=c)break;a[s++>>>0]=A}else{if(2047>=A){if(s+1>=c)break;a[s++>>>0]=192|A>>6}else{if(65535>=A){if(s+2>=c)break;a[s++>>>0]=224|A>>12}else{if(s+3>=c)break;a[s++>>>0]=240|A>>18,a[s++>>>0]=128|A>>12&63}a[s++>>>0]=128|A>>6&63}a[s++>>>0]=128|A&63}}return a[s>>>0]=0,s-O},Ie=r=>r%4===0&&(r%100!==0||r%400===0),Ke=[0,31,60,91,121,152,182,213,244,274,305,335],lt=[0,31,59,90,120,151,181,212,243,273,304,334],Ue=r=>{var a=Te(r)+1,s=me(a);return s&&Ye(r,te,s,a),s},Ge=[],Be={},Ve=()=>{if(!qe){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},a;for(a in Be)Be[a]===void 0?delete r[a]:r[a]=Be[a];var s=[];for(a in r)s.push(`${a}=${r[a]}`);qe=s}return qe},qe,Ne=[null,[],[]],ct=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return s=>crypto.getRandomValues(s);if(D)try{var r=(It(),ze(Pt));if(r.randomFillSync)return s=>r.randomFillSync(s);var a=r.randomBytes;return s=>(s.set(a(s.byteLength)),s)}catch{}ae("initRandomDevice")},et=r=>(et=ct())(r),ke=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function z(r){var a=Array(Te(r)+1);return Ye(r,a,0,a.length),a}function tt(r,a,s,c){function O(p,H,Y){for(p=typeof p=="number"?p.toString():p||"";p.length<H;)p=Y[0]+p;return p}function _(p,H){return O(p,H,"0")}function A(p,H){function Y(Xe){return 0>Xe?-1:0<Xe?1:0}var ve;return(ve=Y(p.getFullYear()-H.getFullYear()))===0&&(ve=Y(p.getMonth()-H.getMonth()))===0&&(ve=Y(p.getDate()-H.getDate())),ve}function $(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function oe(p){var H=p.ya;for(p=new Date(new Date(p.za+1900,0,1).getTime());0<H;){var Y=p.getMonth(),ve=(Ie(p.getFullYear())?ke:dt)[Y];if(H>ve-p.getDate())H-=ve-p.getDate()+1,p.setDate(1),11>Y?p.setMonth(Y+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+H);break}}return Y=new Date(p.getFullYear()+1,0,4),H=$(new Date(p.getFullYear(),0,4)),Y=$(Y),0>=A(H,p)?0>=A(Y,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}r>>>=0,a>>>=0,s>>>=0,c>>>=0;var se=G[c+40>>>2>>>0];c={Ja:S[c>>>2>>>0],Ia:S[c+4>>>2>>>0],Aa:S[c+8>>>2>>>0],Ca:S[c+12>>>2>>>0],Ba:S[c+16>>>2>>>0],za:S[c+20>>>2>>>0],xa:S[c+24>>>2>>>0],ya:S[c+28>>>2>>>0],Na:S[c+32>>>2>>>0],Ha:S[c+36>>>2>>>0],Ka:se?Oe(se):""},s=Oe(s),se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in se)s=s.replace(new RegExp(ie,"g"),se[ie]);var ot="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");se={"%a":p=>ot[p.xa].substring(0,3),"%A":p=>ot[p.xa],"%b":p=>st[p.Ba].substring(0,3),"%B":p=>st[p.Ba],"%C":p=>_((p.za+1900)/100|0,2),"%d":p=>_(p.Ca,2),"%e":p=>O(p.Ca,2," "),"%g":p=>oe(p).toString().substring(2),"%G":p=>oe(p),"%H":p=>_(p.Aa,2),"%I":p=>(p=p.Aa,p==0?p=12:12<p&&(p-=12),_(p,2)),"%j":p=>{for(var H=0,Y=0;Y<=p.Ba-1;H+=(Ie(p.za+1900)?ke:dt)[Y++]);return _(p.Ca+H,3)},"%m":p=>_(p.Ba+1,2),"%M":p=>_(p.Ia,2),"%n":()=>`\\n`,"%p":p=>0<=p.Aa&&12>p.Aa?"AM":"PM","%S":p=>_(p.Ja,2),"%t":()=>"\t","%u":p=>p.xa||7,"%U":p=>_(Math.floor((p.ya+7-p.xa)/7),2),"%V":p=>{var H=Math.floor((p.ya+7-(p.xa+6)%7)/7);if(2>=(p.xa+371-p.ya-2)%7&&H++,H)H==53&&(Y=(p.xa+371-p.ya)%7,Y==4||Y==3&&Ie(p.za)||(H=1));else{H=52;var Y=(p.xa+7-p.ya-1)%7;(Y==4||Y==5&&Ie(p.za%400-1))&&H++}return _(H,2)},"%w":p=>p.xa,"%W":p=>_(Math.floor((p.ya+7-(p.xa+6)%7)/7),2),"%y":p=>(p.za+1900).toString().substring(2),"%Y":p=>p.za+1900,"%z":p=>{p=p.Ha;var H=0<=p;return p=Math.abs(p)/60,(H?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.Ka,"%%":()=>"%"},s=s.replace(/%%/g,"\\\\0\\\\0");for(ie in se)s.includes(ie)&&(s=s.replace(new RegExp(ie,"g"),se[ie](c)));return s=s.replace(/\\\\0\\\\0/g,"%"),ie=z(s),ie.length>a?0:(ue.set(ie,r>>>0),ie.length-1)}var xe=[],ye,Re,pt=[],M=(r,a)=>{if(!Re){Re=new WeakMap;var s=ye.length;if(Re)for(var c=0;c<0+s;c++){var O=c,_=xe[O];_||(O>=xe.length&&(xe.length=O+1),xe[O]=_=ye.get(O)),(O=_)&&Re.set(O,c)}}if(s=Re.get(r)||0)return s;if(pt.length)s=pt.pop();else{try{ye.grow(1)}catch($){throw $ instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":$}s=ye.length-1}try{c=s,ye.set(c,r),xe[c]=ye.get(c)}catch($){if(!($ instanceof TypeError))throw $;if(typeof WebAssembly.Function=="function"){c=WebAssembly.Function,O={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},_={parameters:[],results:a[0]=="v"?[]:[O[a[0]]]};for(var A=1;A<a.length;++A)_.parameters.push(O[a[A]]);a=new c(_,r)}else{for(c=[1],O=a.slice(0,1),a=a.slice(1),_={i:127,p:127,j:126,f:125,d:124,e:111},c.push(96),A=a.length,128>A?c.push(A):c.push(A%128|128,A>>7),A=0;A<a.length;++A)c.push(_[a[A]]);O=="v"?c.push(0):c.push(1,_[O]),a=[0,97,115,109,1,0,0,0,1],O=c.length,128>O?a.push(O):a.push(O%128|128,O>>7),a.push.apply(a,c),a.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),a=new WebAssembly.Module(new Uint8Array(a)),a=new WebAssembly.Instance(a,{e:{f:r}}).exports.f}c=s,ye.set(c,a),xe[c]=ye.get(c)}return Re.set(r,s),s},Je={a:function(r,a,s){throw r>>>=0,new Se(r).La(a>>>0,s>>>0),Ae=r,J++,Ae},e:function(){return 0},L:function(){},A:function(){},C:function(){},u:function(){return 0},J:function(){},E:function(){},I:function(){},k:function(){},B:function(){},y:function(){},K:function(){},z:function(){},l:()=>1,o:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getUTCSeconds(),S[s+4>>>2>>>0]=r.getUTCMinutes(),S[s+8>>>2>>>0]=r.getUTCHours(),S[s+12>>>2>>>0]=r.getUTCDate(),S[s+16>>>2>>>0]=r.getUTCMonth(),S[s+20>>>2>>>0]=r.getUTCFullYear()-1900,S[s+24>>>2>>>0]=r.getUTCDay(),S[s+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(r,a,s){r=a+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*a:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getSeconds(),S[s+4>>>2>>>0]=r.getMinutes(),S[s+8>>>2>>>0]=r.getHours(),S[s+12>>>2>>>0]=r.getDate(),S[s+16>>>2>>>0]=r.getMonth(),S[s+20>>>2>>>0]=r.getFullYear()-1900,S[s+24>>>2>>>0]=r.getDay(),S[s+28>>>2>>>0]=(Ie(r.getFullYear())?Ke:lt)[r.getMonth()]+r.getDate()-1|0,S[s+36>>>2>>>0]=-(60*r.getTimezoneOffset()),a=new Date(r.getFullYear(),6,1).getTimezoneOffset();var c=new Date(r.getFullYear(),0,1).getTimezoneOffset();S[s+32>>>2>>>0]=(a!=c&&r.getTimezoneOffset()==Math.min(c,a))|0},q:function(r){r>>>=0;var a=new Date(S[r+20>>>2>>>0]+1900,S[r+16>>>2>>>0],S[r+12>>>2>>>0],S[r+8>>>2>>>0],S[r+4>>>2>>>0],S[r>>>2>>>0],0),s=S[r+32>>>2>>>0],c=a.getTimezoneOffset(),O=new Date(a.getFullYear(),6,1).getTimezoneOffset(),_=new Date(a.getFullYear(),0,1).getTimezoneOffset(),A=Math.min(_,O);return 0>s?S[r+32>>>2>>>0]=+(O!=_&&A==c):0<s!=(A==c)&&(O=Math.max(_,O),a.setTime(a.getTime()+6e4*((0<s?A:O)-c))),S[r+24>>>2>>>0]=a.getDay(),S[r+28>>>2>>>0]=(Ie(a.getFullYear())?Ke:lt)[a.getMonth()]+a.getDate()-1|0,S[r>>>2>>>0]=a.getSeconds(),S[r+4>>>2>>>0]=a.getMinutes(),S[r+8>>>2>>>0]=a.getHours(),S[r+12>>>2>>>0]=a.getDate(),S[r+16>>>2>>>0]=a.getMonth(),S[r+20>>>2>>>0]=a.getYear(),r=a.getTime(),isNaN(r)?(S[Le()>>>2>>>0]=61,r=-1):r/=1e3,rt((Me=r,1<=+Math.abs(Me)?0<Me?+Math.floor(Me/4294967296)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)),r>>>0},m:function(){return-52},n:function(){},w:function(r,a,s){function c(oe){return(oe=oe.toTimeString().match(/\\\\(([A-Za-z ]+)\\\\)$/))?oe[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),_=new Date(O,0,1),A=new Date(O,6,1);O=_.getTimezoneOffset();var $=A.getTimezoneOffset();G[r>>>0>>>2>>>0]=60*Math.max(O,$),S[a>>>0>>>2>>>0]=+(O!=$),r=c(_),a=c(A),r=Ue(r),a=Ue(a),$<O?(G[s>>>2>>>0]=r,G[s+4>>>2>>>0]=a):(G[s>>>2>>>0]=a,G[s+4>>>2>>>0]=r)},d:()=>{ae("")},D:function(r,a,s){r>>>=0,a>>>=0,s>>>=0,Ge.length=0;for(var c;c=te[a++>>>0];){var O=c!=105;O&=c!=112,s+=O&&s%8?4:0,Ge.push(c==112?G[s>>>2>>>0]:c==105?S[s>>>2>>>0]:fe[s>>>3>>>0]),s+=O?8:4}return pe[r].apply(null,Ge)},g:()=>Date.now(),x:function(){return 4294901760},b:()=>performance.now(),H:function(r,a,s){return a>>>=0,te.copyWithin(r>>>0>>>0,a>>>0,a+(s>>>0)>>>0)},v:function(r){r>>>=0;var a=te.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var c=a*(1+.2/s);c=Math.min(c,r+100663296);var O=Math;c=Math.max(r,c);e:{O=(O.min.call(O,4294901760,c+(65536-c%65536)%65536)-k.buffer.byteLength+65535)/65536;try{k.grow(O),We();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},F:function(r,a){r>>>=0,a>>>=0;var s=0;return Ve().forEach((c,O)=>{var _=a+s;for(O=G[r+4*O>>>2>>>0]=_,_=0;_<c.length;++_)ue[O++>>>0>>>0]=c.charCodeAt(_);ue[O>>>0>>>0]=0,s+=c.length+1}),0},G:function(r,a){r>>>=0,a>>>=0;var s=Ve();G[r>>>2>>>0]=s.length;var c=0;return s.forEach(O=>c+=O.length+1),G[a>>>2>>>0]=c,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(r,a,s,c){a>>>=0,s>>>=0,c>>>=0;for(var O=0,_=0;_<s;_++){var A=G[a>>>2>>>0],$=G[a+4>>>2>>>0];a+=8;for(var oe=0;oe<$;oe++){var se=te[A+oe>>>0],ie=Ne[r];se===0||se===10?((r===1?E:F)(Fe(ie,0)),ie.length=0):ie.push(se)}O+=$}return G[c>>>2>>>0]=O,0},s:function(r,a){return r>>>=0,et(te.subarray(r>>>0,r+(a>>>0)>>>0)),0},t:tt,c:function(r,a,s,c){return tt(r>>>0,a>>>0,s>>>0,c>>>0)},h:function(r,a,s,c){let O=ye.length;r=new Uint8Array(te.slice(r+a,r+s));try{var _=new WebAssembly.Module(r),A=new WebAssembly.Instance(_,{env:{memory:k}}),$;for($ in A.exports)M(A.exports[$]);return O<ye.length?O:c}catch(oe){return console.log(oe),c}}},C=function(){function r(s){return C=s.exports,C=ht(),k=C.M,We(),ye=C.sa,re.unshift(C.N),de--,de==0&&(L!==null&&(clearInterval(L),L=null),Z&&(s=Z,Z=null,s())),C}var a={a:Je};if(de++,o.instantiateWasm)try{return o.instantiateWasm(a,r)}catch(s){F(`Module.instantiateWasm callback failed with error: ${s}`),l(s)}return Pe(a,function(s){r(s.instance)}).catch(l),{}}();o._OrtInit=(r,a)=>(o._OrtInit=C.O)(r,a),o._OrtGetLastError=(r,a)=>(o._OrtGetLastError=C.P)(r,a),o._OrtCreateSessionOptions=(r,a,s,c,O,_,A,$,oe,se)=>(o._OrtCreateSessionOptions=C.Q)(r,a,s,c,O,_,A,$,oe,se),o._OrtAppendExecutionProvider=(r,a)=>(o._OrtAppendExecutionProvider=C.R)(r,a),o._OrtAddFreeDimensionOverride=(r,a,s)=>(o._OrtAddFreeDimensionOverride=C.S)(r,a,s),o._OrtAddSessionConfigEntry=(r,a,s)=>(o._OrtAddSessionConfigEntry=C.T)(r,a,s),o._OrtReleaseSessionOptions=r=>(o._OrtReleaseSessionOptions=C.U)(r),o._OrtCreateSession=(r,a,s)=>(o._OrtCreateSession=C.V)(r,a,s),o._OrtReleaseSession=r=>(o._OrtReleaseSession=C.W)(r),o._OrtGetInputOutputCount=(r,a,s)=>(o._OrtGetInputOutputCount=C.X)(r,a,s),o._OrtGetInputName=(r,a)=>(o._OrtGetInputName=C.Y)(r,a),o._OrtGetOutputName=(r,a)=>(o._OrtGetOutputName=C.Z)(r,a),o._OrtFree=r=>(o._OrtFree=C._)(r),o._OrtCreateTensor=(r,a,s,c,O,_)=>(o._OrtCreateTensor=C.$)(r,a,s,c,O,_),o._OrtGetTensorData=(r,a,s,c,O)=>(o._OrtGetTensorData=C.aa)(r,a,s,c,O),o._OrtReleaseTensor=r=>(o._OrtReleaseTensor=C.ba)(r),o._OrtCreateRunOptions=(r,a,s,c)=>(o._OrtCreateRunOptions=C.ca)(r,a,s,c),o._OrtAddRunConfigEntry=(r,a,s)=>(o._OrtAddRunConfigEntry=C.da)(r,a,s),o._OrtReleaseRunOptions=r=>(o._OrtReleaseRunOptions=C.ea)(r),o._OrtCreateBinding=r=>(o._OrtCreateBinding=C.fa)(r),o._OrtBindInput=(r,a,s)=>(o._OrtBindInput=C.ga)(r,a,s),o._OrtBindOutput=(r,a,s,c)=>(o._OrtBindOutput=C.ha)(r,a,s,c),o._OrtClearBoundOutputs=r=>(o._OrtClearBoundOutputs=C.ia)(r),o._OrtReleaseBinding=r=>(o._OrtReleaseBinding=C.ja)(r),o._OrtRunWithBinding=(r,a,s,c,O)=>(o._OrtRunWithBinding=C.ka)(r,a,s,c,O),o._OrtRun=(r,a,s,c,O,_,A,$)=>(o._OrtRun=C.la)(r,a,s,c,O,_,A,$),o._OrtEndProfiling=r=>(o._OrtEndProfiling=C.ma)(r),o._OrtConfigure=(r,a)=>(o._OrtConfigure=C.na)(r,a),o._OrtAuth=(r,a)=>(o._OrtAuth=C.oa)(r,a);var Le=()=>(Le=C.pa)(),me=o._malloc=r=>(me=o._malloc=C.qa)(r);o._free=r=>(o._free=C.ra)(r);var rt=r=>(rt=C.ta)(r),mt=()=>(mt=C.ua)(),nt=r=>(nt=C.va)(r),gt=r=>(gt=C.wa)(r);o.___start_em_js=882613,o.___stop_em_js=883225;function ht(){var r=C;r=Object.assign({},r);var a=c=>()=>c()>>>0,s=c=>O=>c(O)>>>0;return r.pa=a(r.pa),r.qa=s(r.qa),r.ua=a(r.ua),r.wa=s(r.wa),r}o.stackAlloc=gt,o.stackSave=mt,o.stackRestore=nt,o.addFunction=M,o.UTF8ToString=Oe,o.stringToUTF8=(r,a,s)=>Ye(r,te,a,s),o.lengthBytesUTF8=Te;var $e;Z=function r(){$e||at(),$e||(Z=r)};function at(){if(!(0<de)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;){var r=o.preRun.shift();He.unshift(r)}for(;0<He.length;)He.shift()(o);if(!(0<de||$e||($e=!0,o.calledRun=!0,we))){for(;0<re.length;)re.shift()(o);for(m(o);0<V.length;)V.shift()(o)}}}return at(),d.ready}})();typeof _r=="object"&&typeof Bt=="object"?Bt.exports=vr:typeof define=="function"&&define.amd&&define([],()=>vr)});var Sr=it(()=>{});var Ar=it(()=>{});var Tr={};vt(Tr,{cpus:()=>mn});var mn,Mr=Ot(()=>{mn=void 0});var Dr=it((Cr,Wt)=>{"use strict";var xr=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(d={}){function o(){return V.buffer!=ae.buffer&&Ee(),ae}function m(){return V.buffer!=ae.buffer&&Ee(),he}function l(){return V.buffer!=ae.buffer&&Ee(),be}function b(){return V.buffer!=ae.buffer&&Ee(),K}function y(){return V.buffer!=ae.buffer&&Ee(),le}var f=d,x,D;f.ready=new Promise((e,t)=>{x=e,D=t});var R=Object.assign({},f),W="./this.program",U=(e,t)=>{throw t},P=typeof window=="object",N=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",E=f.ENVIRONMENT_IS_PTHREAD||!1,F="";function k(e){return f.locateFile?f.locateFile(e,F):F+e}var we,ue,te;if(I){var S=(Ut(),ze(Ft)),G=(Lt(),ze(Rt));F=N?G.dirname(F)+"/":__dirname+"/",we=(t,n)=>(t=Oe(t)?new URL(t):G.normalize(t),S.readFileSync(t,n?void 0:"utf8")),te=t=>(t=we(t,!0),t.buffer||(t=new Uint8Array(t)),t),ue=(t,n,u,h=!0)=>{t=Oe(t)?new URL(t):G.normalize(t),S.readFile(t,h?void 0:"utf8",(w,v)=>{w?u(w):n(h?v.buffer:v)})},!f.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\\\\\\\/g,"/")),process.argv.slice(2),U=(t,n)=>{throw process.exitCode=t,n},f.inspect=()=>"[Emscripten Module object]";let e;try{e=Sr()}catch(t){throw console.error(\\\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\\\'),t}global.Worker=e.Worker}else(P||N)&&(N?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),typeof i<"u"&&i&&(F=i),F.indexOf("blob:")!==0?F=F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):F="",I||(we=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},N&&(te=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ue=(e,t,n)=>{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?t(u.response):n()},u.onerror=n,u.send(null)}));I&&typeof performance>"u"&&(global.performance=Ar().performance);var fe=console.log.bind(console),We=console.error.bind(console);I&&(fe=(...e)=>S.writeSync(1,e.join(" ")+`\\n`),We=(...e)=>S.writeSync(2,e.join(" ")+`\\n`));var He=fe,re=We;Object.assign(f,R),R=null,typeof WebAssembly!="object"&&ce("no native wasm support detected");var V,de,L=!1,Z,ae,he,be,K,le;function Ee(){var e=V.buffer;f.HEAP8=ae=new Int8Array(e),f.HEAP16=new Int16Array(e),f.HEAPU8=he=new Uint8Array(e),f.HEAPU16=new Uint16Array(e),f.HEAP32=be=new Int32Array(e),f.HEAPU32=K=new Uint32Array(e),f.HEAPF32=new Float32Array(e),f.HEAPF64=le=new Float64Array(e)}var Ce=16777216;if(E)V=f.wasmMemory;else if(f.wasmMemory)V=f.wasmMemory;else if(V=new WebAssembly.Memory({initial:Ce/65536,maximum:65536,shared:!0}),!(V.buffer instanceof SharedArrayBuffer))throw re("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&re("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Ee(),Ce=V.buffer.byteLength;var De=[],Pe=[],Me=[],pe=0,Se=null,Ae=null;function J(){if(pe--,pe==0&&(Se!==null&&(clearInterval(Se),Se=null),Ae)){var e=Ae;Ae=null,e()}}function ce(e){throw e="Aborted("+e+")",re(e),L=!0,Z=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),D(e),e}var Fe=e=>e.startsWith("data:application/octet-stream;base64,"),Oe=e=>e.startsWith("file://"),Te;Te="ort-wasm-threaded.wasm",Fe(Te)||(Te=k(Te));function Ye(e){if(te)return te(e);throw"both async and sync fetching of the wasm failed"}function Ie(e){if(P||N){if(typeof fetch=="function"&&!Oe(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \\\'"+e+"\\\'";return t.arrayBuffer()}).catch(()=>Ye(e));if(ue)return new Promise((t,n)=>{ue(e,u=>t(new Uint8Array(u)),n)})}return Promise.resolve().then(()=>Ye(e))}function Ke(e,t,n){return Ie(e).then(u=>WebAssembly.instantiate(u,t)).then(u=>u).then(n,u=>{re(`failed to asynchronously prepare wasm: ${u}`),ce(u)})}function lt(e,t){var n=Te;return typeof WebAssembly.instantiateStreaming!="function"||Fe(n)||Oe(n)||I||typeof fetch!="function"?Ke(n,e,t):fetch(n,{credentials:"same-origin"}).then(u=>WebAssembly.instantiateStreaming(u,e).then(t,function(h){return re(`wasm streaming compile failed: ${h}`),re("falling back to ArrayBuffer instantiation"),Ke(n,e,t)}))}var Ue,Ge={886500:(e,t,n,u)=>{if(typeof f>"u"||!f.hb)return 1;if(e=ke(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=f.hb.get(e),!e)return 2;if(t>>>=0,n>>>=0,u>>>=0,t+n>e.byteLength)return 3;try{return m().set(e.subarray(t,t+n),u>>>0),0}catch{return 4}}};function Be(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ve=e=>{e.terminate(),e.onmessage=()=>{}},qe=e=>{M.Ta.length==0&&(Re(),M.bb(M.Ta[0]));var t=M.Ta.pop();if(!t)return 6;M.Ua.push(t),M.Qa[e.Sa]=t,t.Sa=e.Sa;var n={cmd:"run",start_routine:e.ob,arg:e.lb,pthread_ptr:e.Sa};return I&&t.unref(),t.postMessage(n,e.ub),0},Ne=0,ct=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,et=(e,t,n)=>{t>>>=0;var u=t+n;for(n=t;e[n]&&!(n>=u);)++n;if(16<n-t&&e.buffer&&ct)return ct.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(u="";t<n;){var h=e[t++];if(h&128){var w=e[t++]&63;if((h&224)==192)u+=String.fromCharCode((h&31)<<6|w);else{var v=e[t++]&63;h=(h&240)==224?(h&15)<<12|w<<6|v:(h&7)<<18|w<<12|v<<6|e[t++]&63,65536>h?u+=String.fromCharCode(h):(h-=65536,u+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else u+=String.fromCharCode(h)}return u},ke=(e,t)=>(e>>>=0)?et(m(),e,t):"",dt=e=>{var t=xt();return e=e(),wt(t),e};function z(e,t){var n=arguments.length-2,u=arguments;return dt(()=>{for(var h=Ct(8*n),w=h>>>3,v=0;v<n;v++){var B=u[2+v];y()[w+v>>>0]=B}return dr(e,n,h,t)})}function tt(e){if(E)return z(0,1,e);Z=e,0<Ne||(M.pb(),f.onExit?.(e),L=!0),U(e,new Be(e))}var xe=e=>{if(Z=e,E)throw C(e),"unwind";tt(e)};function ye(){for(var e=f.numThreads;e--;)Re();De.unshift(()=>{pe++,pt(()=>J())})}function Re(){var e=k("ort-wasm-threaded.worker.js");e=new Worker(e),M.Ta.push(e)}function pt(e){E?e():Promise.all(M.Ta.map(M.bb)).then(e)}var M={Ta:[],Ua:[],gb:[],Qa:{},$a(){E?(M.receiveObjectTransfer=M.nb,M.threadInitTLS=M.fb,M.setExitStatus=M.eb):ye()},eb:e=>Z=e,xb:["$terminateWorker"],pb:()=>{for(var e of M.Ua)Ve(e);for(e of M.Ta)Ve(e);M.Ta=[],M.Ua=[],M.Qa=[]},cb:e=>{var t=e.Sa;delete M.Qa[t],M.Ta.push(e),M.Ua.splice(M.Ua.indexOf(e),1),e.Sa=0,Tt(t)},nb(){},fb(){M.gb.forEach(e=>e())},bb:e=>new Promise(t=>{e.onmessage=w=>{w=w.data;var v=w.cmd;if(w.targetThread&&w.targetThread!=yt()){var B=M.Qa[w.targetThread];B?B.postMessage(w,w.transferList):re(`Internal error! Worker sent a message "${v}" to target pthread ${w.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?ve():v==="spawnThread"?qe(w):v==="cleanupThread"?M.cb(M.Qa[w.thread]):v==="killThread"?(w=w.thread,v=M.Qa[w],delete M.Qa[w],Ve(v),Tt(w),M.Ua.splice(M.Ua.indexOf(v),1),v.Sa=0):v==="cancelThread"?M.Qa[w.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,I&&!e.Sa&&e.unref(),t(e)):v==="alert"?alert(`Thread ${w.threadId}: ${w.text}`):w.target==="setimmediate"?e.postMessage(w):v==="callHandler"?f[w.handler](...w.args):v&&re(`worker sent an unknown command ${v}`)},e.onerror=w=>{throw re(`worker sent an error! ${w.filename}:${w.lineno}: ${w.message}`),w},I&&(e.on("message",w=>e.onmessage({data:w})),e.on("error",w=>e.onerror(w)));var n=[],u=["onExit"],h;for(h of u)f.hasOwnProperty(h)&&n.push(h);e.postMessage({cmd:"load",handlers:n,urlOrBlob:f.mainScriptUrlOrBlob||i,wasmMemory:V,wasmModule:de})})};f.PThread=M;var Je=e=>{for(;0<e.length;)e.shift()(f)};f.establishStackSpace=()=>{var e=yt(),t=b()[e+52>>>2>>>0];e=b()[e+56>>>2>>>0],gr(t,t-e),wt(t)};function C(e){if(E)return z(1,0,e);xe(e)}var Le=[],me,rt=e=>{var t=Le[e];return t||(e>=Le.length&&(Le.length=e+1),Le[e]=t=me.get(e)),t};f.invokeEntryPoint=(e,t)=>{e=rt(e)(t),0<Ne?M.eb(e):Mt(e)};function mt(e){this.Za=e-24,this.kb=function(t){b()[this.Za+4>>>2>>>0]=t},this.jb=function(t){b()[this.Za+8>>>2>>>0]=t},this.$a=function(t,n){this.ib(),this.kb(t),this.jb(n)},this.ib=function(){b()[this.Za+16>>>2>>>0]=0}}var nt=0,gt=0;function ht(e,t,n,u){return E?z(2,1,e,t,n,u):$e(e,t,n,u)}function $e(e,t,n,u){if(e>>>=0,t>>>=0,n>>>=0,u>>>=0,typeof SharedArrayBuffer>"u")return re("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var h=[];return E&&h.length===0?ht(e,t,n,u):(e={ob:n,Sa:e,lb:u,ub:h},E?(e.wb="spawnThread",postMessage(e,h),0):qe(e))}function at(e,t,n){return E?z(3,1,e,t,n):0}function r(e,t){if(E)return z(4,1,e,t)}var a=e=>{for(var t=0,n=0;n<e.length;++n){var u=e.charCodeAt(n);127>=u?t++:2047>=u?t+=2:55296<=u&&57343>=u?(t+=4,++n):t+=3}return t},s=(e,t,n,u)=>{if(n>>>=0,!(0<u))return 0;var h=n;u=n+u-1;for(var w=0;w<e.length;++w){var v=e.charCodeAt(w);if(55296<=v&&57343>=v){var B=e.charCodeAt(++w);v=65536+((v&1023)<<10)|B&1023}if(127>=v){if(n>=u)break;t[n++>>>0]=v}else{if(2047>=v){if(n+1>=u)break;t[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=u)break;t[n++>>>0]=224|v>>12}else{if(n+3>=u)break;t[n++>>>0]=240|v>>18,t[n++>>>0]=128|v>>12&63}t[n++>>>0]=128|v>>6&63}t[n++>>>0]=128|v&63}}return t[n>>>0]=0,n-h},c=(e,t,n)=>s(e,m(),t,n);function O(e,t){if(E)return z(5,1,e,t)}function _(e,t,n){if(E)return z(6,1,e,t,n)}function A(e,t,n){return E?z(7,1,e,t,n):0}function $(e,t){if(E)return z(8,1,e,t)}function oe(e,t,n){if(E)return z(9,1,e,t,n)}function se(e,t,n,u){if(E)return z(10,1,e,t,n,u)}function ie(e,t,n,u){if(E)return z(11,1,e,t,n,u)}function ot(e,t,n,u){if(E)return z(12,1,e,t,n,u)}function st(e){if(E)return z(13,1,e)}function p(e,t){if(E)return z(14,1,e,t)}function H(e,t,n){if(E)return z(15,1,e,t,n)}function Y(e){e>>>=0,typeof Atomics.vb=="function"&&(Atomics.vb(l(),e>>>2,e).value.then(ve),e+=128,Atomics.store(l(),e>>>2,1))}f.__emscripten_thread_mailbox_await=Y;var ve=()=>{var e=yt();if(e&&(Y(e),e=pr,!L))try{if(e(),!(0<Ne))try{E?Mt(Z):xe(Z)}catch(t){t instanceof Be||t=="unwind"||U(1,t)}}catch(t){t instanceof Be||t=="unwind"||U(1,t)}};f.checkMailbox=ve;var Xe=[],Qe=e=>e%4===0&&(e%100!==0||e%400===0),Yt=[0,31,60,91,121,152,182,213,244,274,305,335],Gt=[0,31,59,90,120,151,181,212,243,273,304,334];function Vt(e,t,n,u,h,w,v,B){return E?z(16,1,e,t,n,u,h,w,v,B):-52}function qt(e,t,n,u,h,w,v){if(E)return z(17,1,e,t,n,u,h,w,v)}var Jt=e=>{var t=a(e)+1,n=lr(t);return n&&c(e,n,t),n},Et=[],St={},Xt=()=>{if(!At){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},t;for(t in St)St[t]===void 0?delete e[t]:e[t]=St[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);At=n}return At},At;function Qt(e,t){if(E)return z(18,1,e,t);e>>>=0,t>>>=0;var n=0;return Xt().forEach((u,h)=>{var w=t+n;for(h=b()[e+4*h>>>2>>>0]=w,w=0;w<u.length;++w)o()[h++>>>0>>>0]=u.charCodeAt(w);o()[h>>>0>>>0]=0,n+=u.length+1}),0}function Zt(e,t){if(E)return z(19,1,e,t);e>>>=0,t>>>=0;var n=Xt();b()[e>>>2>>>0]=n.length;var u=0;return n.forEach(h=>u+=h.length+1),b()[t>>>2>>>0]=u,0}function Kt(e){return E?z(20,1,e):52}function er(e,t,n,u){return E?z(21,1,e,t,n,u):52}function tr(e,t,n,u,h){return E?z(22,1,e,t,n,u,h):70}var Zr=[null,[],[]];function rr(e,t,n,u){if(E)return z(23,1,e,t,n,u);t>>>=0,n>>>=0,u>>>=0;for(var h=0,w=0;w<n;w++){var v=b()[t>>>2>>>0],B=b()[t+4>>>2>>>0];t+=8;for(var _e=0;_e<B;_e++){var ne=m()[v+_e>>>0],ge=Zr[e];ne===0||ne===10?((e===1?He:re)(et(ge,0)),ge.length=0):ge.push(ne)}h+=B}return b()[u>>>2>>>0]=h,0}var Kr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return n=>(n.set(crypto.getRandomValues(new Uint8Array(n.byteLength))),n);if(I)try{var e=(It(),ze(Pt));if(e.randomFillSync)return n=>e.randomFillSync(n);var t=e.randomBytes;return n=>(n.set(t(n.byteLength)),n)}catch{}ce("initRandomDevice")},nr=e=>(nr=Kr())(e),ar=[31,29,31,30,31,30,31,31,30,31,30,31],or=[31,28,31,30,31,30,31,31,30,31,30,31];function en(e){var t=Array(a(e)+1);return s(e,t,0,t.length),t}var tn=(e,t)=>{o().set(e,t>>>0)};function sr(e,t,n,u){function h(g,j,X){for(g=typeof g=="number"?g.toString():g||"";g.length<j;)g=X[0]+g;return g}function w(g,j){return h(g,j,"0")}function v(g,j){function X(br){return 0>br?-1:0<br?1:0}var je;return(je=X(g.getFullYear()-j.getFullYear()))===0&&(je=X(g.getMonth()-j.getMonth()))===0&&(je=X(g.getDate()-j.getDate())),je}function B(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function _e(g){var j=g.Va;for(g=new Date(new Date(g.Wa+1900,0,1).getTime());0<j;){var X=g.getMonth(),je=(Qe(g.getFullYear())?ar:or)[X];if(j>je-g.getDate())j-=je-g.getDate()+1,g.setDate(1),11>X?g.setMonth(X+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+j);break}}return X=new Date(g.getFullYear()+1,0,4),j=B(new Date(g.getFullYear(),0,4)),X=B(X),0>=v(j,g)?0>=v(X,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,u>>>=0;var ne=b()[u+40>>>2>>>0];u={sb:l()[u>>>2>>>0],rb:l()[u+4>>>2>>>0],Xa:l()[u+8>>>2>>>0],ab:l()[u+12>>>2>>>0],Ya:l()[u+16>>>2>>>0],Wa:l()[u+20>>>2>>>0],Ra:l()[u+24>>>2>>>0],Va:l()[u+28>>>2>>>0],yb:l()[u+32>>>2>>>0],qb:l()[u+36>>>2>>>0],tb:ne?ke(ne):""},n=ke(n),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in ne)n=n.replace(new RegExp(ge,"g"),ne[ge]);var yr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),wr="January February March April May June July August September October November December".split(" ");ne={"%a":g=>yr[g.Ra].substring(0,3),"%A":g=>yr[g.Ra],"%b":g=>wr[g.Ya].substring(0,3),"%B":g=>wr[g.Ya],"%C":g=>w((g.Wa+1900)/100|0,2),"%d":g=>w(g.ab,2),"%e":g=>h(g.ab,2," "),"%g":g=>_e(g).toString().substring(2),"%G":g=>_e(g),"%H":g=>w(g.Xa,2),"%I":g=>(g=g.Xa,g==0?g=12:12<g&&(g-=12),w(g,2)),"%j":g=>{for(var j=0,X=0;X<=g.Ya-1;j+=(Qe(g.Wa+1900)?ar:or)[X++]);return w(g.ab+j,3)},"%m":g=>w(g.Ya+1,2),"%M":g=>w(g.rb,2),"%n":()=>`\\n`,"%p":g=>0<=g.Xa&&12>g.Xa?"AM":"PM","%S":g=>w(g.sb,2),"%t":()=>"\t","%u":g=>g.Ra||7,"%U":g=>w(Math.floor((g.Va+7-g.Ra)/7),2),"%V":g=>{var j=Math.floor((g.Va+7-(g.Ra+6)%7)/7);if(2>=(g.Ra+371-g.Va-2)%7&&j++,j)j==53&&(X=(g.Ra+371-g.Va)%7,X==4||X==3&&Qe(g.Wa)||(j=1));else{j=52;var X=(g.Ra+7-g.Va-1)%7;(X==4||X==5&&Qe(g.Wa%400-1))&&j++}return w(j,2)},"%w":g=>g.Ra,"%W":g=>w(Math.floor((g.Va+7-(g.Ra+6)%7)/7),2),"%y":g=>(g.Wa+1900).toString().substring(2),"%Y":g=>g.Wa+1900,"%z":g=>{g=g.qb;var j=0<=g;return g=Math.abs(g)/60,(j?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.tb,"%%":()=>"%"},n=n.replace(/%%/g,"\\\\0\\\\0");for(ge in ne)n.includes(ge)&&(n=n.replace(new RegExp(ge,"g"),ne[ge](u)));return n=n.replace(/\\\\0\\\\0/g,"%"),ge=en(n),ge.length>t?0:(tn(ge,e),ge.length-1)}var Ze,ir=[],ur=(e,t)=>{if(!Ze){Ze=new WeakMap;var n=me.length;if(Ze)for(var u=0;u<0+n;u++){var h=rt(u);h&&Ze.set(h,u)}}if(n=Ze.get(e)||0)return n;if(ir.length)n=ir.pop();else{try{me.grow(1)}catch(B){throw B instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":B}n=me.length-1}try{u=n,me.set(u,e),Le[u]=me.get(u)}catch(B){if(!(B instanceof TypeError))throw B;if(typeof WebAssembly.Function=="function"){u=WebAssembly.Function,h={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var w={parameters:[],results:t[0]=="v"?[]:[h[t[0]]]},v=1;v<t.length;++v)w.parameters.push(h[t[v]]);t=new u(w,e)}else{for(u=[1],h=t.slice(0,1),t=t.slice(1),w={i:127,p:127,j:126,f:125,d:124,e:111},u.push(96),v=t.length,128>v?u.push(v):u.push(v%128|128,v>>7),v=0;v<t.length;++v)u.push(w[t[v]]);h=="v"?u.push(0):u.push(1,w[h]),t=[0,97,115,109,1,0,0,0,1],h=u.length,128>h?t.push(h):t.push(h%128|128,h>>7),t.push.apply(t,u),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}u=n,me.set(u,t),Le[u]=me.get(u)}return Ze.set(e,n),n};M.$a();var rn=[tt,C,ht,at,r,O,_,A,$,oe,se,ie,ot,st,p,H,Vt,qt,Qt,Zt,Kt,er,tr,rr],nn={b:function(e,t,n){throw e>>>=0,new mt(e).$a(t>>>0,n>>>0),nt=e,gt++,nt},O:function(e){cr(e>>>0,!N,1,!P,131072,!1),M.fb()},m:function(e){e>>>=0,E?postMessage({cmd:"cleanupThread",thread:e}):M.cb(M.Qa[e])},J:$e,h:at,U:r,F:O,H:_,y:A,S:$,L:oe,R:se,o:ie,G:ot,D:st,T:p,E:H,p:()=>1,B:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ve()):E?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.Qa[e])&&e.postMessage({cmd:"checkMailbox"})},K:function(e,t,n,u){t>>>=0,Xe.length=n,u=u>>>0>>>3;for(var h=0;h<n;h++)Xe[h]=y()[u+h>>>0];return e=0>e?Ge[-e-1]:rn[e],M.mb=t,t=e.apply(null,Xe),M.mb=0,t},M:Y,W:function(e){I&&M.Qa[e>>>0].ref()},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getUTCSeconds(),l()[n+4>>>2>>>0]=e.getUTCMinutes(),l()[n+8>>>2>>>0]=e.getUTCHours(),l()[n+12>>>2>>>0]=e.getUTCDate(),l()[n+16>>>2>>>0]=e.getUTCMonth(),l()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,l()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>>2>>>0]=e},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>>2>>>0]=e.getSeconds(),l()[n+4>>>2>>>0]=e.getMinutes(),l()[n+8>>>2>>>0]=e.getHours(),l()[n+12>>>2>>>0]=e.getDate(),l()[n+16>>>2>>>0]=e.getMonth(),l()[n+20>>>2>>>0]=e.getFullYear()-1900,l()[n+24>>>2>>>0]=e.getDay(),t=(Qe(e.getFullYear())?Yt:Gt)[e.getMonth()]+e.getDate()-1|0,l()[n+28>>>2>>>0]=t,l()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var u=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=u&&e.getTimezoneOffset()==Math.min(u,t))|0,l()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(l()[e+20>>>2>>>0]+1900,l()[e+16>>>2>>>0],l()[e+12>>>2>>>0],l()[e+8>>>2>>>0],l()[e+4>>>2>>>0],l()[e>>>2>>>0],0),n=l()[e+32>>>2>>>0],u=t.getTimezoneOffset(),h=new Date(t.getFullYear(),6,1).getTimezoneOffset(),w=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(w,h);return 0>n?l()[e+32>>>2>>>0]=+(h!=w&&v==u):0<n!=(v==u)&&(h=Math.max(w,h),t.setTime(t.getTime()+6e4*((0<n?v:h)-u))),l()[e+24>>>2>>>0]=t.getDay(),n=(Qe(t.getFullYear())?Yt:Gt)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>>2>>>0]=n,l()[e>>>2>>>0]=t.getSeconds(),l()[e+4>>>2>>>0]=t.getMinutes(),l()[e+8>>>2>>>0]=t.getHours(),l()[e+12>>>2>>>0]=t.getDate(),l()[e+16>>>2>>>0]=t.getMonth(),l()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(l()[fr()>>>2>>>0]=61,e=-1):e/=1e3,mr((Ue=e,1<=+Math.abs(Ue)?0<Ue?+Math.floor(Ue/4294967296)>>>0:~~+Math.ceil((Ue-+(~~Ue>>>0))/4294967296)>>>0:0)),e>>>0},q:Vt,r:qt,A:function(e,t,n){function u(ne){return(ne=ne.toTimeString().match(/\\\\(([A-Za-z ]+)\\\\)$/))?ne[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var h=new Date().getFullYear(),w=new Date(h,0,1),v=new Date(h,6,1);h=w.getTimezoneOffset();var B=v.getTimezoneOffset(),_e=Math.max(h,B);b()[e>>>2>>>0]=60*_e,l()[t>>>2>>>0]=+(h!=B),e=u(w),t=u(v),e=Jt(e),t=Jt(t),B<h?(b()[n>>>2>>>0]=e,b()[n+4>>>2>>>0]=t):(b()[n>>>2>>>0]=t,b()[n+4>>>2>>>0]=e)},c:()=>{ce("")},N:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,Et.length=0;for(var u;u=m()[t++>>>0];){var h=u!=105;h&=u!=112,n+=h&&n%8?4:0,Et.push(u==112?b()[n>>>2>>>0]:u==105?l()[n>>>2>>>0]:y()[n>>>3>>>0]),n+=h?8:4}return Ge[e].apply(null,Et)},n:()=>{},i:()=>Date.now(),V:()=>{throw Ne+=1,"unwind"},C:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>I?(Mr(),ze(Tr)).cpus().length:navigator.hardwareConcurrency,z:function(e){e>>>=0;var t=m().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var u=t*(1+.2/n);u=Math.min(u,e+100663296);var h=Math;u=Math.max(e,u);e:{h=(h.min.call(h,4294901760,u+(65536-u%65536)%65536)-V.buffer.byteLength+65535)/65536;try{V.grow(h),Ee();var w=1;break e}catch{}w=void 0}if(w)return!0}return!1},P:Qt,Q:Zt,I:xe,g:Kt,l:er,v:tr,k:rr,w:function(e,t){return e>>>=0,t>>>=0,nr(m().subarray(e>>>0,e+t>>>0)),0},a:V||f.wasmMemory,x:sr,d:function(e,t,n,u){return sr(e>>>0,t>>>0,n>>>0,u>>>0)},j:function(e,t,n,u){let h=me.length;e=new Uint8Array(m().slice(e+t,e+n));try{var w=new WebAssembly.Module(e),v=new WebAssembly.Instance(w,{env:{memory:V}}),B;for(B in v.exports)ur(v.exports[B]);return h<me.length?h:u}catch(_e){return console.log(_e),u}}},T=function(){function e(n,u){return T=n.exports,T=an(),M.gb.push(T.Da),me=T.Ea,Pe.unshift(T.X),de=u,J(),T}var t={a:nn};if(pe++,f.instantiateWasm)try{return f.instantiateWasm(t,e)}catch(n){re(`Module.instantiateWasm callback failed with error: ${n}`),D(n)}return lt(t,function(n){e(n.instance,n.module)}).catch(D),{}}();f._OrtInit=(e,t)=>(f._OrtInit=T.Y)(e,t),f._OrtGetLastError=(e,t)=>(f._OrtGetLastError=T.Z)(e,t),f._OrtCreateSessionOptions=(e,t,n,u,h,w,v,B,_e,ne)=>(f._OrtCreateSessionOptions=T._)(e,t,n,u,h,w,v,B,_e,ne),f._OrtAppendExecutionProvider=(e,t)=>(f._OrtAppendExecutionProvider=T.$)(e,t),f._OrtAddFreeDimensionOverride=(e,t,n)=>(f._OrtAddFreeDimensionOverride=T.aa)(e,t,n),f._OrtAddSessionConfigEntry=(e,t,n)=>(f._OrtAddSessionConfigEntry=T.ba)(e,t,n),f._OrtReleaseSessionOptions=e=>(f._OrtReleaseSessionOptions=T.ca)(e),f._OrtCreateSession=(e,t,n)=>(f._OrtCreateSession=T.da)(e,t,n),f._OrtReleaseSession=e=>(f._OrtReleaseSession=T.ea)(e),f._OrtGetInputOutputCount=(e,t,n)=>(f._OrtGetInputOutputCount=T.fa)(e,t,n),f._OrtGetInputName=(e,t)=>(f._OrtGetInputName=T.ga)(e,t),f._OrtGetOutputName=(e,t)=>(f._OrtGetOutputName=T.ha)(e,t),f._OrtFree=e=>(f._OrtFree=T.ia)(e),f._OrtCreateTensor=(e,t,n,u,h,w)=>(f._OrtCreateTensor=T.ja)(e,t,n,u,h,w),f._OrtGetTensorData=(e,t,n,u,h)=>(f._OrtGetTensorData=T.ka)(e,t,n,u,h),f._OrtReleaseTensor=e=>(f._OrtReleaseTensor=T.la)(e),f._OrtCreateRunOptions=(e,t,n,u)=>(f._OrtCreateRunOptions=T.ma)(e,t,n,u),f._OrtAddRunConfigEntry=(e,t,n)=>(f._OrtAddRunConfigEntry=T.na)(e,t,n),f._OrtReleaseRunOptions=e=>(f._OrtReleaseRunOptions=T.oa)(e),f._OrtCreateBinding=e=>(f._OrtCreateBinding=T.pa)(e),f._OrtBindInput=(e,t,n)=>(f._OrtBindInput=T.qa)(e,t,n),f._OrtBindOutput=(e,t,n,u)=>(f._OrtBindOutput=T.ra)(e,t,n,u),f._OrtClearBoundOutputs=e=>(f._OrtClearBoundOutputs=T.sa)(e),f._OrtReleaseBinding=e=>(f._OrtReleaseBinding=T.ta)(e),f._OrtRunWithBinding=(e,t,n,u,h)=>(f._OrtRunWithBinding=T.ua)(e,t,n,u,h),f._OrtRun=(e,t,n,u,h,w,v,B)=>(f._OrtRun=T.va)(e,t,n,u,h,w,v,B),f._OrtEndProfiling=e=>(f._OrtEndProfiling=T.wa)(e),f._OrtConfigure=(e,t)=>(f._OrtConfigure=T.xa)(e,t),f._OrtAuth=(e,t)=>(f._OrtAuth=T.ya)(e,t);var fr=()=>(fr=T.za)(),yt=f._pthread_self=()=>(yt=f._pthread_self=T.Aa)(),lr=f._malloc=e=>(lr=f._malloc=T.Ba)(e);f._free=e=>(f._free=T.Ca)(e),f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=T.Da)();var cr=f.__emscripten_thread_init=(e,t,n,u,h,w)=>(cr=f.__emscripten_thread_init=T.Fa)(e,t,n,u,h,w);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=T.Ga)();var dr=(e,t,n,u)=>(dr=T.Ha)(e,t,n,u),Tt=e=>(Tt=T.Ia)(e),Mt=f.__emscripten_thread_exit=e=>(Mt=f.__emscripten_thread_exit=T.Ja)(e),pr=()=>(pr=T.Ka)(),mr=e=>(mr=T.La)(e),gr=(e,t)=>(gr=T.Ma)(e,t),xt=()=>(xt=T.Na)(),wt=e=>(wt=T.Oa)(e),Ct=e=>(Ct=T.Pa)(e);f.___start_em_js=887001,f.___stop_em_js=887613;function an(){var e=T;e=Object.assign({},e);var t=u=>()=>u()>>>0,n=u=>h=>u(h)>>>0;return e.za=t(e.za),e.Aa=t(e.Aa),e.Ba=n(e.Ba),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Na=t(e.Na),e.Pa=n(e.Pa),e}f.wasmMemory=V,f.stackAlloc=Ct,f.stackSave=xt,f.stackRestore=wt,f.keepRuntimeAlive=()=>0<Ne,f.addFunction=ur,f.UTF8ToString=ke,f.stringToUTF8=c,f.lengthBytesUTF8=a,f.ExitStatus=Be,f.PThread=M;var bt;Ae=function e(){bt||hr(),bt||(Ae=e)};function hr(){if(!(0<pe))if(E)x(f),E||Je(Pe),startWorker(f);else{if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)De.unshift(f.preRun.shift());Je(De),0<pe||bt||(bt=!0,f.calledRun=!0,L||(E||Je(Pe),x(f),E||Je(Me)))}}return hr(),d.ready}})();typeof Cr=="object"&&typeof Wt=="object"?Wt.exports=xr:typeof define=="function"&&define.amd&&define([],()=>xr)});var Fr=it((Un,gn)=>{gn.exports=\\\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\\\n\\\'});var Rr;Rr=Er();var hn=Dr(),Ht,Nt=!1,_t=!1,Ur=!1,yn=i=>{if(i===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+i+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+i+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},wn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},bn=(i,d)=>i?d?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Lr=async i=>{if(Nt)return Promise.resolve();if(_t)throw new Error("multiple calls to \\\'initializeWebAssembly()\\\' detected.");if(Ur)throw new Error("previous call to \\\'initializeWebAssembly()\\\' failed.");_t=!0;let d=i.initTimeout,o=i.numThreads,m=i.simd,l=yn(o),b=m&&wn(),y=i.wasmPaths,f=typeof y=="string"?y:void 0,x=bn(b,l),D=typeof y=="object"?y[x]:void 0,R=!1,W=[];if(d>0&&W.push(new Promise(U=>{setTimeout(()=>{R=!0,U()},d)})),W.push(new Promise((U,P)=>{let N=l?hn:Rr,I={locateFile:(E,F)=>l&&E.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Fr()],{type:"text/javascript"})):E.endsWith(".wasm")?D||(f??F)+x:F+E};if(l)if(I.numThreads=o,typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let E=`var ortWasmThreaded=${N.toString()};`;I.mainScriptUrlOrBlob=new Blob([E],{type:"text/javascript"})}N(I).then(E=>{_t=!1,Nt=!0,Ht=E,U()},E=>{_t=!1,Ur=!0,P(E)})})),await Promise.race(W),R)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},q=()=>{if(Nt&&Ht)return Ht;throw new Error("WebAssembly is not initialized yet.")};var ee=(i,d)=>{let o=q(),m=o.lengthBytesUTF8(i)+1,l=o._malloc(m);return o.stringToUTF8(i,l,m),d.push(l),l},ut=(i,d,o,m)=>{if(typeof i=="object"&&i!==null){if(o.has(i))throw new Error("Circular reference in options");o.add(i)}Object.entries(i).forEach(([l,b])=>{let y=d?d+l:l;if(typeof b=="object")ut(b,y+".",o,m);else if(typeof b=="string"||typeof b=="number")m(y,b.toString());else if(typeof b=="boolean")m(y,b?"1":"0");else throw new Error(`Can\\\'t handle extra config type: ${typeof b}`)})},Q=i=>{let d=q(),o=d.stackSave();try{let m=d.stackAlloc(8);d._OrtGetLastError(m,m+4);let l=d.HEAP32[m/4],b=d.HEAPU32[m/4+1],y=b?d.UTF8ToString(b):"";throw new Error(`${i} ERROR_CODE: ${l}, ERROR_MESSAGE: ${y}`)}finally{d.stackRestore(o)}};var Pr=i=>{let d=q(),o=0,m=[],l=i||{};try{if(i?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(l.terminate=!1);let b=0;return i?.tag!==void 0&&(b=ee(i.tag,m)),o=d._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,b),o===0&&Q("Can\\\'t create run options."),i?.extra!==void 0&&ut(i.extra,"",new WeakSet,(y,f)=>{let x=ee(y,m),D=ee(f,m);d._OrtAddRunConfigEntry(o,x,D)!==0&&Q(`Can\\\'t set a run config entry: ${y} - ${f}.`)}),[o,m]}catch(b){throw o!==0&&d._OrtReleaseRunOptions(o),m.forEach(y=>d._free(y)),b}};var On=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},vn=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},_n=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let d=i.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(i.enableMemPattern=!1)},En=(i,d,o)=>{for(let m of d){let l=typeof m=="string"?m:m.name;switch(l){case"webnn":if(l="WEBNN",typeof m!="string"){let y=m;if(y?.deviceType){let f=ee("deviceType",o),x=ee(y.deviceType,o);q()._OrtAddSessionConfigEntry(i,f,x)!==0&&Q(`Can\\\'t set a session config entry: \\\'deviceType\\\' - ${y.deviceType}.`)}if(y?.numThreads){let f=y.numThreads;(typeof f!="number"||!Number.isInteger(f)||f<0)&&(f=0);let x=ee("numThreads",o),D=ee(f.toString(),o);q()._OrtAddSessionConfigEntry(i,x,D)!==0&&Q(`Can\\\'t set a session config entry: \\\'numThreads\\\' - ${y.numThreads}.`)}if(y?.powerPreference){let f=ee("powerPreference",o),x=ee(y.powerPreference,o);q()._OrtAddSessionConfigEntry(i,f,x)!==0&&Q(`Can\\\'t set a session config entry: \\\'powerPreference\\\' - ${y.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof m!="string"){let y=m;if(y?.preferredLayout){if(y.preferredLayout!=="NCHW"&&y.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \\\'NCHW\\\' or \\\'NHWC\\\': ${y.preferredLayout}`);let f=ee("preferredLayout",o),x=ee(y.preferredLayout,o);q()._OrtAddSessionConfigEntry(i,f,x)!==0&&Q(`Can\\\'t set a session config entry: \\\'preferredLayout\\\' - ${y.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let b=ee(l,o);q()._OrtAppendExecutionProvider(i,b)!==0&&Q(`Can\\\'t append execution provider: ${l}.`)}},Ir=i=>{let d=q(),o=0,m=[],l=i||{};_n(l);try{let b=On(l.graphOptimizationLevel??"all"),y=vn(l.executionMode??"sequential"),f=typeof l.logId=="string"?ee(l.logId,m):0,x=l.logSeverityLevel??2;if(!Number.isInteger(x)||x<0||x>4)throw new Error(`log serverity level is not valid: ${x}`);let D=l.logVerbosityLevel??0;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log verbosity level is not valid: ${D}`);let R=typeof l.optimizedModelFilePath=="string"?ee(l.optimizedModelFilePath,m):0;if(o=d._OrtCreateSessionOptions(b,!!l.enableCpuMemArena,!!l.enableMemPattern,y,!!l.enableProfiling,0,f,x,D,R),o===0&&Q("Can\\\'t create session options."),l.executionProviders&&En(o,l.executionProviders,m),l.freeDimensionOverrides)for(let[W,U]of Object.entries(l.freeDimensionOverrides)){if(typeof W!="string")throw new Error(`free dimension override name must be a string: ${W}`);if(typeof U!="number"||!Number.isInteger(U)||U<0)throw new Error(`free dimension override value must be a non-negative integer: ${U}`);let P=ee(W,m);d._OrtAddFreeDimensionOverride(o,P,U)!==0&&Q(`Can\\\'t set a free dimension override: ${W} - ${U}.`)}return l.extra!==void 0&&ut(l.extra,"",new WeakSet,(W,U)=>{let P=ee(W,m),N=ee(U,m);d._OrtAddSessionConfigEntry(o,P,N)!==0&&Q(`Can\\\'t set a session config entry: ${W} - ${U}.`)}),[o,m]}catch(b){throw o!==0&&d._OrtReleaseSessionOptions(o),m.forEach(y=>d._free(y)),b}};var kt=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},Br=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},$t=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],Wr=i=>{switch(i){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},Hr=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Nr=i=>i==="float32"||i==="int32"||i==="int64"||i==="bool"||i==="float16"||i==="uint32",kr=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}};var $r=async i=>{if(typeof i=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(i))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let o=(void 0)(i),m=[];for await(let l of o)m.push(l);return new Uint8Array(Buffer.concat(m))}throw d}else{let d=await fetch(i);if(!d.ok)throw new Error(`failed to load external data file: ${i}`);let o=d.headers.get("Content-Length"),m=o?parseInt(o,10):0;if(m<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${i}, no response body.`);let l=d.body.getReader(),b;try{b=new ArrayBuffer(m)}catch(f){if(f instanceof RangeError){let x=Math.ceil(m/65536);b=new WebAssembly.Memory({initial:x,maximum:x}).buffer}else throw f}let y=0;for(;;){let{done:f,value:x}=await l.read();if(f)break;let D=x.byteLength;new Uint8Array(b,y,D).set(x),y+=D}return new Uint8Array(b,0,m)}}else return i instanceof Blob?new Uint8Array(await i.arrayBuffer()):i instanceof Uint8Array?i:new Uint8Array(i)};var Sn=(i,d)=>{q()._OrtInit(i,d)!==0&&Q("Can\\\'t initialize onnxruntime.")},zr=async i=>{Sn(i.wasm.numThreads,Hr(i.logLevel))},Yr=async(i,d)=>{},ft=new Map,An=i=>{let d=q(),o=d.stackSave();try{let m=d.stackAlloc(8);return d._OrtGetInputOutputCount(i,m,m+4)!==0&&Q("Can\\\'t get session input/output count."),[d.HEAP32[m/4],d.HEAP32[m/4+1]]}finally{d.stackRestore(o)}},jt=i=>{let d=q(),o=d._malloc(i.byteLength);if(o===0)throw new Error(`Can\\\'t create a session. failed to allocate a buffer of size ${i.byteLength}.`);return d.HEAPU8.set(i,o),[o,i.byteLength]},Gr=async(i,d)=>{let o,m,l=q();Array.isArray(i)?[o,m]=i:i.buffer===l.HEAPU8.buffer?[o,m]=[i.byteOffset,i.byteLength]:[o,m]=jt(i);let b=0,y=0,f=0,x=[],D=[],R=[];try{if([y,x]=Ir(d),d?.externalData&&l.mountExternalData){let F=[];for(let k of d.externalData){let we=typeof k=="string"?k:k.path;F.push($r(typeof k=="string"?k:k.data).then(ue=>{l.mountExternalData(we,ue)}))}await Promise.all(F)}b=l._OrtCreateSession(o,m,y),b===0&&Q("Can\\\'t create a session.");let[W,U]=An(b),P=[],N=[],I=[];for(let F=0;F<W;F++){let k=l._OrtGetInputName(b,F);k===0&&Q("Can\\\'t get an input name."),D.push(k),P.push(l.UTF8ToString(k))}for(let F=0;F<U;F++){let k=l._OrtGetOutputName(b,F);k===0&&Q("Can\\\'t get an output name."),R.push(k);let we=l.UTF8ToString(k);N.push(we)}let E=null;return ft.set(b,[b,D,R,E]),[b,P,N]}catch(W){throw D.forEach(U=>l._OrtFree(U)),R.forEach(U=>l._OrtFree(U)),f!==0&&l._OrtReleaseBinding(f),b!==0&&l._OrtReleaseSession(b),W}finally{l._free(o),y!==0&&l._OrtReleaseSessionOptions(y),x.forEach(W=>l._free(W)),l.unmountExternalData?.()}},Vr=i=>{let d=q(),o=ft.get(i);if(!o)throw new Error(`cannot release session. invalid session id: ${i}`);let[m,l,b,y]=o;y&&d._OrtReleaseBinding(y.handle),d.jsepUnregisterBuffers?.(i),l.forEach(f=>d._OrtFree(f)),b.forEach(f=>d._OrtFree(f)),d._OrtReleaseSession(m),ft.delete(i)},Tn=(i,d,o)=>{if(i!==null&&i[0]===d){let l=i[2];if(l.length===o)return l}let m=Wr(d);return new m(o)},jr=(i,d,o,m,l)=>{if(!i){d.push(0);return}let b=q(),y=i[0],f=i[1],x=i[3],D,R;if(y==="string"&&x==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(x==="gpu-buffer"){let P=i[2].gpuBuffer,N=$t(kt(y));R=f.reduce((I,E)=>I*E,1)*N,D=b.jsepRegisterBuffer(m,l,P,R)}else{let P=i[2];if(Array.isArray(P)){R=4*P.length,D=b._malloc(R),o.push(D);let N=D/4;for(let I=0;I<P.length;I++){if(typeof P[I]!="string")throw new TypeError(`tensor data at index ${I} is not a string`);b.HEAPU32[N++]=ee(P[I],o)}}else R=P.byteLength,D=b._malloc(R),o.push(D),b.HEAPU8.set(new Uint8Array(P.buffer,P.byteOffset,R),D)}let W=b.stackSave(),U=b.stackAlloc(4*f.length);try{let P=U/4;f.forEach(I=>b.HEAP32[P++]=I);let N=b._OrtCreateTensor(kt(y),D,R,U,f.length,kr(x));N===0&&Q(`Can\\\'t create tensor for input/output. session=${m}, index=${l}.`),d.push(N)}finally{b.stackRestore(W)}},qr=i=>{let o=new TextEncoder().encode(i),m=q(),l=m._malloc(o.byteLength);m.HEAPU8.set(o,l);let b=m._OrtConfigure(l,o.byteLength);if(b===0)throw new Error("Can\\\'t get an configure key");let y=m.UTF8ToString(b);return m._OrtFree(b),y},Jr=i=>{let o=new TextEncoder().encode(i),m=q(),l=m._malloc(o.byteLength);m.HEAPU8.set(o,l);let b=m._OrtAuth(l,o.byteLength);if(b===0)throw new Error("Can\\\'t get an auth result");let y=m.UTF8ToString(b);return m._OrtFree(b),y},Xr=async(i,d,o,m,l,b)=>{let y=q(),f=ft.get(i);if(!f)throw new Error(`cannot run inference. invalid session id: ${i}`);let[x,D,R,W]=f,U=d.length,P=m.length,N=0,I=[],E=[],F=[],k=[],we=y.stackSave(),ue=y.stackAlloc(U*4),te=y.stackAlloc(U*4),S=y.stackAlloc(P*4),G=y.stackAlloc(P*4);try{[N,I]=Pr(b);for(let L=0;L<U;L++)jr(o[L],E,k,i,d[L]);for(let L=0;L<P;L++){let Z=l[L],ae=Z?.[3]??"";jr(ae==="gpu-buffer"?Z:null,F,k,i,U+m[L])}let fe=ue/4,We=te/4,He=S/4,re=G/4;for(let L=0;L<U;L++)y.HEAPU32[fe++]=E[L],y.HEAPU32[We++]=D[d[L]];for(let L=0;L<P;L++)y.HEAPU32[He++]=F[L],y.HEAPU32[re++]=R[m[L]];let V;V=await y._OrtRun(x,te,ue,U,G,P,S,N),V!==0&&Q("failed to call OrtRun().");let de=[];for(let L=0;L<P;L++){let Z=y.HEAPU32[S/4+L];if(Z===F[L]){de.push(l[L]);continue}let ae=y.stackSave(),he=y.stackAlloc(4*4),be=!1,K,le=0;try{y._OrtGetTensorData(Z,he,he+4,he+8,he+12)!==0&&Q(`Can\\\'t access output tensor data on index ${L}.`);let Ce=he/4,De=y.HEAPU32[Ce++];le=y.HEAPU32[Ce++];let Pe=y.HEAPU32[Ce++],Me=y.HEAPU32[Ce++],pe=[];for(let J=0;J<Me;J++)pe.push(y.HEAPU32[Pe/4+J]);y._OrtFree(Pe);let Se=pe.reduce((J,ce)=>J*ce,1);K=Br(De);let Ae=W?.outputPreferredLocations[m[L]];if(K==="string"){if(Ae==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let J=[],ce=le/4;for(let Fe=0;Fe<Se;Fe++){let Oe=y.HEAPU32[ce++],Te=Fe===Se-1?void 0:y.HEAPU32[ce]-Oe;J.push(y.UTF8ToString(Oe,Te))}de.push([K,pe,J,"cpu"])}else if(Ae==="gpu-buffer"&&Se>0){let J=y.jsepGetBuffer(le),ce=$t(De);if(ce===void 0||!Nr(K))throw new Error(`Unsupported data type: ${K}`);be=!0,de.push([K,pe,{gpuBuffer:J,download:y.jsepCreateDownloader(J,Se*ce,K),dispose:()=>{y._OrtReleaseTensor(Z)}},"gpu-buffer"])}else{let J=Tn(l[L],K,Se);new Uint8Array(J.buffer,J.byteOffset,J.byteLength).set(y.HEAPU8.subarray(le,le+J.byteLength)),de.push([K,pe,J,"cpu"])}}finally{y.stackRestore(ae),K==="string"&&le&&y._free(le),be||y._OrtReleaseTensor(Z)}}return W&&y._OrtClearBoundOutputs(W.handle),de}finally{y.stackRestore(we),E.forEach(fe=>y._OrtReleaseTensor(fe)),F.forEach(fe=>y._OrtReleaseTensor(fe)),k.forEach(fe=>y._free(fe)),N!==0&&y._OrtReleaseRunOptions(N),I.forEach(fe=>y._free(fe))}},Qr=i=>{let d=q(),o=ft.get(i);if(!o)throw new Error("invalid session id");let m=o[0],l=d._OrtEndProfiling(m);l===0&&Q("Can\\\'t get an profile file name."),d._OrtFree(l)},zt=i=>{let d=[];for(let o of i){let m=o[2];!Array.isArray(m)&&"buffer"in m&&d.push(m.buffer)}return d};self.onmessage=i=>{let{type:d,in:o}=i.data;try{switch(d){case"init-wasm":Lr(o.wasm).then(()=>{zr(o).then(()=>{postMessage({type:d})},m=>{postMessage({type:d,err:m})})},m=>{postMessage({type:d,err:m})});break;case"init-ep":{let{epName:m,env:l}=o;Yr(l,m).then(()=>{postMessage({type:d})},b=>{postMessage({type:d,err:b})});break}case"copy-from":{let{buffer:m}=o,l=jt(m);postMessage({type:d,out:l});break}case"create":{let{model:m,options:l}=o;Gr(m,l).then(b=>{postMessage({type:d,out:b})},b=>{postMessage({type:d,err:b})});break}case"release":Vr(o),postMessage({type:d});break;case"run":{let{sessionId:m,inputIndices:l,inputs:b,outputIndices:y,options:f}=o,x=i.data.prealloc??[];for(;x.length<y.length;)x.push(null);Xr(m,l,b,y,x,f).then(D=>{D.some(R=>R[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:D,inputsBack:b},zt(D).concat(zt(b)))},D=>{postMessage({type:d,err:D})});break}case"configure":try{let m=qr(i.data.in);postMessage({type:"configure",out:m})}catch(m){postMessage({type:"configure",err:m})}break;case"auth":try{let m=Jr(i.data.in);postMessage({type:"auth",out:m})}catch(m){postMessage({type:"auth",err:m})}break;case"end-profiling":Qr(o),postMessage({type:d});break;default:}}catch(m){postMessage({type:d,err:m})}};})();\\n\'});var Xt,it,In,Mo,Go,va,Uo,ir,ar,Fg,Ro,Cg,pd,dd,hd,md,bd,gd,yd,Td,xd,_a=L(()=>{"use strict";It();fd();Kr();Xt=()=>!!ee.wasm.proxy&&typeof document<"u",In=!1,Mo=!1,Go=!1,Uo=new Map,ir=(a,t)=>{let o=Uo.get(a);o?o.push(t):Uo.set(a,[t])},ar=()=>{if(In||!Mo||Go||!it)throw new Error("worker not ready")},Fg=a=>{switch(a.data.type){case"init-wasm":In=!1,a.data.err?(Go=!0,va[1](a.data.err)):(Mo=!0,va[0]());break;case"init-ep":case"copy-from":case"create":case"configure":case"auth":case"release":case"end-profiling":{let t=Uo.get(a.data.type);a.data.err?t.shift()[1](a.data.err):t.shift()[0](a.data.out);break}case"run":{let t=Uo.get(a.data.type);a.data.err?t.shift()[1](a.data.err):t.shift()[0](a.data.out.concat(a.data.inputsBack));break}default:}},Ro=typeof document<"u"?document?.currentScript?.src:void 0,Cg=a=>{let t=[];for(var o=0;o<a.length;++o){let e=a[o];e!==null&&t.push(e)}return t},pd=async()=>{if(!Mo){if(In)throw new Error("multiple calls to \'initWasm()\' detected.");if(Go)throw new Error("previous call to \'initWasm()\' failed.");if(In=!0,Xt())return ee.wasm.wasmPaths===void 0&&Ro&&Ro.indexOf("blob:")!==0&&(ee.wasm.wasmPaths=Ro.substr(0,+Ro.lastIndexOf("/")+1)),new Promise((a,t)=>{it?.terminate();let o=URL.createObjectURL(new Blob([cd()],{type:"text/javascript"}));it=new Worker(o,{name:"ort-wasm-proxy-worker"}),it.onerror=r=>t(r),it.onmessage=Fg,URL.revokeObjectURL(o),va=[a,t];let e={type:"init-wasm",in:ee};it.postMessage(e)});try{await jp(ee.wasm),await rd(ee),Mo=!0}catch(a){throw Go=!0,a}finally{In=!1}}},dd=async a=>{if(Xt())return ar(),new Promise((t,o)=>{ir("init-ep",[t,o]);let e={type:"init-ep",in:{epName:a,env:ee}};it.postMessage(e)});await nd(ee,a)},hd=async a=>Xt()?(ar(),new Promise((t,o)=>{ir("copy-from",[t,o]);let e={type:"copy-from",in:{buffer:a}};it.postMessage(e,[a.buffer])})):xa(a),md=async(a,t)=>{if(Xt()){if(t?.preferredOutputLocation)throw new Error(\'session option "preferredOutputLocation" is not supported for proxy.\');return ar(),new Promise((o,e)=>{ir("create",[o,e]);let r={type:"create",in:{model:a,options:t}},n=[];a instanceof Uint8Array&&n.push(a.buffer),it.postMessage(r,n)})}else return od(a,t)},bd=async a=>{if(Xt())return ar(),new Promise((t,o)=>{ir("release",[t,o]);let e={type:"release",in:a};it.postMessage(e)});id(a)},gd=async a=>Xt()?(ar(),new Promise((t,o)=>{ir("configure",[t,o]);let e={type:"configure",in:a};it.postMessage(e)})):ad(a),yd=async a=>Xt()?(ar(),new Promise((t,o)=>{ir("auth",[t,o]);let e={type:"auth",in:a};it.postMessage(e)})):sd(a),Td=async(a,t,o,e,r,n)=>{if(Xt()){if(o.some(s=>s[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");return ar(),new Promise((s,i)=>{ir("run",[s,i]);let u=o,l={type:"run",in:{sessionId:a,inputIndices:t,inputs:u,outputIndices:e,options:n},prealloc:r};it.postMessage(l,wa(u).concat(wa(Cg(r))))})}else return ud(a,t,o,e,r,n).then(s=>s.concat(o))},xd=async a=>{if(Xt())return ar(),new Promise((t,o)=>{ir("end-profiling",[t,o]);let e={type:"end-profiling",in:a};it.postMessage(e)});ld(a)}});var wd,vd,zo,_d=L(()=>{"use strict";It();_a();ya();Ta();wd=(a,t)=>{switch(a.location){case"cpu":return[a.type,a.dims,a.data,"cpu"];case"gpu-buffer":return[a.type,a.dims,{gpuBuffer:a.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${a.location} for ${t()}`)}},vd=a=>{switch(a[3]){case"cpu":return new Ne(a[0],a[2],a[1]);case"gpu-buffer":{let t=a[0];if(!No(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:o,download:e,dispose:r}=a[2];return Ne.fromGpuBuffer(o,{dataType:t,dims:a[1],download:e,dispose:r})}default:throw new Error(`invalid data location: ${a[3]}`)}},zo=class{async fetchModelAndCopyToWasmMemory(t){return hd(await _n(t))}async loadModel(t,o){mr();let e;typeof t=="string"?typeof process<"u"&&process.versions&&process.versions.node?e=await _n(t):e=await this.fetchModelAndCopyToWasmMemory(t):e=t,[this.sessionId,this.inputNames,this.outputNames]=await md(e,o),br()}async dispose(){return bd(this.sessionId)}async configure(t){return gd(t)}async auth(t){return yd(t)}async run(t,o,e){mr();let r=[],n=[];Object.entries(t).forEach(v=>{let _=v[0],S=v[1],E=this.inputNames.indexOf(_);if(E===-1)throw new Error(`invalid input \'${_}\'`);r.push(S),n.push(E)});let s=[],i=[],u=v=>v!==null&&v.location==="gpu-buffer"?v:null;Object.entries(o).forEach(v=>{let _=v[0],S=v[1],E=this.outputNames.indexOf(_);if(E===-1)throw new Error(`invalid output \'${_}\'`);s.push(S),i.push(E)});let l=r.map((v,_)=>wd(v,()=>`input "${this.inputNames[n[_]]}"`)),c=s.map((v,_)=>v?wd(v,()=>`output "${this.outputNames[i[_]]}"`):null),d=await Td(this.sessionId,n,l,i,c,e),b={},x=[];for(let v=0;v<d.length;v++)v>=i.length?x.push(vd(d[v])):b[this.outputNames[i[v]]]=u(s[v])??vd(d[v]);return x.length>0&&(b.inputBack=x[0]),br(),b}startProfiling(){}endProfiling(){xd(this.sessionId)}}});var $g,Wo,Od=L(()=>{"use strict";It();_a();_d();$g=()=>{if((typeof ee.wasm.initTimeout!="number"||ee.wasm.initTimeout<0)&&(ee.wasm.initTimeout=0),typeof ee.wasm.simd!="boolean"&&(ee.wasm.simd=!0),typeof ee.wasm.proxy!="boolean"&&(ee.wasm.proxy=!1),typeof ee.wasm.trace!="boolean"&&(ee.wasm.trace=!1),typeof ee.wasm.numThreads!="number"||!Number.isInteger(ee.wasm.numThreads)||ee.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(ee.wasm.numThreads=1);let a=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;ee.wasm.numThreads=Math.min(4,Math.ceil((a||1)/2))}},Wo=class{async init(t){$g(),await pd(),await dd(t)}async createInferenceSessionHandler(t,o){let e=new zo;return await e.loadModel(t,o),Promise.resolve(e)}}});var Id={};cr(Id,{wasmBackend:()=>Bg});var Bg,Sd=L(()=>{"use strict";Od();Bg=new Wo});It();It();It();var Ss="1.17.0";var nI=ei;{let a=(Lp(),Ht(Dp)).onnxjsBackend;dr("webgl",a,-10)}{let a=(Sd(),Ht(Id)).wasmBackend;dr("cpu",a,10),dr("wasm",a,10),dr("webnn",a,9)}Object.defineProperty(ee.versions,"web",{value:Ss,enumerable:!0});\n/*! Bundled license information:\n\nlong/index.js:\n  (**\n   * @license\n   * Copyright 2009 The Closure Library Authors\n   * Copyright 2020 Daniel Wirtz / The long.js Authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the "License");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an "AS IS" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * SPDX-License-Identifier: Apache-2.0\n   *)\n*/\n//# sourceMappingURL=ort.min.js.map\n\n\n/***/ }),\n\n/***/ "./node_modules/wasm-feature-detect/dist/esm/index.js":\n/*!************************************************************!*\\\n  !*** ./node_modules/wasm-feature-detect/dist/esm/index.js ***!\n  \\************************************************************/\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "bigInt": () => (/* binding */ bigInt),\n/* harmony export */   "bulkMemory": () => (/* binding */ bulkMemory),\n/* harmony export */   "exceptions": () => (/* binding */ exceptions),\n/* harmony export */   "extendedConst": () => (/* binding */ extendedConst),\n/* harmony export */   "gc": () => (/* binding */ gc),\n/* harmony export */   "jspi": () => (/* binding */ jspi),\n/* harmony export */   "memory64": () => (/* binding */ memory64),\n/* harmony export */   "multiMemory": () => (/* binding */ multiMemory),\n/* harmony export */   "multiValue": () => (/* binding */ multiValue),\n/* harmony export */   "mutableGlobals": () => (/* binding */ mutableGlobals),\n/* harmony export */   "referenceTypes": () => (/* binding */ referenceTypes),\n/* harmony export */   "relaxedSimd": () => (/* binding */ relaxedSimd),\n/* harmony export */   "saturatedFloatToInt": () => (/* binding */ saturatedFloatToInt),\n/* harmony export */   "signExtensions": () => (/* binding */ signExtensions),\n/* harmony export */   "simd": () => (/* binding */ simd),\n/* harmony export */   "streamingCompilation": () => (/* binding */ streamingCompilation),\n/* harmony export */   "tailCall": () => (/* binding */ tailCall),\n/* harmony export */   "threads": () => (/* binding */ threads),\n/* harmony export */   "typeReflection": () => (/* binding */ typeReflection)\n/* harmony export */ });\nconst bigInt=()=>(async e=>{try{return(await WebAssembly.instantiate(e)).instance.exports.b(BigInt(0))===BigInt(0)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,126,1,126,3,2,1,0,7,5,1,1,98,0,0,10,6,1,4,0,32,0,11])),bulkMemory=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),exceptions=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),extendedConst=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,0,1,11,9,1,0,65,1,65,2,106,11,0])),gc=()=>(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,95,1,120,0])))(),jspi=()=>(async()=>"Suspender"in WebAssembly)(),memory64=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1])),multiMemory=()=>(async()=>{try{return new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,5,5,2,0,0,0,0])),!0}catch(e){return!1}})(),multiValue=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,0,2,127,127,3,2,1,0,10,8,1,6,0,65,0,65,0,11])),mutableGlobals=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),referenceTypes=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),relaxedSimd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,15,1,13,0,65,1,253,15,65,2,253,15,253,128,2,11])),saturatedFloatToInt=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),signExtensions=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),simd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),streamingCompilation=()=>(async()=>"compileStreaming"in WebAssembly)(),tailCall=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,6,1,4,0,18,0,11])),threads=()=>(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),typeReflection=()=>(async()=>"Function"in WebAssembly)();\n\n\n/***/ }),\n\n/***/ "./package.json":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/***/ ((module) => {\n\n"use strict";\nmodule.exports = JSON.parse(\'{"name":"Audio Effects SDK","version":"2.4.2","description":"","main":"index.js","scripts":{"dev":"npm run development","workers":"mix --mix-config=webpack.mix.workers.js","development":"mix","watch":"mix watch","watch:workers":"mix --mix-config=webpack.mix.workers.js watch","watch-poll":"mix watch -- --watch-options-poll=1000","hot":"mix watch --hot","prod":"npm run production","production":"mix --production"},"keywords":[],"author":"","license":"ISC","devDependencies":{"@babel/cli":"^7.26.4","@babel/core":"^7.26.0","@babel/preset-env":"^7.26.0","@types/axios":"^0.14.0","@types/dom-mediacapture-transform":"^0.1.2","@types/js-cookie":"^3.0.1","@types/uniqid":"^5.3.2","@types/uuid":"^9.0.7","axios":"^0.26.0","dotenv-webpack":"^8.0.1","js-cookie":"^3.0.1","laravel-mix":"^6.0.41","onnxruntime-web":"1.18.0","path":"^0.12.7","raw-loader":"^4.0.2","string-replace-loader":"^3.1.0","ts-loader":"^9.2.6","typedoc":"^0.22.13","typescript":"^4.5.5","uniqid":"^5.4.0","uuid":"^9.0.1","wasm-feature-detect":"^1.6.1"}}\');\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => (module[\'default\']) :\n/******/ \t\t\t\t() => (module);\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/global */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === \'object\') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function(\'return this\')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === \'object\') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n"use strict";\n/*!*****************************************!*\\\n  !*** ./src/workers/worker_processor.ts ***!\n  \\*****************************************/\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_buffers_ringBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/buffers/ringBuffer */ "./src/utils/buffers/ringBuffer.ts");\n/* harmony import */ var _utils_buffers_bufferPool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/buffers/bufferPool */ "./src/utils/buffers/bufferPool.ts");\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model */ "./src/model.ts");\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../settings */ "./src/settings.ts");\n/* harmony import */ var _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./postmessageTypes */ "./src/workers/postmessageTypes.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\nvar workletPort;\nvar processor;\nvar isReady = false;\nvar ringBuffer;\nvar ringOutputBuffer;\nvar bufferPool = new _utils_buffers_bufferPool__WEBPACK_IMPORTED_MODULE_1__.BufferPool();\nvar dbgDelay = 0;\nvar isProcessing = false;\nvar delayExecution = function delayExecution(timeoutMs) {\n  return new Promise(function (resolve, _) {\n    setTimeout(function () {\n      resolve();\n    }, timeoutMs);\n  });\n};\nvar onWorkletMessage = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (isReady) {\n            _context.next = 3;\n            break;\n          }\n          workletPort.postMessage({\n            frames: event.data.frames,\n            buffer: event.data.frames\n          }, [event.data.frames.buffer]);\n          return _context.abrupt("return");\n        case 3:\n          ringBuffer.push(event.data.frames);\n          bufferPool.returnBuffer(event.data.frames);\n          if (isProcessing) {\n            _context.next = 8;\n            break;\n          }\n          _context.next = 8;\n          return process();\n        case 8:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function onWorkletMessage(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar process = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var buffer, _buffer;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          isProcessing = true;\n        case 1:\n          if (!(ringBuffer.framesAvailable >= processor.getChunkSize())) {\n            _context2.next = 15;\n            break;\n          }\n          buffer = bufferPool.getBuffer(\'f32\', processor.getChunkSize());\n          ringBuffer.pull(buffer);\n          _context2.t0 = ringOutputBuffer;\n          _context2.next = 7;\n          return processor.run(buffer, buffer);\n        case 7:\n          _context2.t1 = _context2.sent;\n          _context2.t0.push.call(_context2.t0, _context2.t1);\n          bufferPool.returnBuffer(buffer);\n          if (!(dbgDelay > 0)) {\n            _context2.next = 13;\n            break;\n          }\n          _context2.next = 13;\n          return delayExecution(dbgDelay);\n        case 13:\n          _context2.next = 1;\n          break;\n        case 15:\n          if (ringOutputBuffer.framesAvailable > 0) {\n            _buffer = bufferPool.getBuffer(\'f32\', ringOutputBuffer.framesAvailable);\n            ringOutputBuffer.pull(_buffer);\n            workletPort.postMessage({\n              frames: _buffer,\n              buffer: _buffer\n            }, [_buffer.buffer]);\n          }\n          isProcessing = false;\n        case 17:\n        case "end":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function process() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar resetBuffers = function resetBuffers() {\n  ringBuffer = new _utils_buffers_ringBuffer__WEBPACK_IMPORTED_MODULE_0__.RingBuffer(512 * 40);\n  ringOutputBuffer = new _utils_buffers_ringBuffer__WEBPACK_IMPORTED_MODULE_0__.RingBuffer(512 * 40);\n};\nonmessage = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          if (event.data.type) {\n            _context3.next = 2;\n            break;\n          }\n          return _context3.abrupt("return");\n        case 2:\n          _context3.t0 = event.data.type;\n          _context3.next = _context3.t0 === _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.INIT ? 5 : _context3.t0 === _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.WORKLET_PORT ? 13 : _context3.t0 === _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.DENOISE_POWER ? 16 : _context3.t0 === _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.CLEAN ? 18 : _context3.t0 === _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.DBG_DELAY_PROCESSING ? 21 : 23;\n          break;\n        case 5:\n          if (!(processor && processor.getType() == event.data.preset)) {\n            _context3.next = 8;\n            break;\n          }\n          postMessage({\n            type: _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.PROCESSOR_READY\n          });\n          return _context3.abrupt("return");\n        case 8:\n          isReady = false;\n          processor = _model__WEBPACK_IMPORTED_MODULE_2__.ModelFactory.getModel(event.data.preset);\n          _settings__WEBPACK_IMPORTED_MODULE_3__.DefaultConfig.setConfig(event.data.config);\n          processor.init(_settings__WEBPACK_IMPORTED_MODULE_3__.DefaultConfig.CUSTOMER_ID, null).then(function () {\n            var buffer = new Float32Array(processor.getChunkSize()).fill(0);\n            return Promise.all([processor.run(buffer)]);\n          }).then(function () {\n            resetBuffers();\n            isReady = true;\n            postMessage({\n              type: _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.PROCESSOR_READY\n            });\n          })["catch"](function (e) {\n            postMessage({\n              type: _postmessageTypes__WEBPACK_IMPORTED_MODULE_4__.WORKER_PROCESSOR_POSTMESSAGE_TYPE.ERROR,\n              e: e\n            });\n          });\n          return _context3.abrupt("break", 24);\n        case 13:\n          workletPort = event.data.workletPort;\n          workletPort.onmessage = onWorkletMessage;\n          return _context3.abrupt("break", 24);\n        case 16:\n          if (processor) {\n            processor.setPower(parseFloat(event.data.power.value));\n          }\n          return _context3.abrupt("break", 24);\n        case 18:\n          resetBuffers();\n          processor.clear();\n          return _context3.abrupt("break", 24);\n        case 21:\n          dbgDelay = event.data.delayMs;\n          return _context3.abrupt("break", 24);\n        case 23:\n          console.log("Not supported message type: ".concat(event.data.type));\n        case 24:\n        case "end":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function onmessage(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n})();\n\n/******/ })()\n;');return this._worker=e.getWorker(),this._worker.onmessage=this.onWorkerMessage.bind(this),this.initWorkerProcesssor(this._modelMeta.getType(),v.getConfig());}},{key:"initWorkerProcesssor",value:(o=Et(Tt().mark(function t(n,r){return Tt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._worker){t.next=2;break;}return t.abrupt("return");case 2:return this._workerInitReplyWaiter=new dt(),this._worker.postMessage({type:e.INIT,preset:n,config:r}),t.abrupt("return",this._workerInitReplyWaiter.promise);case 5:case"end":return t.stop();}},t,this);})),function(e,t){return o.apply(this,arguments);})},{key:"onWorkerMessage",value:function(t){var r,o,i,a;if(t.data.type)switch(t.data.type){case e.PROCESSOR_READY:n.P1.notify({type:n.NI.INFO,message:"Audio processor inited",emitter:n.kF.WORKER}),null===(r=this._workerInitReplyWaiter)||void 0===r||r.resolve(),this._workerInitReplyWaiter=void 0;break;case e.ERROR:var s=t.data.e;n.P1.notify({message:null!==(i=null!==(o=s.message)&&void 0!==o?o:s)&&void 0!==i?i:"Error",emitter:n.kF.WORKER,cause:s}),null===(a=this._workerInitReplyWaiter)||void 0===a||a.resolve(),this._workerInitReplyWaiter=void 0;}}},{key:"setDenoisePower",value:function(t){var n;null===(n=this._worker)||void 0===n||n.postMessage({type:e.DENOISE_POWER,power:t});}},{key:"start",value:function(){var e;null===(e=this._worklet)||void 0===e||e.startProcessing();}},{key:"stop",value:function(){var t,n;null===(t=this._worklet)||void 0===t||t.stopProcessing(),null===(n=this._worker)||void 0===n||n.postMessage({type:e.CLEAN});}},{key:"pushSilence",value:function(e){var t;null===(t=this._worklet)||void 0===t||t.pushSilence(e);}},{key:"setDBGDelay",value:function(t){var n;null===(n=this._worker)||void 0===n||n.postMessage({type:e.DBG_DELAY_PROCESSING,delayMs:t});}},{key:"destroy",value:function(){var e,t,n,r,o;null===(e=this._worklet)||void 0===e||e.disconnect(this._destinationStream),this._worklet&&(null===(t=this._sourceStream)||void 0===t||t.disconnect(this._worklet)),null===(n=this._worker)||void 0===n||n.terminate(),null===(r=this._workerInitReplyWaiter)||void 0===r||r.resolve(),null===(o=this._context)||void 0===o||o.close(),this._worklet=void 0,this._sourceStream=void 0,this._worker=void 0,this._workerInitReplyWaiter=void 0,this._context=void 0;}}]);var o,i,a,s,u,l,c,p;}(function(){return Pt(function e(){St(this,e),this._modelSampleRate=16e3;},[{key:"init",value:(t=Et(Tt().mark(function e(t){var r;return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this._outputStream)||void 0===r||r.getAudioTracks().forEach(function(e){e.stop();}),this._outputStream=void 0,this._modelSampleRate=v.SAMPLE_RATE,n.P1.notify({type:n.NI.INFO,message:"Start to init preset: ".concat(v.PRESET,". Sample rate: ").concat(v.SAMPLE_RATE,"Hz"),emitter:n.kF.STREAM_PROCESSOR}),this._modelMeta=lt.getModel(v.PRESET),this._modelMeta.isSampleRateSupported(this._modelSampleRate)){e.next=7;break;}throw new Error("This model doesn't suppport requested sample rate");case 7:t instanceof MediaStream&&(this._originalStream=t),t instanceof MediaStreamTrack&&(this._originalStream=new MediaStream([t]));case 9:case"end":return e.stop();}},e,this);})),function(e){return t.apply(this,arguments);})},{key:"setPreset",value:(e=Et(Tt().mark(function e(t,r){var o;return Tt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.P1.notify({type:n.NI.INFO,message:"Setting preset: ".concat(t,". Sample rate: ").concat(r),emitter:n.kF.STREAM_PROCESSOR}),(o=lt.getModel(t)).isSampleRateSupported(r)){e.next=5;break;}return n.P1.notify({type:n.NI.ERROR,message:"This model doesn't suppport requested sample rate: ".concat(r),emitter:n.kF.STREAM_PROCESSOR}),e.abrupt("return");case 5:this._modelMeta=o,v.PRESET=t,v.SAMPLE_RATE=r,this._modelSampleRate=r;case 9:case"end":return e.stop();}},e,this);})),function(t,n){return e.apply(this,arguments);})},{key:"setAudioContext",value:function(e){}},{key:"setDenoisePower",value:function(e){}},{key:"getInputAudioTrack",value:function(){return this._originalStream?this._originalStream.getAudioTracks()[0]:null;}},{key:"preload",value:function(){}},{key:"getStream",value:function(){return this._outputStream||(this._outputStream=new MediaStream()),this._outputStream;}},{key:"getAudioTrack",value:function(){return this._outputStream?this._outputStream.getAudioTracks()[0]:null;}},{key:"destroy",value:function(){}},{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"suspend",value:function(){}},{key:"resume",value:function(){}},{key:"pushSilence",value:function(e){}},{key:"setDBGDelay",value:function(e){}}]);var e,t;}())},Bt=function(){return Pt(function e(){St(this,e);},null,[{key:"getStreamProcessor",value:function(e){return new Rt[e]();}}]);}();function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e;}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e;},Dt(e);}function Ft(){Ft=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value;},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{l({},"");}catch(e){l=function(e,t,n){return e[t]=n;};}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(e,n,s)}),a;}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(e){return{type:"throw",arg:e};}}t.wrap=c;var p="suspendedStart",d="suspendedYield",h="executing",g="completed",m={};function y(){}function b(){}function _(){}var v={};l(v,a,function(){return this;});var w=Object.getPrototypeOf,I=w&&w(w(k([])));I&&I!==n&&r.call(I,a)&&(v=I);var x=_.prototype=y.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e);});});}function T(e,t){function n(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Dt(c)&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(c).then(function(e){l.value=e,a(l);},function(e){return n("throw",e,a,s);});}s(u.arg);}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o);});}return i=i?i.then(o,o):o();}});}function C(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0};}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?g:d,l.arg===m)continue;return{value:l.arg,done:r.done};}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg);}};}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0);}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n;};return i.next=i;}}throw new TypeError(Dt(t)+" is not iterable");}return b.prototype=_,o(x,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},A(T.prototype),l(T.prototype,s,function(){return this;}),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},A(x),l(x,u,"Generator"),l(x,a,function(){return this;}),l(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o;}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc);}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break;}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n);}return o;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m;}},t;}function Nt(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value;}catch(e){return void n(e);}s.done?t(u):Promise.resolve(u).then(r,o);}function Lt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Nt(i,r,o,a,s,"next",e);}function s(e){Nt(i,r,o,a,s,"throw",e);}a(void 0);});};}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mt(r.key),r);}}function Mt(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==Dt(t)?t:t+"";}v.getCurrentPath(),v.setWasmPath(),v.setVersion();var $t=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}(this,e),this._loader=new K(),this._isRunning=!1,t&&(v.CUSTOMER_ID=t,N.getInstance().getUID()),this.streamProcessor=Bt.getStreamProcessor("worklet");},t=[{key:"config",value:function(e){e.hasOwnProperty("app_env")&&(v.APP_ENV=e.app_env),e.hasOwnProperty("api_url")&&(v.API_URL=e.api_url),e.hasOwnProperty("sdk_url")&&(v.SDK_URL=e.sdk_url),e.hasOwnProperty("preset")&&(v.PRESET=e.preset),e.hasOwnProperty("sample_rate")&&(v.SAMPLE_RATE=e.sample_rate),e.hasOwnProperty("customer_id")&&(v.CUSTOMER_ID=e.customer_id),e.hasOwnProperty("wasmPaths")&&Object.keys(e.wasmPaths).length&&(v.WASM_PATHS=e.wasmPaths),e.hasOwnProperty("cacheModels")&&(v.CACHE_MODELS=e.cacheModels),e.hasOwnProperty("processingChunk")&&(v.PROCESSING_CHUNK_MS=e.processingChunk);}},{key:"init",value:(c=Lt(Ft().mark(function e(t){var n;return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._currentInitialization,this._currentInitialization=this.initImpl(t,n),e.next=4,this._currentInitialization;case 4:case"end":return e.stop();}},e,this);})),function(e){return c.apply(this,arguments);})},{key:"initImpl",value:(l=Lt(Ft().mark(function e(t,r){var o,i;return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:return i=this._isRunning,this.stop(),e.prev=4,e.next=7,this.streamProcessor.init(t);case 7:i&&this.run(),this.onReady&&this.onReady(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.P1.notify({message:null!==(o=e.t0.message)&&void 0!==o?o:e.t0,emitter:n.kF.STREAM_PROCESSOR,cause:e.t0});case 14:case"end":return e.stop();}},e,this,[[4,11]]);})),function(e,t){return l.apply(this,arguments);})},{key:"clearCache",value:(u=Lt(Ft().mark(function e(){return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._loader.delete();case 1:case"end":return e.stop();}},e,this);})),function(){return u.apply(this,arguments);})},{key:"preload",value:(s=Lt(Ft().mark(function e(){return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.streamProcessor.preload();case 1:case"end":return e.stop();}},e,this);})),function(){return s.apply(this,arguments);})},{key:"setAudioContext",value:(a=Lt(Ft().mark(function e(t){return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.streamProcessor.setAudioContext(t);case 1:case"end":return e.stop();}},e,this);})),function(e){return a.apply(this,arguments);})},{key:"setPreset",value:(i=Lt(Ft().mark(function e(t,r){var o;return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.streamProcessor){e.next=3;break;}return n.P1.notify({type:n.NI.ERROR,message:"StreamProcessor is not initialized",emitter:n.kF.ATSVB}),e.abrupt("return");case 3:return o=this._currentInitialization,this._currentInitialization=this.setPresetImpl(t,r,o),e.next=7,this._currentInitialization;case 7:case"end":return e.stop();}},e,this);})),function(e,t){return i.apply(this,arguments);})},{key:"setPresetImpl",value:(o=Lt(Ft().mark(function e(t,r,o){var i,a;return Ft().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return a=this._isRunning,this.stop(),e.prev=4,e.next=7,this.streamProcessor.setPreset(t,r);case 7:a&&this.run(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n.P1.notify({message:null!==(i=e.t0.message)&&void 0!==i?i:e.t0,emitter:n.kF.STREAM_PROCESSOR,cause:e.t0});case 13:case"end":return e.stop();}},e,this,[[4,10]]);})),function(e,t,n){return o.apply(this,arguments);})},{key:"useStream",value:function(e){e.getAudioTracks()[0]?this.init(e):n.P1.notify({message:"There is no input audioTrack to process",emitter:n.kF.ATSVB});}},{key:"setDenoisePower",value:function(e){this.streamProcessor?this.streamProcessor.setDenoisePower(e):n.P1.notify({type:n.NI.ERROR,message:"StreamProcessor is not initialized",emitter:n.kF.ATSVB});}},{key:"useAudioTrack",value:function(e){this.init(e);}},{key:"getCustomerId",value:function(){return v.CUSTOMER_ID;}},{key:"getStream",value:function(){return this.streamProcessor.getStream();}},{key:"getAudioTrack",value:function(){var e;return null===(e=this.streamProcessor.getStream())||void 0===e?void 0:e.getAudioTracks()[0];}},{key:"clear",value:function(){this.streamProcessor&&this.streamProcessor.destroy();}},{key:"run",value:function(){var e;this._isRunning=!0,null===(e=this.streamProcessor)||void 0===e||e.start();}},{key:"stop",value:function(){var e;this._isRunning=!1,null===(e=this.streamProcessor)||void 0===e||e.stop();}},{key:"suspend",value:function(){if(!this.streamProcessor)return!1;this.streamProcessor.suspend();}},{key:"resume",value:function(){if(!this.streamProcessor)return!1;this.streamProcessor.resume();}},{key:"onError",value:function(e){n.P1.subscribe(e);}},{key:"dbg",value:function(e){var t,n,r,o,i,a=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null;if("push_silence"===a){var s=null!==(n=e.durationMs)&&void 0!==n?n:0;s>0&&(null===(r=this.streamProcessor)||void 0===r||r.pushSilence(s));}if("set_dbg_delay"==a){var u=null!==(o=e.delayMs)&&void 0!==o?o:0;null===(i=this.streamProcessor)||void 0===i||i.setDBGDelay(u);}}}],t&&Ut(e.prototype,t),r&&Ut(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,o,i,a,s,u,l,c;}();})();var __webpack_exports__atsvb=__webpack_exports__.i;export{__webpack_exports__atsvb as atsvb};
